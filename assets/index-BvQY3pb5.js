function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r={exports:{}},o={};var i,l,s=(n||(n=1,r.exports=function(){if(t)return o;t=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(t,n,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:o,ref:void 0!==n?n:null,props:r}}return o.Fragment=n,o.jsx=r,o.jsxs=r,o}()),r.exports),a={exports:{}},u={};function c(){if(i)return u;i=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function E(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=E.prototype=new b;S.constructor=E,g(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray;function _(){}var T={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(t,n,r){var o=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==o?o:null,props:r}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var x=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function O(n,r,o,i,l){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var a,u,c=!1;if(null===n)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;break;case p:return O((c=n._init)(n._payload),r,o,i,l)}}if(c)return l=l(n),c=""===i?"."+k(n,0):i,w(l)?(o="",null!=c&&(o=c.replace(x,"$&/")+"/"),O(l,r,o,"",function(e){return e})):null!=l&&(A(l)&&(a=l,u=o+(null==l.key||n&&n.key===l.key?"":(""+l.key).replace(x,"$&/")+"/")+c,l=I(a.type,u,a.props)),r.push(l)),1;c=0;var d,f=""===i?".":i+":";if(w(n))for(var m=0;m<n.length;m++)c+=O(i=n[m],r,o,s=f+k(i,m),l);else if("function"==typeof(m=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(n=m.call(n),m=0;!(i=n.next()).done;)c+=O(i=i.value,r,o,s=f+k(i,m++),l);else if("object"===s){if("function"==typeof n.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,o,i,l);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},D={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return u.Activity=f,u.Children=D,u.Component=v,u.Fragment=n,u.Profiler=o,u.PureComponent=E,u.StrictMode=r,u.Suspense=c,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,u.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},u.cache=function(e){return function(){return e.apply(null,arguments)}},u.cacheSignal=function(){return null},u.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+2];r.children=l}return I(e.type,o,r)},u.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},u.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var s=Array(l),a=0;a<l;a++)s[a]=arguments[a+2];o.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return I(e,i,o)},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:a,render:e}},u.isValidElement=A,u.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},u.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),o=T.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,P)}catch(i){P(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},u.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},u.use=function(e){return T.H.use(e)},u.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},u.useCallback=function(e,t){return T.H.useCallback(e,t)},u.useContext=function(e){return T.H.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},u.useEffect=function(e,t){return T.H.useEffect(e,t)},u.useEffectEvent=function(e){return T.H.useEffectEvent(e)},u.useId=function(){return T.H.useId()},u.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},u.useMemo=function(e,t){return T.H.useMemo(e,t)},u.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},u.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},u.useRef=function(e){return T.H.useRef(e)},u.useState=function(e){return T.H.useState(e)},u.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},u.useTransition=function(){return T.H.useTransition()},u.version="19.2.4",u}function d(){return l||(l=1,a.exports=c()),a.exports}var p=d();const f=e(p);var h,m,g={exports:{}},y={},v={exports:{}},b={};function E(){return m||(m=1,v.exports=(h||(h=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var s=2*(r+1)-1,a=e[s],u=s+1,c=e[u];if(0>o(a,n))u<i&&0>o(c,a)?(e[r]=c,e[u]=n,r=u):(e[r]=a,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(a,o)}o=n(u)}}function S(e){if(m=!1,E(e),!h)if(null!==n(a))h=!0,_||(_=!0,w());else{var t=n(u);null!==t&&N(S,t.startTime-e)}}var w,_=!1,T=-1,C=5,I=-1;function A(){return!(!g&&e.unstable_now()-I<C)}function x(){if(g=!1,_){var t=e.unstable_now();I=t;var o=!0;try{e:{h=!1,m&&(m=!1,v(T),T=-1),f=!0;var i=p;try{t:{for(E(t),d=n(a);null!==d&&!(d.expirationTime>t&&A());){var l=d.callback;if("function"==typeof l){d.callback=null,p=d.priorityLevel;var s=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,E(t),o=!0;break t}d===n(a)&&r(a),E(t)}else r(a);d=n(a)}if(null!==d)o=!0;else{var c=n(u);null!==c&&N(S,c.startTime-t),o=!1}}break e}finally{d=null,p=i,f=!1}o=void 0}}finally{o?w():_=!1}}}if("function"==typeof b)w=function(){b(x)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,O=k.port2;k.port1.onmessage=x,w=function(){O.postMessage(null)}}else w=function(){y(x,0)};function N(t,n){T=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,i){var l=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>l?(r.sortIndex=i,t(u,r),null===n(a)&&r===n(u)&&(m?(v(T),T=-1):m=!0,N(S,i-l))):(r.sortIndex=s,t(a,r),h||f||(h=!0,_||(_=!0,w()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(b)),b)),v.exports}var S,w,_,T,C={exports:{}},I={};function A(){if(S)return I;S=1;var e=d();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return I.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,I.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},I.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},I.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},I.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},I.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:o,integrity:i,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},I.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},I.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},I.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},I.requestFormReset=function(e){r.d.r(e)},I.unstable_batchedUpdates=function(e,t){return e(t)},I.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},I.useFormStatus=function(){return i.H.useHostTransitionStatus()},I.version="19.2.4",I}function x(){if(_)return y;_=1;var e=E(),t=d(),n=(w||(w=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),C.exports=A()),C.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function s(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function a(e){if(i(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case I:return"Suspense";case x:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case S:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var U=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},H=[],G=-1;function z(e){return{current:e}}function V(e){0>G||(e.current=H[G],H[G]=null,G--)}function B(e,t){G++,H[G]=e.current,e.current=t}var $,J,W=z(null),Y=z(null),K=z(null),Q=z(null);function X(e,t){switch(B(K,t),B(Y,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=Sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(W),B(W,e)}function Z(){V(W),V(Y),V(K)}function ee(e){null!==e.memoizedState&&B(Q,e);var t=W.current,n=wd(t,e.type);t!==n&&(B(Y,e),B(W,n))}function te(e){Y.current===e&&(V(W),V(Y)),Q.current===e&&(V(Q),hp._currentValue=q)}function ne(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||"",J=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$+e+J}var re=!1;function oe(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"==typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],s=i[1];if(l&&s){var a=l.split("\n"),u=s.split("\n");for(o=r=0;r<a.length&&!a[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===a.length||o===u.length)for(r=a.length-1,o=u.length-1;1<=r&&0<=o&&a[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(a[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||a[r]!==u[o]){var c="\n"+a[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{re=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ne(n):""}function ie(e,t){switch(e.tag){case 26:case 27:case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return e.child!==t&&null!==t?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return oe(e.type,!1);case 11:return oe(e.type.render,!1);case 1:return oe(e.type,!0);case 31:return ne("Activity");default:return""}}function le(e){try{var t="",n=null;do{t+=ie(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var se=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,ce=e.unstable_shouldYield,de=e.unstable_requestPaint,pe=e.unstable_now,fe=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,ge=e.unstable_NormalPriority,ye=e.unstable_LowPriority,ve=e.unstable_IdlePriority,be=e.log,Ee=e.unstable_setDisableYieldValue,Se=null,we=null;function _e(e){if("function"==typeof be&&Ee(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(Se,e)}catch(t){}}var Te=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/Ie|0)|0},Ce=Math.log,Ie=Math.LN2;var Ae=256,xe=262144,ke=4194304;function Oe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?o=Oe(r):0!==(l&=s)?o=Oe(l):n||0!==(n=s&~e)&&(o=Oe(n)):0!==(s=r&~i)?o=Oe(s):0!==l?o=Oe(l):n||0!==(n=r&~e)&&(o=Oe(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function Re(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=ke;return!(62914560&(ke<<=1))&&(ke=4194304),e}function Me(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ue(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Te(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Te(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fe(e,t){var n=t&-t;return 0!==((n=42&n?1:qe(n))&(e.suspendedLanes|t))?0:n}function qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function He(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ge(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:Op(e.type)}function ze(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var Ve=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ve,$e="__reactProps$"+Ve,Je="__reactContainer$"+Ve,We="__reactEvents$"+Ve,Ye="__reactListeners$"+Ve,Ke="__reactHandles$"+Ve,Qe="__reactResources$"+Ve,Xe="__reactMarker$"+Ve;function Ze(e){delete e[Be],delete e[$e],delete e[We],delete e[Ye],delete e[Ke]}function et(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Je]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qd(e);null!==e;){if(n=e[Be])return n;e=qd(e)}return t}n=(e=n).parentNode}return null}function tt(e){if(e=e[Be]||e[Je]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function nt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function rt(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Xe]=!0}var it=new Set,lt={};function st(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(lt[e]=t,e=0;e<t.length;e++)it.add(t[e])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ct={},dt={};function pt(e,t,n){if(o=t,se.call(dt,o)||!se.call(ct,o)&&(ut.test(o)?dt[o]=!0:(ct[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ft(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function gt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function yt(e){if(!e._valueTracker){var t=gt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function bt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Et=/[\n"\\]/g;function St(e){return e.replace(Et,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,o,i,l,s){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?Tt(e,l,mt(t)):null!=n?Tt(e,l,mt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+mt(s):e.removeAttribute("name")}function _t(e,t,n,r,o,i,l,s){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void yt(e);n=null!=n?""+mt(n):"",t=null!=t?""+mt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),yt(e)}function Tt(e,t,n){"number"===t&&bt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ct(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function It(e,t,n){null==t||((t=""+mt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+mt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(r(92));if(U(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=mt(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o),yt(e)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&Ot(e,i,o)}else for(var l in t)t.hasOwnProperty(l)&&Ot(e,l,t[l])}function Rt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var Ut=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ft=null,qt=null;function Ht(e){var t=tt(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[$e]||null;if(!i)throw Error(r(90));wt(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&vt(o)}break e;case"textarea":It(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Ct(e,!!n.multiple,t,!1)}}}var Gt=!1;function zt(e,t,n){if(Gt)return e(t,n);Gt=!0;try{return e(t)}finally{if(Gt=!1,(null!==Ft||null!==qt)&&(rc(),Ft&&(t=Ft,e=qt,qt=Ft=null,Ht(t),e)))for(t=0;t<e.length;t++)Ht(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[$e]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Bt)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch(tf){$t=!1}var Wt=null,Yt=null,Kt=null;function Qt(){if(Kt)return Kt;var e,t,n=Yt,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return Kt=o.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Zt:en,this.isPropagationStopped=en,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=tn(ln),an=c({},ln,{view:0,detail:0}),un=tn(an),cn=c({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),dn=tn(cn),pn=tn(c({},cn,{dataTransfer:0})),fn=tn(c({},an,{relatedTarget:0})),hn=tn(c({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=tn(c({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gn=tn(c({},ln,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function Sn(){return En}var wn=tn(c({},an,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=tn(c({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=tn(c({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Cn=tn(c({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=tn(c({},cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=tn(c({},ln,{newState:0,oldState:0})),xn=[9,13,27,32],kn=Bt&&"CompositionEvent"in window,On=null;Bt&&"documentMode"in document&&(On=document.documentMode);var Nn=Bt&&"TextEvent"in window&&!On,Rn=Bt&&(!kn||On&&8<On&&11>=On),Pn=String.fromCharCode(32),Dn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function qn(e,t,n,r){Ft?qt?qt.push(r):qt=[r]:Ft=r,0<(t=sd(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function zn(e){Zc(e,0)}function Vn(e){if(vt(nt(e)))return e}function Bn(e,t){if("change"===e)return t}var $n=!1;if(Bt){var Jn;if(Bt){var Wn="oninput"in document;if(!Wn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Wn="function"==typeof Yn.oninput}Jn=Wn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function Kn(){Hn&&(Hn.detachEvent("onpropertychange",Qn),Gn=Hn=null)}function Qn(e){if("value"===e.propertyName&&Vn(Gn)){var t=[];qn(t,Gn,e,jt(e)),zt(zn,t)}}function Xn(e,t,n){"focusin"===e?(Kn(),Gn=n,(Hn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Kn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Gn)}function er(e,t){if("click"===e)return Vn(t)}function tr(e,t){if("input"===e||"change"===e)return Vn(t)}var nr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function rr(e,t){if(nr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!se.call(t,o)||!nr(e[o],t[o]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sr(e){for(var t=bt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=bt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ur=Bt&&"documentMode"in document&&11>=document.documentMode,cr=null,dr=null,pr=null,fr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==cr||cr!==bt(r)||("selectionStart"in(r=cr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&rr(pr,r)||(pr=r,0<(r=sd(dr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},yr={},vr={};function br(e){if(yr[e])return yr[e];if(!gr[e])return e;var t,n=gr[e];for(t in n)if(n.hasOwnProperty(t)&&t in vr)return yr[e]=n[t];return e}Bt&&(vr=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);var Er=br("animationend"),Sr=br("animationiteration"),wr=br("animationstart"),_r=br("transitionrun"),Tr=br("transitionstart"),Cr=br("transitioncancel"),Ir=br("transitionend"),Ar=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Ar.set(e,t),st(t,[e])}xr.push("scrollEnd");var Or="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Nr=[],Rr=0,Pr=0;function Dr(){for(var e=Rr,t=Pr=Rr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var o=Nr[t];Nr[t++]=null;var i=Nr[t];if(Nr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&jr(n,o,i)}}function Mr(e,t,n,r){Nr[Rr++]=e,Nr[Rr++]=t,Nr[Rr++]=n,Nr[Rr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Mr(e,t,n,r),Fr(e)}function Ur(e,t){return Mr(e,null,null,t),Fr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-Te(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Fr(e){if(50<Wu)throw Wu=0,Yu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var qr={};function Hr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,n,r){return new Hr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Gr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,o,i,l){var s=0;if(o=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Gr(31,n,t,i)).elementType=N,e.lanes=l,e;case m:return Jr(n.children,i,l,t);case g:s=8,i|=24;break;case v:return(e=Gr(12,n,t,2|i)).elementType=v,e.lanes=l,e;case I:return(e=Gr(13,n,t,i)).elementType=I,e.lanes=l,e;case x:return(e=Gr(19,n,t,i)).elementType=x,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case b:s=9;break e;case T:s=11;break e;case k:s=14;break e;case O:s=16,o=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),o=null}return(t=Gr(s,n,t,i)).elementType=e,t.type=o,t.lanes=l,t}function Jr(e,t,n,r){return(e=Gr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Gr(6,e,null,t)).lanes=n,e}function Yr(e){var t=Gr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Gr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Xr(e,t){if("object"==typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:le(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:le(t)}}var Zr=[],eo=0,to=null,no=0,ro=[],oo=0,io=null,lo=1,so="";function ao(e,t){Zr[eo++]=no,Zr[eo++]=to,to=e,no=t}function uo(e,t,n){ro[oo++]=lo,ro[oo++]=so,ro[oo++]=io,io=e;var r=lo;e=so;var o=32-Te(r)-1;r&=~(1<<o),n+=1;var i=32-Te(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,lo=1<<32-Te(t)+o|n<<o|r,so=i+e}else lo=1<<i|n<<o|r,so=e}function co(e){null!==e.return&&(ao(e,1),uo(e,1,0))}function po(e){for(;e===to;)to=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null;for(;e===io;)io=ro[--oo],ro[oo]=null,so=ro[--oo],ro[oo]=null,lo=ro[--oo],ro[oo]=null}function fo(e,t){ro[oo++]=lo,ro[oo++]=so,ro[oo++]=io,lo=t.id,so=t.overflow,io=e}var ho=null,mo=null,go=!1,yo=null,vo=!1,bo=Error(r(519));function Eo(e){throw Io(Xr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),bo}function So(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[$e]=r,n){case"dialog":ed("cancel",t),ed("close",t);break;case"iframe":case"object":case"embed":ed("load",t);break;case"video":case"audio":for(n=0;n<Qc.length;n++)ed(Qc[n],t);break;case"source":ed("error",t);break;case"img":case"image":case"link":ed("error",t),ed("load",t);break;case"details":ed("toggle",t);break;case"input":ed("invalid",t),_t(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ed("invalid",t);break;case"textarea":ed("invalid",t),At(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||fd(t.textContent,n)?(null!=r.popover&&(ed("beforetoggle",t),ed("toggle",t)),null!=r.onScroll&&ed("scroll",t),null!=r.onScrollEnd&&ed("scrollend",t),null!=r.onClick&&(t.onclick=Lt),t=!0):t=!1,t||Eo(e,!0)}function wo(e){for(ho=e.return;ho;)switch(ho.tag){case 5:case 31:case 13:return void(vo=!1);case 27:case 3:return void(vo=!0);default:ho=ho.return}}function _o(e){if(e!==ho)return!1;if(!go)return wo(e),go=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&mo&&Eo(e),wo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mo=Fd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mo=Fd(e)}else 27===n?(n=mo,Od(e.type)?(e=jd,jd=null,mo=e):mo=n):mo=ho?Ud(e.stateNode.nextSibling):null;return!0}function To(){mo=ho=null,go=!1}function Co(){var e=yo;return null!==e&&(null===Du?Du=e:Du.push.apply(Du,e),yo=null),e}function Io(e){null===yo?yo=[e]:yo.push(e)}var Ao=z(null),xo=null,ko=null;function Oo(e,t,n){B(Ao,t._currentValue),t._currentValue=n}function No(e){e._currentValue=Ao.current,V(Ao)}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var l=i.dependencies;if(null!==l){var s=i.child;l=l.firstContext;e:for(;null!==l;){var a=l;l=i;for(var u=0;u<t.length;u++)if(a.context===t[u]){l.lanes|=n,null!==(a=l.alternate)&&(a.lanes|=n),Ro(l.return,n,e),o||(s=null);break e}l=a.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ro(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Do(e,t,n,o){e=null;for(var i=t,l=!1;null!==i;){if(!l)if(524288&i.flags)l=!0;else if(262144&i.flags)break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var a=i.type;nr(i.pendingProps.value,s.value)||(null!==e?e.push(a):e=[a])}}else if(i===Q.current){if(null===(s=i.alternate))throw Error(r(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hp):e=[hp])}i=i.return}null!==e&&Po(t,e,n,o),t.flags|=262144}function Mo(e){for(e=e.firstContext;null!==e;){if(!nr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lo(e){xo=e,ko=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Uo(e){return Fo(xo,e)}function jo(e,t){return null===xo&&Lo(e),Fo(e,t)}function Fo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ko){if(null===e)throw Error(r(308));ko=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ko=ko.next=t;return n}var qo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ho=e.unstable_scheduleCallback,Go=e.unstable_NormalPriority,zo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new qo,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&Ho(Go,function(){e.controller.abort()})}var $o=null,Jo=0,Wo=0,Yo=null;function Ko(){if(0===--Jo&&null!==$o){null!==Yo&&(Yo.status="fulfilled");var e=$o;$o=null,Wo=0,Yo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qo=j.S;j.S=function(e,t){Uu=pe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===$o){var n=$o=[];Jo=0,Wo=$c(),Yo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Jo++,t.then(Ko,Ko)}(0,t),null!==Qo&&Qo(e,t)};var Xo=z(null);function Zo(){var e=Xo.current;return null!==e?e:vu.pooledCache}function ei(e,t){B(Xo,null===t?Xo.current:t.pool)}function ti(){var e=Zo();return null===e?null:{parent:zo._currentValue,pool:e}}var ni=Error(r(460)),ri=Error(r(474)),oi=Error(r(542)),ii={then:function(){}};function li(e){return"fulfilled"===(e=e.status)||"rejected"===e}function si(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw di(e=t.reason),e;default:if("string"==typeof t.status)t.then(Lt,Lt);else{if(null!==(e=vu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw di(e=t.reason),e}throw ui=t,ni}}function ai(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ui=t,ni;throw t}}var ui=null;function ci(){if(null===ui)throw Error(r(459));var e=ui;return ui=null,e}function di(e){if(e===ni||e===oi)throw Error(r(483))}var pi=null,fi=0;function hi(e){var t=fi;return fi+=1,null===pi&&(pi=[]),si(pi,e,t)}function mi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function gi(e,t){if(t.$$typeof===p)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&ai(o)===t.type)?(mi(t=i(t,n.props),n),t.return=e,t):(mi(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Jr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return mi(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Kr(t,e.mode,n)).return=e,t;case O:return p(e,t=ai(t),n)}if(U(t)||D(t))return(t=Jr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,hi(t),n);if(t.$$typeof===S)return p(e,jo(e,t),n);gi(e,t)}return null}function g(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?u(e,t,n,r):null;case h:return n.key===o?c(e,t,n,r):null;case O:return g(e,t,n=ai(n),r)}if(U(n)||D(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,hi(n),r);if(n.$$typeof===S)return g(e,t,jo(e,n),r);gi(e,n)}return null}function y(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return a(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return y(e,t,n,r=ai(r),o)}if(U(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return y(e,t,n,hi(r),o);if(r.$$typeof===S)return y(e,t,n,jo(t,r),o);gi(t,r)}return null}function v(a,u,c,d){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===m){if(7===u.tag){n(a,u.sibling),(d=i(u,c.props.children)).return=a,a=d;break e}}else if(u.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===O&&ai(b)===u.type){n(a,u.sibling),mi(d=i(u,c.props),c),d.return=a,a=d;break e}n(a,u);break}t(a,u),u=u.sibling}c.type===m?((d=Jr(c.props.children,a.mode,d,c.key)).return=a,a=d):(mi(d=$r(c.type,c.key,c.props,null,a.mode,d),c),d.return=a,a=d)}return s(a);case h:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(a,u.sibling),(d=i(u,c.children||[])).return=a,a=d;break e}n(a,u);break}t(a,u),u=u.sibling}(d=Kr(c,a.mode,d)).return=a,a=d}return s(a);case O:return v(a,u,c=ai(c),d)}if(U(c))return function(r,i,s,a){for(var u=null,c=null,d=i,f=i=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var m=g(r,d,s[f],a);if(null===m){null===d&&(d=h);break}e&&d&&null===m.alternate&&t(r,d),i=l(m,i,f),null===c?u=m:c.sibling=m,c=m,d=h}if(f===s.length)return n(r,d),go&&ao(r,f),u;if(null===d){for(;f<s.length;f++)null!==(d=p(r,s[f],a))&&(i=l(d,i,f),null===c?u=d:c.sibling=d,c=d);return go&&ao(r,f),u}for(d=o(d);f<s.length;f++)null!==(h=y(d,r,f,s[f],a))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),i=l(h,i,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(r,e)}),go&&ao(r,f),u}(a,u,c,d);if(D(c)){if("function"!=typeof(b=D(c)))throw Error(r(150));return function(i,s,a,u){if(null==a)throw Error(r(151));for(var c=null,d=null,f=s,h=s=0,m=null,v=a.next();null!==f&&!v.done;h++,v=a.next()){f.index>h?(m=f,f=null):m=f.sibling;var b=g(i,f,v.value,u);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(i,f),s=l(b,s,h),null===d?c=b:d.sibling=b,d=b,f=m}if(v.done)return n(i,f),go&&ao(i,h),c;if(null===f){for(;!v.done;h++,v=a.next())null!==(v=p(i,v.value,u))&&(s=l(v,s,h),null===d?c=v:d.sibling=v,d=v);return go&&ao(i,h),c}for(f=o(f);!v.done;h++,v=a.next())null!==(v=y(f,i,h,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),s=l(v,s,h),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),go&&ao(i,h),c}(a,u,c=b.call(c),d)}if("function"==typeof c.then)return v(a,u,hi(c),d);if(c.$$typeof===S)return v(a,u,jo(a,c),d);gi(a,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(a,u.sibling),(d=i(u,c)).return=a,a=d):(n(a,u),(d=Wr(c,a.mode,d)).return=a,a=d),s(a)):n(a,u)}return function(e,t,n,r){try{fi=0;var o=v(e,t,n,r);return pi=null,o}catch(l){if(l===ni||l===oi)throw l;var i=Gr(29,l,null,e.mode);return i.lanes=r,i.return=e,i}}}var vi=yi(!0),bi=yi(!1),Ei=!1;function Si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&yu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Fr(e),jr(e,null,n),t}return Mr(e,r,t,n),Fr(e)}function Ci(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function Ii(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ai=!1;function xi(){if(Ai){if(null!==Yo)throw Yo}}function ki(e,t,n,r){Ai=!1;var o=e.updateQueue;Ei=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var a=s,u=a.next;a.next=null,null===l?i=u:l.next=u,l=a;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===s?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=a))}if(null!==i){var p=o.baseState;for(l=0,d=u=a=null,s=i;;){var f=-536870913&s.lane,h=f!==s.lane;if(h?(Eu&f)===f:(r&f)===f){0!==f&&f===Wo&&(Ai=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(y,p,f);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,p,f):m))break e;p=c({},p,f);break e;case 2:Ei=!0}}null!==(f=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=h,a=p):d=d.next=h,l|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===d&&(a=p),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,null===i&&(o.shared.lanes=0),xu|=l,e.lanes=l,e.memoizedState=p}}function Oi(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ni(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Oi(n[e],t)}var Ri=z(null),Pi=z(0);function Di(e,t){B(Pi,e=Iu),B(Ri,t),Iu=e|t.baseLanes}function Mi(){B(Pi,Iu),B(Ri,Ri.current)}function Li(){Iu=Pi.current,V(Ri),V(Pi)}var Ui=z(null),ji=null;function Fi(e){var t=e.alternate;B(Vi,1&Vi.current),B(Ui,e),null===ji&&(null===t||null!==Ri.current||null!==t.memoizedState)&&(ji=e)}function qi(e){B(Vi,Vi.current),B(Ui,e),null===ji&&(ji=e)}function Hi(e){22===e.tag?(B(Vi,Vi.current),B(Ui,e),null===ji&&(ji=e)):Gi()}function Gi(){B(Vi,Vi.current),B(Ui,Ui.current)}function zi(e){V(Ui),ji===e&&(ji=null),V(Vi)}var Vi=z(0);function Bi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Md(n)||Ld(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $i=0,Ji=null,Wi=null,Yi=null,Ki=!1,Qi=!1,Xi=!1,Zi=0,el=0,tl=null,nl=0;function rl(){throw Error(r(321))}function ol(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function il(e,t,n,r,o,i){return $i=i,Ji=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Es:Ss,Xi=!1,i=n(r,o),Xi=!1,Qi&&(i=sl(t,n,r,o)),ll(e),i}function ll(e){j.H=bs;var t=null!==Wi&&null!==Wi.next;if($i=0,Yi=Wi=Ji=null,Ki=!1,el=0,tl=null,t)throw Error(r(300));null===e||Us||null!==(e=e.dependencies)&&Mo(e)&&(Us=!0)}function sl(e,t,n,o){Ji=e;var i=0;do{if(Qi&&(tl=null),el=0,Qi=!1,25<=i)throw Error(r(301));if(i+=1,Yi=Wi=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}j.H=ws,l=t(n,o)}while(Qi);return l}function al(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?hl(t):t,e=e.useState()[0],(null!==Wi?Wi.memoizedState:null)!==e&&(Ji.flags|=1024),t}function ul(){var e=0!==Zi;return Zi=0,e}function cl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dl(e){if(Ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ki=!1}$i=0,Yi=Wi=Ji=null,Qi=!1,el=Zi=0,tl=null}function pl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yi?Ji.memoizedState=Yi=e:Yi=Yi.next=e,Yi}function fl(){if(null===Wi){var e=Ji.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Yi?Ji.memoizedState:Yi.next;if(null!==t)Yi=t,Wi=e;else{if(null===e){if(null===Ji.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Yi?Ji.memoizedState=Yi=e:Yi=Yi.next=e}return Yi}function hl(e){var t=el;return el+=1,null===tl&&(tl=[]),e=si(tl,e,t),t=Ji,null===(null===Yi?t.memoizedState:Yi.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Es:Ss),e}function ml(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return hl(e);if(e.$$typeof===S)return Uo(e)}throw Error(r(438,String(e)))}function gl(e){var t=null,n=Ji.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ji.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=R;return t.index++,n}function yl(e,t){return"function"==typeof t?t(e):t}function vl(e){return bl(fl(),Wi,e)}function bl(e,t,n){var o=e.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=n;var i=e.baseQueue,l=o.pending;if(null!==l){if(null!==i){var s=i.next;i.next=l.next,l.next=s}t.baseQueue=i=l,o.pending=null}if(l=e.baseState,null===i)e.memoizedState=l;else{var a=s=null,u=null,c=t=i.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(Eu&p)===p:($i&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Wo&&(d=!0);else{if(($i&f)===f){c=c.next,f===Wo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(a=u=p,s=l):u=u.next=p,Ji.lanes|=f,xu|=f}p=c.action,Xi&&n(l,p),l=c.hasEagerState?c.eagerState:n(l,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(a=u=f,s=l):u=u.next=f,Ji.lanes|=p,xu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=l:u.next=a,!nr(l,e.memoizedState)&&(Us=!0,d&&null!==(n=Yo)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=u,o.lastRenderedState=l}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function El(e){var t=fl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{l=e(l,s.action),s=s.next}while(s!==i);nr(l,t.memoizedState)||(Us=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,o]}function Sl(e,t,n){var o=Ji,i=fl(),l=go;if(l){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!nr((Wi||i).memoizedState,n);if(s&&(i.memoizedState=n,Us=!0),i=i.queue,$l(Tl.bind(null,o,i,e),[e]),i.getSnapshot!==t||s||null!==Yi&&1&Yi.memoizedState.tag){if(o.flags|=2048,Hl(9,{destroy:void 0},_l.bind(null,o,i,n,t),null),null===vu)throw Error(r(349));l||127&$i||wl(o,t,n)}return n}function wl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ji.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _l(e,t,n,r){t.value=n,t.getSnapshot=r,Cl(t)&&Il(e)}function Tl(e,t,n){return n(function(){Cl(t)&&Il(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch(r){return!0}}function Il(e){var t=Ur(e,2);null!==t&&Xu(t,e,2)}function Al(e){var t=pl();if("function"==typeof e){var n=e;if(e=n(),Xi){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t}function xl(e,t,n,r){return e.baseState=n,bl(e,Wi,"function"==typeof r?r:yl)}function kl(e,t,n,o,i){if(gs(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==j.T?n(!0):l.isTransition=!1,o(l),null===(n=t.pending)?(l.next=t.pending=l,Ol(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Ol(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=j.T,l={};j.T=l;try{var s=n(o,r),a=j.S;null!==a&&a(l,s),Nl(e,t,s)}catch(u){Pl(e,t,u)}finally{null!==i&&null!==l.types&&(i.types=l.types),j.T=i}}else try{Nl(e,t,i=n(o,r))}catch(c){Pl(e,t,c)}}function Nl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Rl(e,t,n)},function(n){return Pl(e,t,n)}):Rl(e,t,n)}function Rl(e,t,n){t.status="fulfilled",t.value=n,Dl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ol(e,n)))}function Pl(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Dl(t),t=t.next}while(t!==r)}e.action=null}function Dl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ml(e,t){return t}function Ll(e,t){if(go){var n=vu.formState;if(null!==n){e:{var r=Ji;if(go){if(mo){t:{for(var o=mo,i=vo;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Ud(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){mo=Ud(o.nextSibling),r="F!"===o.data;break e}}Eo(r)}r=!1}r&&(t=n[0])}}return(n=pl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},n.queue=r,n=fs.bind(null,Ji,r),r.dispatch=n,r=Al(!1),i=ms.bind(null,Ji,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=pl()).queue=o,n=kl.bind(null,Ji,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ul(e){return jl(fl(),Wi,e)}function jl(e,t,n){if(t=bl(e,t,Ml)[0],e=vl(yl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=hl(t)}catch(l){if(l===ni)throw oi;throw l}else r=t;var o=(t=fl()).queue,i=o.dispatch;return n!==t.memoizedState&&(Ji.flags|=2048,Hl(9,{destroy:void 0},Fl.bind(null,o,n),null)),[r,i,e]}function Fl(e,t){e.action=t}function ql(e){var t=fl(),n=Wi;if(null!==n)return jl(t,n,e);fl(),t=t.memoizedState;var r=(n=fl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Hl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ji.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gl(){return fl().memoizedState}function zl(e,t,n,r){var o=pl();Ji.flags|=e,o.memoizedState=Hl(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vl(e,t,n,r){var o=fl();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Wi&&null!==r&&ol(r,Wi.memoizedState.deps)?o.memoizedState=Hl(t,i,n,r):(Ji.flags|=e,o.memoizedState=Hl(1|t,i,n,r))}function Bl(e,t){zl(8390656,8,e,t)}function $l(e,t){Vl(2048,8,e,t)}function Jl(e){var t=fl().memoizedState;return function(e){Ji.flags|=4;var t=Ji.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&yu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Wl(e,t){return Vl(4,2,e,t)}function Yl(e,t){return Vl(4,4,e,t)}function Kl(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ql(e,t,n){n=null!=n?n.concat([e]):null,Vl(4,4,Kl.bind(null,t,e),n)}function Xl(){}function Zl(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ol(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function es(e,t){var n=fl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ol(t,r[1]))return r[0];if(r=e(),Xi){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function ts(e,t,n){return void 0===n||1073741824&$i&&!(261930&Eu)?e.memoizedState=t:(e.memoizedState=n,e=Qu(),Ji.lanes|=e,xu|=e,n)}function ns(e,t,n,r){return nr(n,t)?n:null!==Ri.current?(e=ts(e,n,r),nr(e,t)||(Us=!0),e):42&$i&&(!(1073741824&$i)||261930&Eu)?(e=Qu(),Ji.lanes|=e,xu|=e,t):(Us=!0,e.memoizedState=n)}function rs(e,t,n,r,o){var i=F.p;F.p=0!==i&&8>i?i:8;var l,s,a,u=j.T,c={};j.T=c,ms(e,!1,t,n);try{var d=o(),p=j.S;if(null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)hs(e,t,(l=r,s=[],a={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){a.status="fulfilled",a.value=l;for(var e=0;e<s.length;e++)(0,s[e])(l)},function(e){for(a.status="rejected",a.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),a),Ku());else hs(e,t,r,Ku())}catch(f){hs(e,t,{then:function(){},status:"rejected",reason:f},Ku())}finally{F.p=i,null!==u&&null!==c.types&&(u.types=c.types),j.T=u}}function os(){}function is(e,t,n,o){if(5!==e.tag)throw Error(r(476));var i=ls(e).queue;rs(e,i,t,q,null===n?os:function(){return ss(e),n(o)})}function ls(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ss(e){var t=ls(e);null===t.next&&(t=e.alternate.memoizedState),hs(e,t.next.queue,{},Ku())}function as(){return Uo(hp)}function us(){return fl().memoizedState}function cs(){return fl().memoizedState}function ds(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ku(),r=Ti(t,e=_i(n),n);return null!==r&&(Xu(r,t,n),Ci(r,t,n)),t={cache:Vo()},void(e.payload=t)}t=t.return}}function ps(e,t,n){var r=Ku();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gs(e)?ys(t,n):null!==(n=Lr(e,t,n,r))&&(Xu(n,e,r),vs(n,t,r))}function fs(e,t,n){hs(e,t,n,Ku())}function hs(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gs(e))ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=i(l,n);if(o.hasEagerState=!0,o.eagerState=s,nr(s,l))return Mr(e,t,o,0),null===vu&&Dr(),!1}catch(a){}if(null!==(n=Lr(e,t,o,r)))return Xu(n,e,r),vs(n,t,r),!0}return!1}function ms(e,t,n,o){if(o={lane:2,revertLane:$c(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gs(e)){if(t)throw Error(r(479))}else null!==(t=Lr(e,n,o,2))&&Xu(t,e,2)}function gs(e){var t=e.alternate;return e===Ji||null!==t&&t===Ji}function ys(e,t){Qi=Ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var bs={readContext:Uo,use:ml,useCallback:rl,useContext:rl,useEffect:rl,useImperativeHandle:rl,useLayoutEffect:rl,useInsertionEffect:rl,useMemo:rl,useReducer:rl,useRef:rl,useState:rl,useDebugValue:rl,useDeferredValue:rl,useTransition:rl,useSyncExternalStore:rl,useId:rl,useHostTransitionStatus:rl,useFormState:rl,useActionState:rl,useOptimistic:rl,useMemoCache:rl,useCacheRefresh:rl};bs.useEffectEvent=rl;var Es={readContext:Uo,use:ml,useCallback:function(e,t){return pl().memoizedState=[e,void 0===t?null:t],e},useContext:Uo,useEffect:Bl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,zl(4194308,4,Kl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=pl();t=void 0===t?null:t;var r=e();if(Xi){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=pl();if(void 0!==n){var o=n(t);if(Xi){_e(!0);try{n(t)}finally{_e(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ps.bind(null,Ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},pl().memoizedState=e},useState:function(e){var t=(e=Al(e)).queue,n=fs.bind(null,Ji,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xl,useDeferredValue:function(e,t){return ts(pl(),e,t)},useTransition:function(){var e=Al(!1);return e=rs.bind(null,Ji,e.queue,!0,!1),pl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Ji,i=pl();if(go){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===vu)throw Error(r(349));127&Eu||wl(o,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Bl(Tl.bind(null,o,l,e),[e]),o.flags|=2048,Hl(9,{destroy:void 0},_l.bind(null,o,l,n,t),null),n},useId:function(){var e=pl(),t=vu.identifierPrefix;if(go){var n=so;t="_"+t+"R_"+(n=(lo&~(1<<32-Te(lo)-1)).toString(32)+n),0<(n=Zi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=nl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:as,useFormState:Ll,useActionState:Ll,useOptimistic:function(e){var t=pl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ms.bind(null,Ji,!0,n),n.dispatch=t,[e,t]},useMemoCache:gl,useCacheRefresh:function(){return pl().memoizedState=ds.bind(null,Ji)},useEffectEvent:function(e){var t=pl(),n={impl:e};return t.memoizedState=n,function(){if(2&yu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Ss={readContext:Uo,use:ml,useCallback:Zl,useContext:Uo,useEffect:$l,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:Yl,useMemo:es,useReducer:vl,useRef:Gl,useState:function(){return vl(yl)},useDebugValue:Xl,useDeferredValue:function(e,t){return ns(fl(),Wi.memoizedState,e,t)},useTransition:function(){var e=vl(yl)[0],t=fl().memoizedState;return["boolean"==typeof e?e:hl(e),t]},useSyncExternalStore:Sl,useId:us,useHostTransitionStatus:as,useFormState:Ul,useActionState:Ul,useOptimistic:function(e,t){return xl(fl(),0,e,t)},useMemoCache:gl,useCacheRefresh:cs};Ss.useEffectEvent=Jl;var ws={readContext:Uo,use:ml,useCallback:Zl,useContext:Uo,useEffect:$l,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:Yl,useMemo:es,useReducer:El,useRef:Gl,useState:function(){return El(yl)},useDebugValue:Xl,useDeferredValue:function(e,t){var n=fl();return null===Wi?ts(n,e,t):ns(n,Wi.memoizedState,e,t)},useTransition:function(){var e=El(yl)[0],t=fl().memoizedState;return["boolean"==typeof e?e:hl(e),t]},useSyncExternalStore:Sl,useId:us,useHostTransitionStatus:as,useFormState:ql,useActionState:ql,useOptimistic:function(e,t){var n=fl();return null!==Wi?xl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gl,useCacheRefresh:cs};function _s(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ws.useEffectEvent=Jl;var Ts={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ku(),o=_i(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ti(e,o,r))&&(Xu(t,e,r),Ci(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ku(),o=_i(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ti(e,o,r))&&(Xu(t,e,r),Ci(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ku(),r=_i(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ti(e,r,n))&&(Xu(t,e,n),Ci(t,e,n))}};function Cs(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!rr(n,r)||!rr(o,i))}function Is(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ts.enqueueReplaceState(t,t.state,null)}function As(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=c({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function xs(e){Or(e)}function ks(e){}function Os(e){Or(e)}function Ns(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Rs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ps(e,t,n){return(n=_i(n)).tag=3,n.payload={element:null},n.callback=function(){Ns(e,t)},n}function Ds(e){return(e=_i(e)).tag=3,e}function Ms(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Rs(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Rs(t,n,r),"function"!=typeof o&&(null===qu?qu=new Set([this]):qu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ls=Error(r(461)),Us=!1;function js(e,t,n,r){t.child=null===e?bi(t,null,n,r):vi(t,e.child,n,r)}function Fs(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var s in r)"ref"!==s&&(l[s]=r[s])}else l=r;return Lo(t),r=il(e,t,n,l,i,o),s=ul(),null===e||Us?(go&&s&&co(t),t.flags|=1,js(e,t,r,o),t.child):(cl(e,t,o),aa(e,t,o))}function qs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||zr(i)||void 0!==i.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Hs(e,t,i,r,o))}if(i=e.child,!ua(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:rr)(l,r)&&e.ref===t.ref)return aa(e,t,o)}return t.flags|=1,(e=Vr(i,r)).ref=t.ref,e.return=t,t.child=e}function Hs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(rr(i,r)&&e.ref===t.ref){if(Us=!1,t.pendingProps=r=i,!ua(e,o))return t.lanes=e.lanes,aa(e,t,o);131072&e.flags&&(Us=!0)}}return Ws(e,t,n,r,o)}function Gs(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Vs(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Vs(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ei(0,null!==i?i.cachePool:null),null!==i?Di(t,i):Mi(),Hi(t)}else null!==i?(ei(0,i.cachePool),Di(t,i),Gi(),t.memoizedState=null):(null!==e&&ei(0,null),Mi(),Gi());return js(e,t,o,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vs(e,t,n,r,o){var i=Zo();return i=null===i?null:{parent:zo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&ei(0,null),Mi(),Hi(t),null!==e&&Do(e,t,r,!0),t.childLanes=o,null}function Bs(e,t){return(t=ra({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function $s(e,t,n){return vi(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function Js(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ws(e,t,n,r,o){return Lo(t),n=il(e,t,n,r,void 0,o),r=ul(),null===e||Us?(go&&r&&co(t),t.flags|=1,js(e,t,n,o),t.child):(cl(e,t,o),aa(e,t,o))}function Ys(e,t,n,r,o,i){return Lo(t),t.updateQueue=null,n=sl(t,r,n,o),ll(e),r=ul(),null===e||Us?(go&&r&&co(t),t.flags|=1,js(e,t,n,i),t.child):(cl(e,t,i),aa(e,t,i))}function Ks(e,t,n,r,o){if(Lo(t),null===t.stateNode){var i=qr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Uo(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Ts,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Si(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Uo(l):qr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(_s(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&Ts.enqueueReplaceState(i,i.state,null),ki(t,r,i,o),xi(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,a=As(n,s);i.props=a;var u=i.context,c=n.contextType;l=qr,"object"==typeof c&&null!==c&&(l=Uo(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s||u!==l)&&Is(t,i,r,l),Ei=!1;var p=t.memoizedState;i.state=p,ki(t,r,i,o),xi(),u=t.memoizedState,s||p!==u||Ei?("function"==typeof d&&(_s(t,n,d,r),u=t.memoizedState),(a=Ei||Cs(t,n,a,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=a):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,wi(e,t),c=As(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,a=qr,"object"==typeof u&&null!==u&&(a=Uo(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==a)&&Is(t,i,r,a),Ei=!1,p=t.memoizedState,i.state=p,ki(t,r,i,o),xi();var f=t.memoizedState;l!==d||p!==f||Ei||null!==e&&null!==e.dependencies&&Mo(e.dependencies)?("function"==typeof s&&(_s(t,n,s,r),f=t.memoizedState),(c=Ei||Cs(t,n,c,r,p,f,a)||null!==e&&null!==e.dependencies&&Mo(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,a),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,a)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=a,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Js(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,n,o)):js(e,t,n,o),t.memoizedState=i.state,e=t.child):e=aa(e,t,o),e}function Qs(e,t,n,r){return To(),t.flags|=256,js(e,t,n,r),t.child}var Xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(e){return{baseLanes:e,cachePool:ti()}}function ea(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nu),e}function ta(e,t,n){var o,i=t.pendingProps,l=!1,s=!!(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&!!(2&Vi.current)),o&&(l=!0,t.flags&=-129),o=!!(32&t.flags),t.flags&=-33,null===e){if(go){if(l?Fi(t):Gi(),(e=mo)?null!==(e=null!==(e=Dd(e,vo))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==io?{id:lo,overflow:so}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ho=t,mo=null):e=null,null===e)throw Eo(t);return Ld(e)?t.lanes=32:t.lanes=536870912,null}var a=i.children;return i=i.fallback,l?(Gi(),a=ra({mode:"hidden",children:a},l=t.mode),i=Jr(i,l,n,null),a.return=t,i.return=t,a.sibling=i,t.child=a,(i=t.child).memoizedState=Zs(n),i.childLanes=ea(e,o,n),t.memoizedState=Xs,zs(null,i)):(Fi(t),na(t,a))}var u=e.memoizedState;if(null!==u&&null!==(a=u.dehydrated)){if(s)256&t.flags?(Fi(t),t.flags&=-257,t=oa(e,t,n)):null!==t.memoizedState?(Gi(),t.child=e.child,t.flags|=128,t=null):(Gi(),a=i.fallback,l=t.mode,i=ra({mode:"visible",children:i.children},l),(a=Jr(a,l,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,vi(t,e.child,null,n),(i=t.child).memoizedState=Zs(n),i.childLanes=ea(e,o,n),t.memoizedState=Xs,t=zs(null,i));else if(Fi(t),Ld(a)){if(o=a.nextSibling&&a.nextSibling.dataset)var c=o.dgst;o=c,(i=Error(r(419))).stack="",i.digest=o,Io({value:i,source:null,stack:null}),t=oa(e,t,n)}else if(Us||Do(e,t,n,!1),o=0!==(n&e.childLanes),Us||o){if(null!==(o=vu)&&(0!==(i=Fe(o,n))&&i!==u.retryLane))throw u.retryLane=i,Ur(e,i),Xu(o,e,i),Ls;Md(a)||cc(),t=oa(e,t,n)}else Md(a)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,mo=Ud(a.nextSibling),ho=t,go=!0,yo=null,vo=!1,null!==e&&fo(t,e),(t=na(t,i.children)).flags|=4096);return t}return l?(Gi(),a=i.fallback,l=t.mode,c=(u=e.child).sibling,(i=Vr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?a=Vr(c,a):(a=Jr(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,zs(null,i),i=t.child,null===(a=e.child.memoizedState)?a=Zs(n):(null!==(l=a.cachePool)?(u=zo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=ti(),a={baseLanes:a.baseLanes|n,cachePool:l}),i.memoizedState=a,i.childLanes=ea(e,o,n),t.memoizedState=Xs,zs(e.child,i)):(Fi(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function na(e,t){return(t=ra({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ra(e,t){return(e=Gr(22,e,null,t)).lanes=0,e}function oa(e,t,n){return vi(t,e.child,null,n),(e=na(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ia(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function la(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function sa(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=Vi.current,s=!!(2&l);if(s?(l=1&l|2,t.flags|=128):l&=1,B(Vi,l),js(e,t,r,n),r=go?no:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ia(e,n,t);else if(19===e.tag)ia(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Bi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),la(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Bi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}la(t,!0,n,null,i,r);break;case"together":la(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function aa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Do(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ua(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Mo(e))}function ca(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Us=!0;else{if(!(ua(e,n)||128&t.flags))return Us=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Oo(0,zo,e.memoizedState.cache),To();break;case 27:case 5:ee(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Oo(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,qi(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Fi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ta(e,t,n):(Fi(t),null!==(e=aa(e,t,n))?e.sibling:null);Fi(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Do(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return sa(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(Vi,Vi.current),r)break;return null;case 22:return t.lanes=0,Gs(e,t,n,t.pendingProps);case 24:Oo(0,zo,e.memoizedState.cache)}return aa(e,t,n)}(e,t,n);Us=!!(131072&e.flags)}else Us=!1,go&&1048576&t.flags&&uo(t,no,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=ai(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===T){t.tag=11,t=Fs(null,t,e,o,n);break e}if(i===k){t.tag=14,t=qs(null,t,e,o,n);break e}}throw t=L(e)||e,Error(r(306,t,""))}zr(e)?(o=As(e,o),t.tag=1,t=Ks(null,t,e,o,n)):(t.tag=0,t=Ws(null,t,e,o,n))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,n);case 1:return Ks(e,t,o=t.type,i=As(o,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(r(387));o=t.pendingProps;var l=t.memoizedState;i=l.element,wi(e,t),ki(t,o,null,n);var s=t.memoizedState;if(o=s.cache,Oo(0,zo,o),o!==l.cache&&Po(t,[zo],n,!0),xi(),o=s.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Qs(e,t,o,n);break e}if(o!==i){Io(i=Xr(Error(r(424)),t)),t=Qs(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(mo=Ud(e.firstChild),ho=t,go=!0,yo=null,vo=!0,n=bi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(To(),o===i){t=aa(e,t,n);break e}js(e,t,o,n)}t=t.child}return t;case 26:return Js(e,t),null===e?(n=Yd(t.type,null,t.pendingProps,null))?t.memoizedState=n:go||(n=t.type,e=t.pendingProps,(o=Ed(K.current).createElement(n))[Be]=t,o[$e]=e,gd(o,n,e),ot(o),t.stateNode=o):t.memoizedState=Yd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ee(t),null===e&&go&&(o=t.stateNode=Hd(t.type,t.pendingProps,K.current),ho=t,vo=!0,i=mo,Od(t.type)?(jd=i,mo=Ud(o.firstChild)):mo=i),js(e,t,t.pendingProps.children,n),Js(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&go&&((i=o=mo)&&(null!==(o=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Ud(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,vo))?(t.stateNode=o,ho=t,mo=Ud(o.firstChild),vo=!1,i=!0):i=!1),i||Eo(t)),ee(t),i=t.type,l=t.pendingProps,s=null!==e?e.memoizedProps:null,o=l.children,_d(i,l)?o=null:null!==s&&_d(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=il(e,t,al,null,null,n),hp._currentValue=i),Js(e,t),js(e,t,o,n),t.child;case 6:return null===e&&go&&((e=n=mo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ud(e.nextSibling)))return null}return e}(n,t.pendingProps,vo))?(t.stateNode=n,ho=t,mo=null,e=!0):e=!1),e||Eo(t)),null;case 13:return ta(e,t,n);case 4:return X(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=vi(t,null,o,n):js(e,t,o,n),t.child;case 11:return Fs(e,t,t.type,t.pendingProps,n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Oo(0,t.type,o.value),js(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,Lo(t),o=o(i=Uo(i)),t.flags|=1,js(e,t,o,n),t.child;case 14:return qs(e,t,t.type,t.pendingProps,n);case 15:return Hs(e,t,t.type,t.pendingProps,n);case 19:return sa(e,t,n);case 31:return function(e,t,n){var o=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(go){if("hidden"===o.mode)return e=Bs(t,o),t.lanes=536870912,zs(null,e);if(qi(t),(e=mo)?null!==(e=null!==(e=Dd(e,vo))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==io?{id:lo,overflow:so}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ho=t,mo=null):e=null,null===e)throw Eo(t);return t.lanes=536870912,null}return Bs(t,o)}var l=e.memoizedState;if(null!==l){var s=l.dehydrated;if(qi(t),i)if(256&t.flags)t.flags&=-257,t=$s(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Us||Do(e,t,n,!1),i=0!==(n&e.childLanes),Us||i){if(null!==(o=vu)&&0!==(s=Fe(o,n))&&s!==l.retryLane)throw l.retryLane=s,Ur(e,s),Xu(o,e,s),Ls;cc(),t=$s(e,t,n)}else e=l.treeContext,mo=Ud(s.nextSibling),ho=t,go=!0,yo=null,vo=!1,null!==e&&fo(t,e),(t=Bs(t,o)).flags|=4096;return t}return(e=Vr(e.child,{mode:o.mode,children:o.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Gs(e,t,n,t.pendingProps);case 24:return Lo(t),o=Uo(zo),null===e?(null===(i=Zo())&&(i=vu,l=Vo(),i.pooledCache=l,l.refCount++,null!==l&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:o,cache:i},Si(t),Oo(0,zo,i)):(0!==(e.lanes&n)&&(wi(e,t),ki(t,null,null,n),xi()),i=e.memoizedState,l=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Oo(0,zo,o)):(o=l.cache,Oo(0,zo,o),o!==i.cache&&Po(t,[zo],n,!0))),js(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function da(e){e.flags|=4}function pa(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!sc())throw ui=ii,ri;e.flags|=8192}}else e.flags&=-16777217}function fa(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ap(t)){if(!sc())throw ui=ii,ri;e.flags|=8192}}function ha(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,Ru|=t)}function ma(e,t){if(!go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ya(e,t,n){var o=t.pendingProps;switch(po(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ga(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),No(zo),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(_o(t)?da(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Co())),ga(t),null;case 26:var i=t.type,l=t.memoizedState;return null===e?(da(t),null!==l?(ga(t),fa(t,l)):(ga(t),pa(t,i,0,0,n))):l?l!==e.memoizedState?(da(t),ga(t),fa(t,l)):(ga(t),t.flags&=-16777217):((e=e.memoizedProps)!==o&&da(t),ga(t),pa(t,i,0,0,n)),null;case 27:if(te(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&da(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return ga(t),null}e=W.current,_o(t)?So(t):(e=Hd(i,o,n),t.stateNode=e,da(t))}return ga(t),null;case 5:if(te(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&da(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return ga(t),null}if(l=W.current,_o(t))So(t);else{var s=Ed(K.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(l=s.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"==typeof o.is?s.createElement("select",{is:o.is}):s.createElement("select"),o.multiple?l.multiple=!0:o.size&&(l.size=o.size);break;default:l="string"==typeof o.is?s.createElement(i,{is:o.is}):s.createElement(i)}}l[Be]=t,l[$e]=o;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)l.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=l;e:switch(gd(l,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&da(t)}}return ga(t),pa(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&da(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(e=K.current,_o(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=ho))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||fd(e.nodeValue,n)))||Eo(t,!0)}else(e=Ed(e).createTextNode(o))[Be]=t,t.stateNode=e}return ga(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(o=_o(t),null!==n){if(null===e){if(!o)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Be]=t}else To(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ga(t),e=!1}else n=Co(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(128&t.flags)throw Error(r(558))}return ga(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=_o(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Be]=t}else To(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ga(t),i=!1}else i=Co(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),128&t.flags?(t.lanes=n,t):(n=null!==o,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool),l=null,null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(l=o.memoizedState.cachePool.pool),l!==i&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ha(t,t.updateQueue),ga(t),null);case 4:return Z(),null===e&&rd(t.stateNode.containerInfo),ga(t),null;case 10:return No(t.type),ga(t),null;case 19:if(V(Vi),null===(o=t.memoizedState))return ga(t),null;if(i=!!(128&t.flags),null===(l=o.rendering))if(i)ma(o,!1);else{if(0!==Au||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Bi(e))){for(t.flags|=128,ma(o,!1),e=l.updateQueue,t.updateQueue=e,ha(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Vi,1&Vi.current|2),go&&ao(t,o.treeForkCount),t.child}e=e.sibling}null!==o.tail&&pe()>ju&&(t.flags|=128,i=!0,ma(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bi(l))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ha(t,e),ma(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!go)return ga(t),null}else 2*pe()-o.renderingStartTime>ju&&536870912!==n&&(t.flags|=128,i=!0,ma(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=o.last)?e.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pe(),e.sibling=null,n=Vi.current,B(Vi,i?1&n|2:1&n),go&&ao(t,o.treeForkCount),e):(ga(t),null);case 22:case 23:return zi(t),Li(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?!!(536870912&n)&&!(128&t.flags)&&(ga(t),6&t.subtreeFlags&&(t.flags|=8192)):ga(t),null!==(n=t.updateQueue)&&ha(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&V(Xo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),No(zo),ga(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function va(e,t){switch(po(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return No(zo),Z(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return te(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(r(340));To()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));To()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Vi),null;case 4:return Z(),null;case 10:return No(t.type),null;case 22:case 23:return zi(t),Li(),null!==e&&V(Xo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return No(zo),null;default:return null}}function ba(e,t){switch(po(t),t.tag){case 3:No(zo),Z();break;case 26:case 27:case 5:te(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:V(Vi);break;case 10:No(t.type);break;case 22:case 23:zi(t),Li(),null!==e&&V(Xo);break;case 24:No(zo)}}function Ea(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(s){Ac(t,t.return,s)}}function Sa(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,s=l.destroy;if(void 0!==s){l.destroy=void 0,o=t;var a=n,u=s;try{u()}catch(c){Ac(o,a,c)}}}r=r.next}while(r!==i)}}catch(c){Ac(t,t.return,c)}}function wa(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ni(t,n)}catch(r){Ac(e,e.return,r)}}}function _a(e,t,n){n.props=As(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ac(e,t,r)}}function Ta(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Ac(e,t,o)}}function Ca(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(o){Ac(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Ac(e,t,i)}else n.current=null}function Ia(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Ac(e,e.return,o)}}function Aa(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,s=null,a=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:o.hasOwnProperty(h)||hd(e,t,h,null,o,p)}}for(var f in o){var h=o[f];if(p=n[f],o.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":l=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":a=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==p&&hd(e,t,f,h,o,p)}}return void wt(e,s,a,u,c,d,l,i);case"select":for(l in h=s=a=f=null,n)if(u=n[l],n.hasOwnProperty(l)&&null!=u)switch(l){case"value":break;case"multiple":h=u;default:o.hasOwnProperty(l)||hd(e,t,l,null,o,u)}for(i in o)if(l=o[i],u=n[i],o.hasOwnProperty(i)&&(null!=l||null!=u))switch(i){case"value":f=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:l!==u&&hd(e,t,i,l,o,u)}return t=a,n=s,o=h,void(null!=f?Ct(e,!!n,f,!1):!!o!=!!n&&(null!=t?Ct(e,!!n,t,!0):Ct(e,!!n,n?[]:"",!1)));case"textarea":for(a in h=f=null,n)if(i=n[a],n.hasOwnProperty(a)&&null!=i&&!o.hasOwnProperty(a))switch(a){case"value":case"children":break;default:hd(e,t,a,null,o,i)}for(s in o)if(i=o[s],l=n[s],o.hasOwnProperty(s)&&(null!=i||null!=l))switch(s){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==l&&hd(e,t,s,i,o,l)}return void It(e,f,h);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!o.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hd(e,t,m,null,o,f);for(u in o)if(f=o[u],h=n[u],o.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else hd(e,t,u,f,o,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!o.hasOwnProperty(g)&&hd(e,t,g,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:hd(e,t,c,f,o,h)}return;default:if(Rt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!o.hasOwnProperty(y)&&md(e,t,y,void 0,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||md(e,t,d,f,o,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!o.hasOwnProperty(v)&&hd(e,t,v,null,o,f);for(p in o)f=o[p],h=n[p],!o.hasOwnProperty(p)||f===h||null==f&&null==h||hd(e,t,p,f,o,h)}(o,e.type,n,t),o[$e]=t}catch(i){Ac(e,e.return,i)}}function xa(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Od(e.type)||4===e.tag}function ka(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Od(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Oa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Lt));else if(4!==r&&(27===r&&Od(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Oa(e,t,n),e=e.sibling;null!==e;)Oa(e,t,n),e=e.sibling}function Na(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Od(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Na(e,t,n),e=e.sibling;null!==e;)Na(e,t,n),e=e.sibling}function Ra(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gd(t,r,n),t[Be]=e,t[$e]=n}catch(i){Ac(e,e.return,i)}}var Pa=!1,Da=!1,Ma=!1,La="function"==typeof WeakSet?WeakSet:Set,Ua=null;function ja(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xa(e,n),4&r&&Ea(5,n);break;case 1:if(Xa(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){Ac(n,n.return,l)}else{var o=As(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ac(n,n.return,s)}}64&r&&wa(n),512&r&&Ta(n,n.return);break;case 3:if(Xa(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ni(e,t)}catch(l){Ac(n,n.return,l)}}break;case 27:null===t&&4&r&&Ra(n);case 26:case 5:Xa(e,n),null===t&&4&r&&Ia(n),512&r&&Ta(n,n.return);break;case 12:Xa(e,n);break;case 31:Xa(e,n),4&r&&Va(e,n);break;case 13:Xa(e,n),4&r&&Ba(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Nc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pa)){t=null!==t&&null!==t.memoizedState||Da,o=Pa;var i=Da;Pa=r,(Da=t)&&!i?eu(e,n,!!(8772&n.subtreeFlags)):Xa(e,n),Pa=o,Da=i}break;case 30:break;default:Xa(e,n)}}function Fa(e){var t=e.alternate;null!==t&&(e.alternate=null,Fa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qa=null,Ha=!1;function Ga(e,t,n){for(n=n.child;null!==n;)za(e,t,n),n=n.sibling}function za(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(Se,n)}catch(i){}switch(n.tag){case 26:Da||Ca(n,t),Ga(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Da||Ca(n,t);var r=qa,o=Ha;Od(n.type)&&(qa=n.stateNode,Ha=!1),Ga(e,t,n),Gd(n.stateNode),qa=r,Ha=o;break;case 5:Da||Ca(n,t);case 6:if(r=qa,o=Ha,qa=null,Ga(e,t,n),Ha=o,null!==(qa=r))if(Ha)try{(9===qa.nodeType?qa.body:"HTML"===qa.nodeName?qa.ownerDocument.body:qa).removeChild(n.stateNode)}catch(l){Ac(n,t,l)}else try{qa.removeChild(n.stateNode)}catch(l){Ac(n,t,l)}break;case 18:null!==qa&&(Ha?(Nd(9===(e=qa).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wp(e)):Nd(qa,n.stateNode));break;case 4:r=qa,o=Ha,qa=n.stateNode.containerInfo,Ha=!0,Ga(e,t,n),qa=r,Ha=o;break;case 0:case 11:case 14:case 15:Sa(2,n,t),Da||Sa(4,n,t),Ga(e,t,n);break;case 1:Da||(Ca(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&_a(n,t,r)),Ga(e,t,n);break;case 21:Ga(e,t,n);break;case 22:Da=(r=Da)||null!==n.memoizedState,Ga(e,t,n),Da=r;break;default:Ga(e,t,n)}}function Va(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wp(e)}catch(n){Ac(t,t.return,n)}}}function Ba(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wp(e)}catch(n){Ac(t,t.return,n)}}function $a(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new La),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new La),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Rc.bind(null,e,t);t.then(r,r)}})}function Ja(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],l=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 27:if(Od(a.type)){qa=a.stateNode,Ha=!1;break e}break;case 5:qa=a.stateNode,Ha=!1;break e;case 3:case 4:qa=a.stateNode.containerInfo,Ha=!0;break e}a=a.return}if(null===qa)throw Error(r(160));za(l,s,i),qa=null,Ha=!1,null!==(l=i.alternate)&&(l.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ya(t,e),t=t.sibling}var Wa=null;function Ya(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ja(t,e),Ka(e),4&o&&(Sa(3,e,e.return),Ea(3,e),Sa(5,e,e.return));break;case 1:Ja(t,e),Ka(e),512&o&&(Da||null===n||Ca(n,n.return)),64&o&&Pa&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var i=Wa;if(Ja(t,e),Ka(e),512&o&&(Da||null===n||Ca(n,n.return)),4&o){var l=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(l=i.getElementsByTagName("title")[0])||l[Xe]||l[Be]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=i.createElement(o),i.head.insertBefore(l,i.querySelector("head > title"))),gd(l,o,n),l[Be]=e,ot(l),o=l;break e;case"link":var s=lp("link","href",i).get(o+(n.href||""));if(s)for(var a=0;a<s.length;a++)if((l=s[a]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(a,1);break t}gd(l=i.createElement(o),o,n),i.head.appendChild(l);break;case"meta":if(s=lp("meta","content",i).get(o+(n.content||"")))for(a=0;a<s.length;a++)if((l=s[a]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(a,1);break t}gd(l=i.createElement(o),o,n),i.head.appendChild(l);break;default:throw Error(r(468,o))}l[Be]=e,ot(l),o=l}e.stateNode=o}else sp(i,e.type,e.stateNode);else e.stateNode=tp(i,o,e.memoizedProps);else l!==o?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===o?sp(i,e.type,e.stateNode):tp(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&Aa(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ja(t,e),Ka(e),512&o&&(Da||null===n||Ca(n,n.return)),null!==n&&4&o&&Aa(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ja(t,e),Ka(e),512&o&&(Da||null===n||Ca(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(m){Ac(e,e.return,m)}}4&o&&null!=e.stateNode&&Aa(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(Ma=!0);break;case 6:if(Ja(t,e),Ka(e),4&o){if(null===e.stateNode)throw Error(r(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(m){Ac(e,e.return,m)}}break;case 3:if(ip=null,i=Wa,Wa=Bd(t.containerInfo),Ja(t,e),Wa=i,Ka(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Wp(t.containerInfo)}catch(m){Ac(e,e.return,m)}Ma&&(Ma=!1,Qa(e));break;case 4:o=Wa,Wa=Bd(e.stateNode.containerInfo),Ja(t,e),Ka(e),Wa=o;break;case 12:default:Ja(t,e),Ka(e);break;case 31:case 19:Ja(t,e),Ka(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,$a(e,o)));break;case 13:Ja(t,e),Ka(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Lu=pe()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,$a(e,o)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Pa,d=Da;if(Pa=c||i,Da=d||u,Ja(t,e),Da=d,Pa=c,Ka(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Pa||Da||Za(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(l=u.stateNode,i)"function"==typeof(s=l.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;a.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Ac(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Ac(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;i?Rd(h,!0):Rd(u.stateNode,!1)}catch(m){Ac(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,$a(e,n))));case 30:case 21:}}function Ka(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(xa(o)){n=o;break}o=o.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Na(e,ka(e),i);break;case 5:var l=n.stateNode;32&n.flags&&(xt(l,""),n.flags&=-33),Na(e,ka(e),l);break;case 3:case 4:var s=n.stateNode.containerInfo;Oa(e,ka(e),s);break;default:throw Error(r(161))}}catch(a){Ac(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Qa(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Qa(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xa(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ja(e,t.alternate,t),t=t.sibling}function Za(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),Za(t);break;case 1:Ca(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&_a(t,t.return,n),Za(t);break;case 27:Gd(t.stateNode);case 26:case 5:Ca(t,t.return),Za(t);break;case 22:null===t.memoizedState&&Za(t);break;default:Za(t)}e=e.sibling}}function eu(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:eu(o,i,n),Ea(4,i);break;case 1:if(eu(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){Ac(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var a=o.shared.hiddenCallbacks;if(null!==a)for(o.shared.hiddenCallbacks=null,o=0;o<a.length;o++)Oi(a[o],s)}catch(u){Ac(r,r.return,u)}}n&&64&l&&wa(i),Ta(i,i.return);break;case 27:Ra(i);case 26:case 5:eu(o,i,n),n&&null===r&&4&l&&Ia(i),Ta(i,i.return);break;case 12:eu(o,i,n);break;case 31:eu(o,i,n),n&&4&l&&Va(o,i);break;case 13:eu(o,i,n),n&&4&l&&Ba(o,i);break;case 22:null===i.memoizedState&&eu(o,i,n),Ta(i,i.return);break;case 30:break;default:eu(o,i,n)}t=t.sibling}}function tu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function nu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function ru(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ou(e,t,n,r),t=t.sibling}function ou(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ru(e,t,n,r),2048&o&&Ea(9,t);break;case 1:case 31:case 13:default:ru(e,t,n,r);break;case 3:ru(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){ru(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,s=i.onPostCommit;"function"==typeof s&&s(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(a){Ac(t,t.return,a)}}else ru(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?ru(e,t,n,r):lu(e,t):2&i._visibility?ru(e,t,n,r):(i._visibility|=2,iu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&tu(l,t);break;case 24:ru(e,t,n,r),2048&o&&nu(t.alternate,t)}}function iu(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,s=n,a=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:iu(i,l,s,a,o),Ea(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?iu(i,l,s,a,o):lu(i,l):(c._visibility|=2,iu(i,l,s,a,o)),o&&2048&u&&tu(l.alternate,l);break;case 24:iu(i,l,s,a,o),o&&2048&u&&nu(l.alternate,l);break;default:iu(i,l,s,a,o)}t=t.sibling}}function lu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:lu(n,r),2048&o&&tu(r.alternate,r);break;case 24:lu(n,r),2048&o&&nu(r.alternate,r);break;default:lu(n,r)}t=t.sibling}}var su=8192;function au(e,t,n){if(e.subtreeFlags&su)for(e=e.child;null!==e;)uu(e,t,n),e=e.sibling}function uu(e,t,n){switch(e.tag){case 26:au(e,t,n),e.flags&su&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=Kd(r.href),i=t.querySelector(Qd(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=cp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void ot(i);i=t.ownerDocument||t,r=Xd(r),(o=zd.get(o))&&rp(r,o),ot(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),gd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=cp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wa,e.memoizedState,e.memoizedProps);break;case 5:default:au(e,t,n);break;case 3:case 4:var r=Wa;Wa=Bd(e.stateNode.containerInfo),au(e,t,n),Wa=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=su,su=16777216,au(e,t,n),su=r):au(e,t,n))}}function cu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function du(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ua=r,hu(r,e)}cu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)pu(e),e=e.sibling}function pu(e){switch(e.tag){case 0:case 11:case 15:du(e),2048&e.flags&&Sa(9,e,e.return);break;case 3:case 12:default:du(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,fu(e)):du(e)}}function fu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ua=r,hu(r,e)}cu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Sa(8,t,t.return),fu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,fu(t));break;default:fu(t)}e=e.sibling}}function hu(e,t){for(;null!==Ua;){var n=Ua;switch(n.tag){case 0:case 11:case 15:Sa(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ua=r;else e:for(n=e;null!==Ua;){var o=(r=Ua).sibling,i=r.return;if(Fa(r),r===n){Ua=null;break e}if(null!==o){o.return=i,Ua=o;break e}Ua=i}}}var mu={getCacheForType:function(e){var t=Uo(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Uo(zo).controller.signal}},gu="function"==typeof WeakMap?WeakMap:Map,yu=0,vu=null,bu=null,Eu=0,Su=0,wu=null,_u=!1,Tu=!1,Cu=!1,Iu=0,Au=0,xu=0,ku=0,Ou=0,Nu=0,Ru=0,Pu=null,Du=null,Mu=!1,Lu=0,Uu=0,ju=1/0,Fu=null,qu=null,Hu=0,Gu=null,zu=null,Vu=0,Bu=0,$u=null,Ju=null,Wu=0,Yu=null;function Ku(){return 2&yu&&0!==Eu?Eu&-Eu:null!==j.T?$c():Ge()}function Qu(){if(0===Nu)if(536870912&Eu&&!go)Nu=536870912;else{var e=xe;!(3932160&(xe<<=1))&&(xe=262144),Nu=e}return null!==(e=Ui.current)&&(e.flags|=32),Nu}function Xu(e,t,n){(e!==vu||2!==Su&&9!==Su)&&null===e.cancelPendingCommit||(ic(e,0),nc(e,Eu,Nu,!1)),Le(e,n),2&yu&&e===vu||(e===vu&&(!(2&yu)&&(ku|=n),4===Au&&nc(e,Eu,Nu,!1)),Fc(e))}function Zu(e,t,n){if(6&yu)throw Error(r(327));for(var o=!n&&!(127&t)&&0===(t&e.expiredLanes)||Re(e,t),i=o?function(e,t){var n=yu;yu|=2;var o=ac(),i=uc();vu!==e||Eu!==t?(Fu=null,ju=pe()+500,ic(e,t)):Tu=Re(e,t);e:for(;;)try{if(0!==Su&&null!==bu){t=bu;var l=wu;t:switch(Su){case 1:Su=0,wu=null,gc(e,t,l,1);break;case 2:case 9:if(li(l)){Su=0,wu=null,mc(t);break}t=function(){2!==Su&&9!==Su||vu!==e||(Su=7),Fc(e)},l.then(t,t);break e;case 3:Su=7;break e;case 4:Su=5;break e;case 7:li(l)?(Su=0,wu=null,mc(t)):(Su=0,wu=null,gc(e,t,l,7));break;case 5:var s=null;switch(bu.tag){case 26:s=bu.memoizedState;case 5:case 27:var a=bu;if(s?ap(s):a.stateNode.complete){Su=0,wu=null;var u=a.sibling;if(null!==u)bu=u;else{var c=a.return;null!==c?(bu=c,yc(c)):bu=null}break t}}Su=0,wu=null,gc(e,t,l,5);break;case 6:Su=0,wu=null,gc(e,t,l,6);break;case 8:oc(),Au=6;break e;default:throw Error(r(462))}}fc();break}catch(d){lc(e,d)}return ko=xo=null,j.H=o,j.A=i,yu=n,null!==bu?0:(vu=null,Eu=0,Dr(),Au)}(e,t):dc(e,t,!0),l=o;;){if(0===i){Tu&&!o&&nc(e,t,0,!1);break}if(n=e.current.alternate,!l||tc(n)){if(2===i){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var a=e;i=Pu;var u=a.current.memoizedState.isDehydrated;if(u&&(ic(a,s).flags|=256),2!==(s=dc(a,s,!1))){if(Cu&&!u){a.errorRecoveryDisabledLanes|=l,ku|=l,i=4;break e}l=Du,Du=i,null!==l&&(null===Du?Du=l:Du.push.apply(Du,l))}i=s}if(l=!1,2!==i)continue}}if(1===i){ic(e,0),nc(e,t,0,!0);break}e:{switch(o=e,l=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:nc(o,t,Nu,!_u);break e;case 2:Du=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Lu+300-pe())){if(nc(o,t,Nu,!_u),0!==Ne(o,0,!0))break e;Vu=t,o.timeoutHandle=Cd(ec.bind(null,o,n,Du,Fu,Mu,t,Nu,ku,Ru,_u,l,"Throttled",-0,0),i)}else ec(o,n,Du,Fu,Mu,t,Nu,ku,Ru,_u,l,null,-0,0)}break}i=dc(e,t,!1),l=!1}Fc(e)}function ec(e,t,n,r,o,i,l,s,a,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){uu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var h=(62914560&i)===i?Lu-pe():(4194048&i)===i?Uu-pe():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&pp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&pp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===up&&(up=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,s=o.duration;if(i&&s&&yd(l)){for(l=0,s=o.responseEnd,r+=1;r<n.length;r++){var a=n[r],u=a.startTime;if(u>s)break;var c=a.transferSize,d=a.initiatorType;c&&yd(d)&&(l+=c*((a=a.responseEnd)<s?1:(s-u)/(a-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&pp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>up?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Vu=i,e.cancelPendingCommit=h(bc.bind(null,e,t,i,n,r,o,l,s,a,c,d,null,p,f)),void nc(e,i,l,!u)}bc(e,t,i,n,r,o,l,s,a)}function tc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!nr(i(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nc(e,t,n,r){t&=~Ou,t&=~ku,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-Te(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&Ue(e,n,t)}function rc(){return!!(6&yu)||(qc(0),!1)}function oc(){if(null!==bu){if(0===Su)var e=bu.return;else ko=xo=null,dl(e=bu),pi=null,fi=0,e=bu;for(;null!==e;)ba(e.alternate,e),e=e.return;bu=null}}function ic(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Id(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vu=0,oc(),vu=e,bu=n=Vr(e.current,null),Eu=t,Su=0,wu=null,_u=!1,Tu=Re(e,t),Cu=!1,Ru=Nu=Ou=ku=xu=Au=0,Du=Pu=null,Mu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-Te(r),i=1<<o;t|=e[o],r&=~i}return Iu=t,Dr(),n}function lc(e,t){Ji=null,j.H=bs,t===ni||t===oi?(t=ci(),Su=3):t===ri?(t=ci(),Su=4):Su=t===Ls?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wu=t,null===bu&&(Au=1,Ns(e,Xr(t,e.current)))}function sc(){var e=Ui.current;return null===e||((4194048&Eu)===Eu?null===ji:!!((62914560&Eu)===Eu||536870912&Eu)&&e===ji)}function ac(){var e=j.H;return j.H=bs,null===e?bs:e}function uc(){var e=j.A;return j.A=mu,e}function cc(){Au=4,_u||(4194048&Eu)!==Eu&&null!==Ui.current||(Tu=!0),!(134217727&xu)&&!(134217727&ku)||null===vu||nc(vu,Eu,Nu,!1)}function dc(e,t,n){var r=yu;yu|=2;var o=ac(),i=uc();vu===e&&Eu===t||(Fu=null,ic(e,t)),t=!1;var l=Au;e:for(;;)try{if(0!==Su&&null!==bu){var s=bu,a=wu;switch(Su){case 8:oc(),l=6;break e;case 3:case 2:case 9:case 6:null===Ui.current&&(t=!0);var u=Su;if(Su=0,wu=null,gc(e,s,a,u),n&&Tu){l=0;break e}break;default:u=Su,Su=0,wu=null,gc(e,s,a,u)}}pc(),l=Au;break}catch(c){lc(e,c)}return t&&e.shellSuspendCounter++,ko=xo=null,yu=r,j.H=o,j.A=i,null===bu&&(vu=null,Eu=0,Dr()),l}function pc(){for(;null!==bu;)hc(bu)}function fc(){for(;null!==bu&&!ce();)hc(bu)}function hc(e){var t=ca(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?yc(e):bu=t}function mc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ys(n,t,t.pendingProps,t.type,void 0,Eu);break;case 11:t=Ys(n,t,t.pendingProps,t.type.render,t.ref,Eu);break;case 5:dl(t);default:ba(n,t),t=ca(n,t=bu=Br(t,Iu),Iu)}e.memoizedProps=e.pendingProps,null===t?yc(e):bu=t}function gc(e,t,n,o){ko=xo=null,dl(t),pi=null,fi=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&Do(t,n,i,!0),null!==(n=Ui.current)){switch(n.tag){case 31:case 13:return null===ji?cc():null===n.alternate&&0===Au&&(Au=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===ii?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),xc(e,o,i)),!1;case 22:return n.flags|=65536,o===ii?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),xc(e,o,i)),!1}throw Error(r(435,n.tag))}return xc(e,o,i),cc(),!1}if(go)return null!==(t=Ui.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==bo&&Io(Xr(e=Error(r(422),{cause:o}),n))):(o!==bo&&Io(Xr(t=Error(r(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=Xr(o,n),Ii(e,i=Ps(e.stateNode,o,i)),4!==Au&&(Au=2)),!1;var l=Error(r(520),{cause:o});if(l=Xr(l,n),null===Pu?Pu=[l]:Pu.push(l),4!==Au&&(Au=2),null===t)return!0;o=Xr(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ii(n,e=Ps(n.stateNode,o,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==qu&&qu.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,Ms(i=Ds(i),e,n,o),Ii(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,Eu))return Au=1,Ns(e,Xr(n,e.current)),void(bu=null)}catch(l){if(null!==i)throw bu=i,l;return Au=1,Ns(e,Xr(n,e.current)),void(bu=null)}32768&t.flags?(go||1===o?e=!0:Tu||536870912&Eu?e=!1:(_u=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=Ui.current)&&13===o.tag&&(o.flags|=16384))),vc(t,e)):yc(t)}function yc(e){var t=e;do{if(32768&t.flags)return void vc(t,_u);e=t.return;var n=ya(t.alternate,t,Iu);if(null!==n)return void(bu=n);if(null!==(t=t.sibling))return void(bu=t);bu=t=e}while(null!==t);0===Au&&(Au=5)}function vc(e,t){do{var n=va(e.alternate,e);if(null!==n)return n.flags&=32767,void(bu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(bu=e);bu=e=n}while(null!==e);Au=6,bu=null}function bc(e,t,n,o,i,l,s,a,u){e.cancelPendingCommit=null;do{Tc()}while(0!==Hu);if(6&yu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,a=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Te(n),d=1<<c;s[c]=0,a[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ue(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,l|=Pr,s,a,u),e===vu&&(bu=vu=null,Eu=0),zu=t,Gu=e,Vu=n,Bu=l,$u=i,Ju=o,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(ge,function(){return Cc(),null})):(e.callbackNode=null,e.callbackPriority=0),o=!!(13878&t.flags),13878&t.subtreeFlags||o){o=j.T,j.T=null,i=F.p,F.p=2,s=yu,yu|=4;try{!function(e,t){if(e=e.containerInfo,vd=_p,ar(e=sr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(a=s+i),p!==l||0!==o&&3!==p.nodeType||(u=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(a=s),f===l&&++d===o&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===a||-1===u?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bd={focusedElem:e,selectionRange:n},_p=!1,Ua=t;null!==Ua;)if(e=(t=Ua).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ua=e;else for(;null!==Ua;){switch(l=(t=Ua).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,o=n.stateNode;try{var m=As(n.type,i);e=o.getSnapshotBeforeUpdate(m,l),o.__reactInternalSnapshotBeforeUpdate=e}catch(y){Ac(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Ua=e;break}Ua=t.return}}(e,t)}finally{yu=s,F.p=i,j.T=o}}Hu=1,Ec(),Sc(),wc()}}function Ec(){if(1===Hu){Hu=0;var e=Gu,t=zu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=j.T,j.T=null;var r=F.p;F.p=2;var o=yu;yu|=4;try{Ya(t,e);var i=bd,l=sr(e.containerInfo),s=i.focusedElem,a=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&lr(s.ownerDocument.documentElement,s)){if(null!==a&&ar(s)){var u=a.start,c=a.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=s.textContent.length,m=Math.min(a.start,h),g=void 0===a.end?m:Math.min(a.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=ir(s,m),v=ir(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var E=d[s];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}_p=!!vd,bd=vd=null}finally{yu=o,F.p=r,j.T=n}}e.current=t,Hu=2}}function Sc(){if(2===Hu){Hu=0;var e=Gu,t=zu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=j.T,j.T=null;var r=F.p;F.p=2;var o=yu;yu|=4;try{ja(e,t.alternate,t)}finally{yu=o,F.p=r,j.T=n}}Hu=3}}function wc(){if(4===Hu||3===Hu){Hu=0,de();var e=Gu,t=zu,n=Vu,r=Ju;10256&t.subtreeFlags||10256&t.flags?Hu=5:(Hu=0,zu=Gu=null,_c(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(qu=null),He(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(Se,t,void 0,!(128&~t.current.flags))}catch(a){}if(null!==r){t=j.T,o=F.p,F.p=2,j.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var s=r[l];i(s.value,{componentStack:s.stack})}}finally{j.T=t,F.p=o}}3&Vu&&Tc(),Fc(e),o=e.pendingLanes,261930&n&&42&o?e===Yu?Wu++:(Wu=0,Yu=e):Wu=0,qc(0)}}function _c(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function Tc(){return Ec(),Sc(),wc(),Cc()}function Cc(){if(5!==Hu)return!1;var e=Gu,t=Bu;Bu=0;var n=He(Vu),o=j.T,i=F.p;try{F.p=32>n?32:n,j.T=null,n=$u,$u=null;var l=Gu,s=Vu;if(Hu=0,zu=Gu=null,Vu=0,6&yu)throw Error(r(331));var a=yu;if(yu|=4,pu(l.current),ou(l,l.current,s,n),yu=a,qc(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(Se,l)}catch(u){}return!0}finally{F.p=i,j.T=o,_c(e,t)}}function Ic(e,t,n){t=Xr(n,t),null!==(e=Ti(e,t=Ps(e.stateNode,t,2),2))&&(Le(e,2),Fc(e))}function Ac(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qu||!qu.has(r))){e=Xr(n,e),null!==(r=Ti(t,n=Ds(2),2))&&(Ms(n,r,t,e),Le(r,2),Fc(r));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new gu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Cu=!0,o.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vu===e&&(Eu&n)===n&&(4===Au||3===Au&&(62914560&Eu)===Eu&&300>pe()-Lu?!(2&yu)&&ic(e,0):Ou|=n,Ru===Eu&&(Ru=0)),Fc(e)}function Oc(e,t){0===t&&(t=De()),null!==(e=Ur(e,t))&&(Le(e,t),Fc(e))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==o&&o.delete(t),Oc(e,n)}var Pc=null,Dc=null,Mc=!1,Lc=!1,Uc=!1,jc=0;function Fc(e){e!==Dc&&null===e.next&&(null===Dc?Pc=Dc=e:Dc=Dc.next=e),Lc=!0,Mc||(Mc=!0,xd(function(){6&yu?ae(he,Hc):Gc()}))}function qc(e,t){if(!Uc&&Lc){Uc=!0;do{for(var n=!1,r=Pc;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-Te(42|e)+1)-1,i=201326741&(i&=o&~(l&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Bc(r,i))}else i=Eu,!(3&(i=Ne(r,r===vu?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Re(r,i)||(n=!0,Bc(r,i));r=r.next}}while(n);Uc=!1}}function Hc(){Gc()}function Gc(){Lc=Mc=!1;var e=0;0!==jc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Td&&(Td=e,!0);return Td=null,!1}()&&(e=jc);for(var t=pe(),n=null,r=Pc;null!==r;){var o=r.next,i=zc(r,t);0===i?(r.next=null,null===n?Pc=o:n.next=o,null===o&&(Dc=n)):(n=r,(0!==e||3&i)&&(Lc=!0)),r=o}0!==Hu&&5!==Hu||qc(e),0!==jc&&(jc=0)}function zc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-Te(i),s=1<<l,a=o[l];-1===a?0!==(s&n)&&0===(s&r)||(o[l]=Pe(s,t)):a<=t&&(e.expiredLanes|=s),i&=~s}if(n=Eu,n=Ne(e,e===(t=vu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===Su||9===Su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ue(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Re(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ue(r),He(n)){case 2:case 8:n=me;break;case 32:default:n=ge;break;case 268435456:n=ve}return r=Vc.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ue(r),e.callbackPriority=2,e.callbackNode=null,2}function Vc(e,t){if(0!==Hu&&5!==Hu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=Eu;return 0===(r=Ne(e,e===vu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zu(e,r,t),zc(e,pe()),null!=e.callbackNode&&e.callbackNode===n?Vc.bind(null,e):null)}function Bc(e,t){if(Tc())return null;Zu(e,t,!0)}function $c(){if(0===jc){var e=Wo;0===e&&(e=Ae,!(261888&(Ae<<=1))&&(Ae=256)),jc=e}return jc}function Jc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Mt(""+e)}function Wc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Yc=0;Yc<xr.length;Yc++){var Kc=xr[Yc];kr(Kc.toLowerCase(),"on"+(Kc[0].toUpperCase()+Kc.slice(1)))}kr(Er,"onAnimationEnd"),kr(Sr,"onAnimationIteration"),kr(wr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(_r,"onTransitionRun"),kr(Tr,"onTransitionStart"),kr(Cr,"onTransitionCancel"),kr(Ir,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function Zc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=u;try{i(o)}catch(c){Or(c)}o.currentTarget=null,i=a}else for(l=0;l<r.length;l++){if(a=(s=r[l]).instance,u=s.currentTarget,s=s.listener,a!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=u;try{i(o)}catch(c){Or(c)}o.currentTarget=null,i=a}}}}function ed(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(od(t,e,2,!1),n.add(r))}function td(e,t,n){var r=0;t&&(r|=4),od(n,e,r,t)}var nd="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[nd]){e[nd]=!0,it.forEach(function(t){"selectionchange"!==t&&(Xc.has(t)||td(t,!1,e),td(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[nd]||(t[nd]=!0,td("selectionchange",!1,t))}}function od(e,t,n,r){switch(Op(t)){case 2:var o=Tp;break;case 8:o=Cp;break;default:o=Ip}n=o.bind(null,t,n,e),o=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function id(e,t,n,r,o){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=et(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=l=s;continue e}a=a.parentNode}}r=r.return}zt(function(){var r=l,o=jt(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var u=sn,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=fn;break;case"focusout":c="blur",u=fn;break;case"beforeblur":case"afterblur":u=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Er:case Sr:case wr:u=hn;break;case Ir:u=Cn;break;case"scroll":case"scrollend":u=un;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=_n;break;case"toggle":case"beforetoggle":u=An}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Vt(m,f))&&d.push(ld(m,g,h)),p)break;m=m.return}0<d.length&&(a=new u(a,c,null,n,o),s.push({event:a,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ut||!(c=n.relatedTarget||n.fromElement)||!et(c)&&!c[Je])&&(u||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?et(c):null)&&(p=i(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=dn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?a:nt(u),h=null==c?a:nt(c),(a=new d(g,m+"leave",u,n,o)).target=p,a.relatedTarget=h,g=null,et(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=ad,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&ud(s,a,u,d,!1),null!==c&&null!==p&&ud(s,p,c,d,!0)}if("select"===(u=(a=r?nt(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=Bn;else if(Fn(a))if($n)v=tr;else{v=Zn;var b=Xn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Rt(r.elementType)&&(v=Bn):v=er;switch(v&&(v=v(e,r))?qn(s,v,n,o):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&Tt(a,"number",a.value)),b=r?nt(r):window,e){case"focusin":(Fn(b)||"true"===b.contentEditable)&&(cr=b,dr=r,pr=null);break;case"focusout":pr=dr=cr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,hr(s,n,o);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":hr(s,n,o)}var E;if(kn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Un?Mn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==S?"onCompositionEnd"===S&&Un&&(E=Qt()):(Yt="value"in(Wt=o)?Wt.value:Wt.textContent,Un=!0)),0<(b=sd(r,S)).length&&(S=new gn(S,e,null,n,o),s.push({event:S,listeners:b}),E?S.data=E:null!==(E=Ln(n))&&(S.data=E))),(E=Nn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Dn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!kn&&Mn(e,t)?(e=Qt(),Kt=Yt=Wt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=sd(r,"onBeforeInput")).length&&(b=new gn("onBeforeInput","beforeinput",null,n,o),s.push({event:b,listeners:S}),b.data=E)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Jc((o[$e]||null).action),l=r.submitter;l&&null!==(t=(t=l[$e]||null)?Jc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var s=new sn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==jc){var e=l?Wc(o,l):new FormData(o);is(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(s.preventDefault(),e=l?Wc(o,l):new FormData(o),is(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(s,e,r,n,o)}Zc(s,t)})}function ld(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Vt(e,n))&&r.unshift(ld(e,o,i)),null!=(o=Vt(e,t))&&r.push(ld(e,o,i))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ud(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(s=s.tag,null!==a&&a===r)break;5!==s&&26!==s&&27!==s||null===u||(a=u,o?null!=(u=Vt(n,i))&&l.unshift(ld(n,u,a)):o||null!=(u=Vt(n,i))&&l.push(ld(n,u,a))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var cd=/\r\n?/g,dd=/\u0000|\uFFFD/g;function pd(e){return("string"==typeof e?e:""+e).replace(cd,"\n").replace(dd,"")}function fd(e,t){return t=pd(t),pd(e)===t}function hd(e,t,n,o,i,l){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||xt(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&xt(e,""+o);break;case"className":ft(e,"class",o);break;case"tabIndex":ft(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ft(e,n,o);break;case"style":Nt(e,o,l);break;case"data":if("object"!==t){ft(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Mt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&hd(e,t,"name",i.name,i,null),hd(e,t,"formEncType",i.formEncType,i,null),hd(e,t,"formMethod",i.formMethod,i,null),hd(e,t,"formTarget",i.formTarget,i,null)):(hd(e,t,"encType",i.encType,i,null),hd(e,t,"method",i.method,i,null),hd(e,t,"target",i.target,i,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=Mt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Lt);break;case"onScroll":null!=o&&ed("scroll",e);break;case"onScrollEnd":null!=o&&ed("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=Mt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":ed("beforetoggle",e),ed("toggle",e),pt(e,"popover",o);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&pt(e,n=Pt.get(n)||n,o)}}function md(e,t,n,o,i,l){switch(n){case"style":Nt(e,o,l);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof o?xt(e,o):("number"==typeof o||"bigint"==typeof o)&&xt(e,""+o);break;case"onScroll":null!=o&&ed("scroll",e);break;case"onScrollEnd":null!=o&&ed("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:lt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(l=null!=(l=e[$e]||null)?l[n]:null)&&e.removeEventListener(t,l,i),"function"!=typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):pt(e,n,o):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function gd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ed("error",e),ed("load",e);var o,i=!1,l=!1;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(null!=s)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,o,s,n,null)}}return l&&hd(e,t,"srcSet",n.srcSet,n,null),void(i&&hd(e,t,"src",n.src,n,null));case"input":ed("invalid",e);var a=o=s=l=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:hd(e,t,i,d,n,null)}}return void _t(e,o,a,u,c,s,l,!1);case"select":for(l in ed("invalid",e),i=s=o=null,n)if(n.hasOwnProperty(l)&&null!=(a=n[l]))switch(l){case"value":o=a;break;case"defaultValue":s=a;break;case"multiple":i=a;default:hd(e,t,l,a,n,null)}return t=o,n=s,e.multiple=!!i,void(null!=t?Ct(e,!!i,t,!1):null!=n&&Ct(e,!!i,n,!0));case"textarea":for(s in ed("invalid",e),o=l=i=null,n)if(n.hasOwnProperty(s)&&null!=(a=n[s]))switch(s){case"value":i=a;break;case"defaultValue":l=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:hd(e,t,s,a,n,null)}return void At(e,i,l,o);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else hd(e,t,u,i,n,null);return;case"dialog":ed("beforetoggle",e),ed("toggle",e),ed("cancel",e),ed("close",e);break;case"iframe":case"object":ed("load",e);break;case"video":case"audio":for(i=0;i<Qc.length;i++)ed(Qc[i],e);break;case"image":ed("error",e),ed("load",e);break;case"details":ed("toggle",e);break;case"embed":case"source":case"link":ed("error",e),ed("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,c,i,n,null)}return;default:if(Rt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&md(e,t,d,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(null!=(i=n[a])&&hd(e,t,a,i,n,null))}function yd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var vd=null,bd=null;function Ed(e){return 9===e.nodeType?e:e.ownerDocument}function Sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Td=null;var Cd="function"==typeof setTimeout?setTimeout:void 0,Id="function"==typeof clearTimeout?clearTimeout:void 0,Ad="function"==typeof Promise?Promise:void 0,xd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ad?function(e){return Ad.resolve(null).then(e).catch(kd)}:Cd;function kd(e){setTimeout(function(){throw e})}function Od(e){return"head"===e}function Nd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Wp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Gd(e.ownerDocument.documentElement);else if("head"===n){Gd(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,s=i.nodeName;i[Xe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&Gd(e.ownerDocument.body);n=o}while(n);Wp(t)}function Rd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ud(e.nextSibling)))return null}return e}function Md(e){return"$?"===e.data||"$~"===e.data}function Ld(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ud(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jd=null;function Fd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ud(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function qd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Hd(e,t,n){switch(t=Ed(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Gd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var zd=new Map,Vd=new Set;function Bd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var $d=F.d;F.d={f:function(){var e=$d.f(),t=rc();return e||t},r:function(e){var t=tt(e);null!==t&&5===t.tag&&"form"===t.type?ss(t):$d.r(e)},D:function(e){$d.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){$d.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){$d.L(e,t,n);var r=Jd;if(r&&e&&t){var o='link[rel="preload"][as="'+St(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+St(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+St(n.imageSizes)+'"]')):o+='[href="'+St(e)+'"]';var i=o;switch(t){case"style":i=Kd(e);break;case"script":i=Zd(e)}zd.has(i)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Qd(i))||"script"===t&&r.querySelector(ep(i))||(gd(t=r.createElement("link"),"link",e),ot(t),r.head.appendChild(t)))}},m:function(e,t){$d.m(e,t);var n=Jd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+St(r)+'"][href="'+St(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Zd(e)}if(!zd.has(i)&&(e=c({rel:"modulepreload",href:e},t),zd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ep(i)))return}gd(r=n.createElement("link"),"link",e),ot(r),n.head.appendChild(r)}}},X:function(e,t){$d.X(e,t);var n=Jd;if(n&&e){var r=rt(n).hoistableScripts,o=Zd(e),i=r.get(o);i||((i=n.querySelector(ep(o)))||(e=c({src:e,async:!0},t),(t=zd.get(o))&&op(e,t),ot(i=n.createElement("script")),gd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){$d.S(e,t,n);var r=Jd;if(r&&e){var o=rt(r).hoistableStyles,i=Kd(e);t=t||"default";var l=o.get(i);if(!l){var s={loading:0,preload:null};if(l=r.querySelector(Qd(i)))s.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(i))&&rp(e,n);var a=l=r.createElement("link");ot(a),gd(a,"link",e),a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),a.addEventListener("load",function(){s.loading|=1}),a.addEventListener("error",function(){s.loading|=2}),s.loading|=4,np(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:s},o.set(i,l)}}},M:function(e,t){$d.M(e,t);var n=Jd;if(n&&e){var r=rt(n).hoistableScripts,o=Zd(e),i=r.get(o);i||((i=n.querySelector(ep(o)))||(e=c({src:e,async:!0,type:"module"},t),(t=zd.get(o))&&op(e,t),ot(i=n.createElement("script")),gd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Jd="undefined"==typeof document?null:document;function Wd(e,t,n){var r=Jd;if(r&&"string"==typeof t&&t){var o=St(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Vd.has(o)||(Vd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(gd(t=r.createElement("link"),"link",e),ot(t),r.head.appendChild(t)))}}function Yd(e,t,n,o){var i,l,s,a,u=(u=K.current)?Bd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kd(n.href),(o=(n=rt(u).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kd(n.href);var c=rt(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Qd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),c||(i=u,l=e,s=n,a=d.state,i.querySelector('link[rel="preload"][as="style"]['+l+"]")?a.loading=1:(l=i.createElement("link"),a.preload=l,l.addEventListener("load",function(){return a.loading|=1}),l.addEventListener("error",function(){return a.loading|=2}),gd(l,"link",s),ot(l),i.head.appendChild(l))))),t&&null===o)throw Error(r(528,""));return d}if(t&&null!==o)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Zd(n),(o=(n=rt(u).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Kd(e){return'href="'+St(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Xd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Zd(e){return'[src="'+St(e)+'"]'}function ep(e){return"script[async]"+e}function tp(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+St(n.href)+'"]');if(o)return t.instance=o,ot(o),o;var i=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return ot(o=(e.ownerDocument||e).createElement("style")),gd(o,"style",i),np(o,n.precedence,e),t.instance=o;case"stylesheet":i=Kd(n.href);var l=e.querySelector(Qd(i));if(l)return t.state.loading|=4,t.instance=l,ot(l),l;o=Xd(n),(i=zd.get(i))&&rp(o,i),ot(l=(e.ownerDocument||e).createElement("link"));var s=l;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),gd(l,"link",o),t.state.loading|=4,np(l,n.precedence,e),t.instance=l;case"script":return l=Zd(n.src),(i=e.querySelector(ep(l)))?(t.instance=i,ot(i),i):(o=n,(i=zd.get(l))&&op(o=c({},n),i),ot(i=(e=e.ownerDocument||e).createElement("script")),gd(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,np(o,n.precedence,e));return t.instance}function np(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var s=r[l];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function rp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function op(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ip=null;function lp(e,t,n){if(null===ip){var r=new Map,o=ip=new Map;o.set(n,r)}else(r=(o=ip).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Xe]||i[Be]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var s=r.get(l);s?s.push(i):r.set(l,[i])}}return r}function sp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ap(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var up=0;function cp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var dp=null;function pp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,dp=new Map,t.forEach(fp,e),dp=null,cp.call(e))}function fp(e,t){if(!(4&t.state.loading)){var n=dp.get(e);if(n)var r=n.get(null);else{n=new Map,dp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=cp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var hp={$$typeof:S,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function mp(e,t,n,r,o,i,l,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function gp(e,t,n,r,o,i,l,s,a,u,c,d){return e=new mp(e,t,n,l,a,u,c,d,s),t=1,!0===i&&(t|=24),i=Gr(3,null,null,t),e.current=i,i.stateNode=e,(t=Vo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Si(i),e}function yp(e){return e?e=qr:qr}function vp(e,t,n,r,o,i){o=yp(o),null===r.context?r.context=o:r.pendingContext=o,(r=_i(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Ti(e,r,t))&&(Xu(n,0,t),Ci(n,e,t))}function bp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ep(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function Sp(e){if(13===e.tag||31===e.tag){var t=Ur(e,67108864);null!==t&&Xu(t,0,67108864),Ep(e,67108864)}}function wp(e){if(13===e.tag||31===e.tag){var t=Ku(),n=Ur(e,t=qe(t));null!==n&&Xu(n,0,t),Ep(e,t)}}var _p=!0;function Tp(e,t,n,r){var o=j.T;j.T=null;var i=F.p;try{F.p=2,Ip(e,t,n,r)}finally{F.p=i,j.T=o}}function Cp(e,t,n,r){var o=j.T;j.T=null;var i=F.p;try{F.p=8,Ip(e,t,n,r)}finally{F.p=i,j.T=o}}function Ip(e,t,n,r){if(_p){var o=Ap(r);if(null===o)id(e,t,r,xp,n),Fp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Rp=qp(Rp,e,t,n,r,o),!0;case"dragenter":return Pp=qp(Pp,e,t,n,r,o),!0;case"mouseover":return Dp=qp(Dp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mp.set(i,qp(Mp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lp.set(i,qp(Lp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Fp(e,r),4&t&&-1<jp.indexOf(e)){for(;null!==o;){var i=tt(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=Oe(i.pendingLanes);if(0!==l){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var a=1<<31-Te(l);s.entanglements[1]|=a,l&=~a}Fc(i),!(6&yu)&&(ju=pe()+500,qc(0))}}break;case 31:case 13:null!==(s=Ur(i,2))&&Xu(s,0,2),rc(),Ep(i,2)}if(null===(i=Ap(r))&&id(e,t,r,xp,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else id(e,t,r,null,n)}}function Ap(e){return kp(e=jt(e))}var xp=null;function kp(e){if(xp=null,null!==(e=et(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xp=e,null}function Op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case he:return 2;case me:return 8;case ge:case ye:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Np=!1,Rp=null,Pp=null,Dp=null,Mp=new Map,Lp=new Map,Up=[],jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,t){switch(e){case"focusin":case"focusout":Rp=null;break;case"dragenter":case"dragleave":Pp=null;break;case"mouseover":case"mouseout":Dp=null;break;case"pointerover":case"pointerout":Mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function qp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=tt(t))&&Sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Hp(e){var t=et(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void ze(e.priority,function(){wp(n)})}else if(31===t){if(null!==(t=s(n)))return e.blockedOn=t,void ze(e.priority,function(){wp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ap(e.nativeEvent);if(null!==n)return null!==(t=tt(n))&&Sp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ut=r,n.target.dispatchEvent(r),Ut=null,t.shift()}return!0}function zp(e,t,n){Gp(e)&&n.delete(t)}function Vp(){Np=!1,null!==Rp&&Gp(Rp)&&(Rp=null),null!==Pp&&Gp(Pp)&&(Pp=null),null!==Dp&&Gp(Dp)&&(Dp=null),Mp.forEach(zp),Lp.forEach(zp)}function Bp(t,n){t.blockedOn===n&&(t.blockedOn=null,Np||(Np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vp)))}var $p=null;function Jp(t){$p!==t&&($p=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$p===t&&($p=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if("function"!=typeof r){if(null===kp(r||n))continue;break}var i=tt(n);null!==i&&(t.splice(e,3),e-=3,is(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Wp(e){function t(t){return Bp(t,e)}null!==Rp&&Bp(Rp,e),null!==Pp&&Bp(Pp,e),null!==Dp&&Bp(Dp,e),Mp.forEach(t),Lp.forEach(t);for(var n=0;n<Up.length;n++){var r=Up[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Up.length&&null===(n=Up[0]).blockedOn;)Hp(n),null===n.blockedOn&&Up.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[$e]||null;if("function"==typeof i)l||Jp(n);else if(l){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[$e]||null)s=l.formAction;else if(null!==kp(o))continue}else s=l.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Jp(n)}}}function Yp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Kp(e){this._internalRoot=e}function Qp(e){this._internalRoot=e}Qp.prototype.render=Kp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));vp(t.current,Ku(),e,t,null,null)},Qp.prototype.unmount=Kp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vp(e.current,2,null,e,null,null),rc(),t[Je]=null}},Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ge();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Up.length&&0!==t&&t<Up[n].priority;n++);Up.splice(n,0,e),0===n&&Hp(e)}};var Xp=t.version;if("19.2.4"!==Xp)throw Error(r(527,Xp,"19.2.4"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(null===l)break;var s=l.alternate;if(null===s){if(null!==(o=l.return)){n=o;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return a(l),e;if(s===o)return a(l),t;s=s.sibling}throw Error(r(188))}if(n.return!==o.return)n=l,o=s;else{for(var u=!1,c=l.child;c;){if(c===n){u=!0,n=l,o=s;break}if(c===o){u=!0,o=l,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,o=l;break}if(c===o){u=!0,o=s,n=l;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Zp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Se=ef.inject(Zp),we=ef}catch(nf){}}return y.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,i="",l=xs,s=ks,a=Os;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=gp(e,1,!1,null,0,n,i,null,l,s,a,Yp),e[Je]=t.current,rd(e),new Kp(t)},y.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var i=!1,l="",s=xs,a=ks,u=Os,c=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=gp(e,1,!0,t,0,i,l,c,s,a,u,Yp)).context=yp(null),n=t.current,(l=_i(i=qe(i=Ku()))).callback=null,Ti(n,l,i),n=i,t.current.lanes=n,Le(t,n),Fc(t),e[Je]=t.current,rd(e),new Qp(t)},y.version="19.2.4",y}const k=e((T||(T=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),g.exports=x()),g.exports)),O=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),N=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};
/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},D=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...s},a)=>p.createElement("svg",{ref:a,...R,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:O("lucide",o),...!i&&!P(s)&&{"aria-hidden":"true"},...s},[...l.map(([e,t])=>p.createElement(e,t)),...Array.isArray(i)?i:[i]])),M=(e,t)=>{const n=p.forwardRef(({className:n,...r},o)=>{return p.createElement(D,{ref:o,iconNode:t,className:O(`lucide-${i=N(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var i});return n.displayName=N(e),n},L=M("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),U=M("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),j=M("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),F=M("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),q=M("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),H=M("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),G=M("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),z=M("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),V=M("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),B=M("clipboard-paste",[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]]),$=M("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),J=M("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),W=M("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Y=M("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),K=M("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Q=M("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),X=M("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Z=M("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ee=M("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),te=M("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ne=M("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),re=M("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),oe=M("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ie=M("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),le=M("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),se=Array.from({length:11},(e,t)=>8+t),ae="smart_flow_v14_data",ue="smart_flow_v14_backups",ce=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,de=Object.prototype.toString,pe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);
/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function fe(e){var t;if(!(e&&(t=e,"[object Error]"===de.call(t))&&"TypeError"===e.name&&"string"==typeof e.message))return!1;const{message:n,stack:r}=e;return"Load failed"===n?void 0===r||"__sentry_captured__"in e:!!n.startsWith("error sending request for url")||pe.has(n)}function he(e,t,{min:n=0,allowInfinity:r=!1}={}){if(void 0!==t){if("number"!=typeof t||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<n)throw new TypeError(`Expected \`${e}\` to be  ${n}.`)}}class me extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function ge(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function ye({error:e,attemptNumber:t,retriesConsumed:n,startTime:r,options:o}){var i,l,s,a;const u=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(u instanceof me)throw u.originalError;const c=Number.isFinite(o.retries)?Math.max(0,o.retries-n):o.retries,d=o.maxRetryTime??Number.POSITIVE_INFINITY,p=Object.freeze({error:u,attemptNumber:t,retriesLeft:c,retriesConsumed:n});if(await o.onFailedAttempt(p),ge(r,d)<=0)throw u;const f=await o.shouldConsumeRetry(p),h=ge(r,d);if(h<=0||c<=0)throw u;if(u instanceof TypeError&&!fe(u)){if(f)throw u;return null==(i=o.signal)||i.throwIfAborted(),!1}if(!(await o.shouldRetry(p)))throw u;if(!f)return null==(l=o.signal)||l.throwIfAborted(),!1;const m=function(e,t){const n=Math.max(1,e+1),r=t.randomize?Math.random()+1:1;let o=Math.round(r*t.minTimeout*t.factor**(n-1));return o=Math.min(o,t.maxTimeout),o}(n,o),g=Math.min(m,h);return null==(s=o.signal)||s.throwIfAborted(),g>0&&await new Promise((e,t)=>{var n,r;const i=()=>{var e;clearTimeout(l),null==(e=o.signal)||e.removeEventListener("abort",i),t(o.signal.reason)},l=setTimeout(()=>{var t;null==(t=o.signal)||t.removeEventListener("abort",i),e()},g);o.unref&&(null==(n=l.unref)||n.call(l)),null==(r=o.signal)||r.addEventListener("abort",i,{once:!0})}),null==(a=o.signal)||a.throwIfAborted(),!0}async function ve(e,t={}){var n,r,o;if(function(e){if("number"==typeof e){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(void 0!==e)throw new TypeError("Expected `retries` to be a number or Infinity.")}((t={...t}).retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),he("factor",t.factor,{min:0,allowInfinity:!1}),he("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),he("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),he("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),null==(n=t.signal)||n.throwIfAborted();let i=0,l=0;const s=performance.now();for(;!Number.isFinite(t.retries)||l<=t.retries;){i++;try{null==(r=t.signal)||r.throwIfAborted();const n=await e(i);return null==(o=t.signal)||o.throwIfAborted(),n}catch(a){await ye({error:a,attemptNumber:i,retriesConsumed:l,startTime:s,options:t})&&l++}}throw new Error("Retry attempts exhausted without throwing an error.")}var be={};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ee,Se;function we(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:Ee,vertexUrl:Se};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _e{}function Te(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function Ce(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){Ce(r[e],t.slice(i+1),n[e])}else for(const e of r)Ce(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void Ce(e[o][0],t.slice(i+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function Ie(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>Ie(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Ae(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),s=e;if(l in s&&Array.isArray(s[l]))for(const e of s[l])Ae(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);Ce(t,i,o)}for(const e of i)delete t[e]}}else{i in e&&Ae(e[i],t,n,r+1,o)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["response","generateVideoResponse"]);return null!=l&&Ce(t,["response"],function(e){const t={},n=Ie(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["video"]);null!=n&&Ce(t,["video"],function(e){const t={},n=Ie(e,["uri"]);null!=n&&Ce(t,["uri"],n);const r=Ie(e,["encodedVideo"]);null!=r&&Ce(t,["videoBytes"],xe(r));const o=Ie(e,["encoding"]);null!=o&&Ce(t,["mimeType"],o);return t}(n));return t}(e))),Ce(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ce(t,["raiMediaFilteredCount"],r);const o=Ie(e,["raiMediaFilteredReasons"]);null!=o&&Ce(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function Oe(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["response"]);return null!=l&&Ce(t,["response"],function(e){const t={},n=Ie(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ce(t,["video"],function(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ce(t,["uri"],n);const r=Ie(e,["bytesBase64Encoded"]);null!=r&&Ce(t,["videoBytes"],xe(r));const o=Ie(e,["mimeType"]);null!=o&&Ce(t,["mimeType"],o);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),Ce(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ce(t,["raiMediaFilteredCount"],r);const o=Ie(e,["raiMediaFilteredReasons"]);null!=o&&Ce(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function Ne(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["response"]);return null!=l&&Ce(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ce(t,["parent"],r);const o=Ie(e,["documentName"]);null!=o&&Ce(t,["documentName"],o);return t}(l)),t}function Re(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["response"]);return null!=l&&Ce(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ce(t,["parent"],r);const o=Ie(e,["documentName"]);null!=o&&Ce(t,["documentName"],o);return t}(l)),t}var Pe,De,Me,Le,Ue,je,Fe,qe,He,Ge,ze,Ve,Be,$e,Je,We,Ye,Ke,Qe,Xe,Ze,et,tt,nt,rt,ot,it,lt,st,at,ut,ct,dt,pt,ft,ht,mt,gt,yt,vt,bt,Et,St,wt,_t,Tt,Ct,It,At,xt,kt,Ot,Nt,Rt,Pt,Dt,Mt,Lt,Ut,jt,Ft,qt,Ht,Gt,zt,Vt,Bt,$t,Jt,Wt,Yt,Kt,Qt,Xt,Zt,en,tn,nn,rn,on,ln,sn,an,un,cn,dn,pn,fn,hn,mn,gn,yn,vn,bn,En,Sn,wn,_n,Tn,Cn,In,An,xn,kn,On,Nn,Rn,Pn,Dn,Mn,Ln,Un,jn,Fn,qn;(De=Pe||(Pe={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",De.OUTCOME_OK="OUTCOME_OK",De.OUTCOME_FAILED="OUTCOME_FAILED",De.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(Le=Me||(Me={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",Le.PYTHON="PYTHON",(je=Ue||(Ue={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",je.SILENT="SILENT",je.WHEN_IDLE="WHEN_IDLE",je.INTERRUPT="INTERRUPT",(qe=Fe||(Fe={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",qe.STRING="STRING",qe.NUMBER="NUMBER",qe.INTEGER="INTEGER",qe.BOOLEAN="BOOLEAN",qe.ARRAY="ARRAY",qe.OBJECT="OBJECT",qe.NULL="NULL",(Ge=He||(He={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",Ge.SIMPLE_SEARCH="SIMPLE_SEARCH",Ge.ELASTIC_SEARCH="ELASTIC_SEARCH",(Ve=ze||(ze={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Ve.NO_AUTH="NO_AUTH",Ve.API_KEY_AUTH="API_KEY_AUTH",Ve.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Ve.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Ve.OAUTH="OAUTH",Ve.OIDC_AUTH="OIDC_AUTH",($e=Be||(Be={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",$e.HTTP_IN_QUERY="HTTP_IN_QUERY",$e.HTTP_IN_HEADER="HTTP_IN_HEADER",$e.HTTP_IN_PATH="HTTP_IN_PATH",$e.HTTP_IN_BODY="HTTP_IN_BODY",$e.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(We=Je||(Je={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",We.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",We.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",We.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",We.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",We.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",We.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(Ke=Ye||(Ye={})).UNSPECIFIED="UNSPECIFIED",Ke.BLOCKING="BLOCKING",Ke.NON_BLOCKING="NON_BLOCKING",(Xe=Qe||(Qe={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Xe.MODE_DYNAMIC="MODE_DYNAMIC",(et=Ze||(Ze={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",et.AUTO="AUTO",et.ANY="ANY",et.NONE="NONE",et.VALIDATED="VALIDATED",(nt=tt||(tt={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",nt.LOW="LOW",nt.MEDIUM="MEDIUM",nt.HIGH="HIGH",nt.MINIMAL="MINIMAL",(ot=rt||(rt={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",ot.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",ot.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",ot.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",ot.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",ot.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",ot.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",ot.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",ot.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",ot.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",ot.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(lt=it||(it={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",lt.SEVERITY="SEVERITY",lt.PROBABILITY="PROBABILITY",(at=st||(st={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",at.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",at.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",at.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",at.BLOCK_NONE="BLOCK_NONE",at.OFF="OFF",(ct=ut||(ut={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",ct.STOP="STOP",ct.MAX_TOKENS="MAX_TOKENS",ct.SAFETY="SAFETY",ct.RECITATION="RECITATION",ct.LANGUAGE="LANGUAGE",ct.OTHER="OTHER",ct.BLOCKLIST="BLOCKLIST",ct.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ct.SPII="SPII",ct.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",ct.IMAGE_SAFETY="IMAGE_SAFETY",ct.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",ct.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",ct.NO_IMAGE="NO_IMAGE",ct.IMAGE_RECITATION="IMAGE_RECITATION",ct.IMAGE_OTHER="IMAGE_OTHER",(pt=dt||(dt={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",pt.NEGLIGIBLE="NEGLIGIBLE",pt.LOW="LOW",pt.MEDIUM="MEDIUM",pt.HIGH="HIGH",(ht=ft||(ft={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",ht.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",ht.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",ht.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",ht.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(gt=mt||(mt={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",gt.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",gt.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",gt.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",gt.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(vt=yt||(yt={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",vt.SAFETY="SAFETY",vt.OTHER="OTHER",vt.BLOCKLIST="BLOCKLIST",vt.PROHIBITED_CONTENT="PROHIBITED_CONTENT",vt.IMAGE_SAFETY="IMAGE_SAFETY",vt.MODEL_ARMOR="MODEL_ARMOR",vt.JAILBREAK="JAILBREAK",(Et=bt||(bt={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",Et.ON_DEMAND="ON_DEMAND",Et.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(wt=St||(St={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",wt.TEXT="TEXT",wt.IMAGE="IMAGE",wt.AUDIO="AUDIO",(Tt=_t||(_t={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Tt.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Tt.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Tt.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(It=Ct||(Ct={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",It.TUNING_MODE_FULL="TUNING_MODE_FULL",It.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(xt=At||(At={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",xt.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",xt.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",xt.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",xt.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",xt.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",xt.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Ot=kt||(kt={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Ot.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Ot.JOB_STATE_PENDING="JOB_STATE_PENDING",Ot.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Ot.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Ot.JOB_STATE_FAILED="JOB_STATE_FAILED",Ot.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Ot.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Ot.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Ot.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Ot.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Ot.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Rt=Nt||(Nt={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Rt.TUNING_TASK_I2V="TUNING_TASK_I2V",Rt.TUNING_TASK_T2V="TUNING_TASK_T2V",Rt.TUNING_TASK_R2V="TUNING_TASK_R2V",(Dt=Pt||(Pt={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Dt.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Dt.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Dt.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",Dt.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(Mt||(Mt={})).COLLECTION="COLLECTION",(Ut=Lt||(Lt={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",Ut.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",Ut.BALANCED="BALANCED",Ut.PRIORITIZE_COST="PRIORITIZE_COST",(Ft=jt||(jt={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",Ft.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(Ht=qt||(qt={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ht.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ht.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ht.BLOCK_NONE="BLOCK_NONE",(zt=Gt||(Gt={})).DONT_ALLOW="DONT_ALLOW",zt.ALLOW_ADULT="ALLOW_ADULT",zt.ALLOW_ALL="ALLOW_ALL",(Bt=Vt||(Vt={})).auto="auto",Bt.en="en",Bt.ja="ja",Bt.ko="ko",Bt.hi="hi",Bt.zh="zh",Bt.pt="pt",Bt.es="es",(Jt=$t||($t={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",Jt.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",Jt.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",Jt.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",Jt.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Yt=Wt||(Wt={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Yt.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Yt.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Yt.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(Qt=Kt||(Kt={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",Qt.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",Qt.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",Qt.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(Zt=Xt||(Xt={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",Zt.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",Zt.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",Zt.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",Zt.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",Zt.EDIT_MODE_STYLE="EDIT_MODE_STYLE",Zt.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",Zt.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(tn=en||(en={})).FOREGROUND="FOREGROUND",tn.BACKGROUND="BACKGROUND",tn.PROMPT="PROMPT",tn.SEMANTIC="SEMANTIC",tn.INTERACTIVE="INTERACTIVE",(rn=nn||(nn={})).ASSET="ASSET",rn.STYLE="STYLE",(ln=on||(on={})).INSERT="INSERT",ln.REMOVE="REMOVE",ln.REMOVE_STATIC="REMOVE_STATIC",ln.OUTPAINT="OUTPAINT",(an=sn||(sn={})).OPTIMIZED="OPTIMIZED",an.LOSSLESS="LOSSLESS",(cn=un||(un={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",cn.PREFERENCE_TUNING="PREFERENCE_TUNING",cn.DISTILLATION="DISTILLATION",(pn=dn||(dn={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",pn.STATE_PENDING="STATE_PENDING",pn.STATE_ACTIVE="STATE_ACTIVE",pn.STATE_FAILED="STATE_FAILED",(hn=fn||(fn={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",hn.PROCESSING="PROCESSING",hn.ACTIVE="ACTIVE",hn.FAILED="FAILED",(gn=mn||(mn={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",gn.UPLOADED="UPLOADED",gn.GENERATED="GENERATED",gn.REGISTERED="REGISTERED",(vn=yn||(yn={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",vn.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",vn.RESPONSE_REJECTED="RESPONSE_REJECTED",vn.NEED_MORE_INPUT="NEED_MORE_INPUT",(En=bn||(bn={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",En.TEXT="TEXT",En.IMAGE="IMAGE",En.VIDEO="VIDEO",En.AUDIO="AUDIO",En.DOCUMENT="DOCUMENT",(wn=Sn||(Sn={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",wn.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",wn.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(Tn=_n||(_n={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",Tn.ACTIVITY_START="ACTIVITY_START",Tn.ACTIVITY_END="ACTIVITY_END",(In=Cn||(Cn={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",In.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",In.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(xn=An||(An={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",xn.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",xn.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(On=kn||(kn={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",On.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",On.NO_INTERRUPTION="NO_INTERRUPTION",(Rn=Nn||(Nn={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Rn.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Rn.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Dn=Pn||(Pn={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Dn.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Dn.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Dn.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Dn.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Dn.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Dn.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Dn.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Dn.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Dn.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Dn.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Dn.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Dn.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(Ln=Mn||(Mn={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Ln.QUALITY="QUALITY",Ln.DIVERSITY="DIVERSITY",Ln.VOCALIZATION="VOCALIZATION",(jn=Un||(Un={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",jn.PLAY="PLAY",jn.PAUSE="PAUSE",jn.STOP="STOP",jn.RESET_CONTEXT="RESET_CONTEXT";class Hn{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gn{get text(){var e,t,n,r,o,i,l,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let a="",u=!1;const c=[];for(const d of null!==(s=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,a+=d.text}}return c.length,u?a:void 0}get data(){var e,t,n,r,o,i,l,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let a="";const u=[];for(const c of null!==(s=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(a+=atob(c.inlineData.data))}return u.length,a.length>0?btoa(a):void 0}get functionCalls(){var e,t,n,r,o,i,l,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const a=null===(s=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==a?void 0:a.length)?a:void 0}get executableCode(){var e,t,n,r,o,i,l,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(a=null==u?void 0:u[0])||void 0===a?void 0:a.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(a=null==u?void 0:u[0])||void 0===a?void 0:a.output:void 0}}class zn{}class Vn{}class Bn{}class $n{}class Jn{}class Wn{}class Yn{}class Kn{}class Qn{}class Xn{}class Zn{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Zn;let r;const o=e;return r=t?Oe(o):ke(o),Object.assign(n,r),n}}class er{}class tr{}class nr{}class rr{}class or{}class ir{}class lr{}class sr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new sr,r=Ne(e);return Object.assign(n,r),n}}class ar{}class ur{}class cr{}class dr{}class pr{}class fr{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length,o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length,r.length>0?btoa(r):void 0}}class hr{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class mr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new mr,r=Re(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gr(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function yr(e,t){const n=gr(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function vr(e){return Array.isArray(e)?e.map(e=>br(e)):[br(e)]}function br(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function Er(e){const t=br(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sr(e){const t=br(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wr(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function _r(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>wr(e)):[wr(e)]}function Tr(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Cr(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Ir(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function Ar(e){if(null==e)throw new Error("ContentUnion is required");return Tr(e)?e:{role:"user",parts:_r(e)}}function xr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=Ar(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=Ar(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Ar(e)):[Ar(t)]}function kr(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Cr(e)||Ir(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ar(e)]}const t=[],n=[],r=Tr(e[0]);for(const o of e){const e=Tr(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(Cr(o)||Ir(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:_r(n)}),t}function Or(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Fe).includes(n[0].toUpperCase())?n[0].toUpperCase():Fe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Fe).includes(e.toUpperCase())?e.toUpperCase():Fe.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,s]of Object.entries(e))if(null!=s)if("type"==l){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Fe).includes(s.toUpperCase())?s.toUpperCase():Fe.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Or(s);else if(r.includes(l)){const e=[];for(const n of s)"null"!=n.type?e.push(Or(n)):t.nullable=!0;t[l]=e}else if(o.includes(l)){const e={};for(const[t,n]of Object.entries(s))e[t]=Or(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=s}return t}function Nr(e){return Or(e)}function Rr(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Pr(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Dr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Or(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Or(t.response));return e}function Mr(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Lr(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Ur(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function jr(e){return xe(e)}function Fr(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qr(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Hr(e){for(const t of["models","tunedModels","publisherModels"])if(Gr(e,t))return e[t];return[]}function Gr(e,t){return null!==e&&"object"==typeof e&&t in e}function zr(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function Vr(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Br(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const i of r){if("object"!=typeof i||null===i)continue;const e=i.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function $r(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Jr(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wr(e){const t={},n=Ie(e,["responsesFile"]);null!=n&&Ce(t,["fileName"],n);const r=Ie(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["response"]);null!=n&&Ce(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["content"]);null!=n&&Ce(t,["content"],n);const r=Ie(e,["citationMetadata"]);null!=r&&Ce(t,["citationMetadata"],function(e){const t={},n=Ie(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["citations"],e)}return t}(r));const o=Ie(e,["tokenCount"]);null!=o&&Ce(t,["tokenCount"],o);const i=Ie(e,["finishReason"]);null!=i&&Ce(t,["finishReason"],i);const l=Ie(e,["avgLogprobs"]);null!=l&&Ce(t,["avgLogprobs"],l);const s=Ie(e,["groundingMetadata"]);null!=s&&Ce(t,["groundingMetadata"],s);const a=Ie(e,["index"]);null!=a&&Ce(t,["index"],a);const u=Ie(e,["logprobsResult"]);null!=u&&Ce(t,["logprobsResult"],u);const c=Ie(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["safetyRatings"],e)}const d=Ie(e,["urlContextMetadata"]);null!=d&&Ce(t,["urlContextMetadata"],d);return t}(e))),Ce(t,["candidates"],e)}const o=Ie(e,["modelVersion"]);null!=o&&Ce(t,["modelVersion"],o);const i=Ie(e,["promptFeedback"]);null!=i&&Ce(t,["promptFeedback"],i);const l=Ie(e,["responseId"]);null!=l&&Ce(t,["responseId"],l);const s=Ie(e,["usageMetadata"]);null!=s&&Ce(t,["usageMetadata"],s);return t}(n));const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["error"]);null!=o&&Ce(t,["error"],o);return t}(e))),Ce(t,["inlinedResponses"],e)}const o=Ie(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["inlinedEmbedContentResponses"],e)}return t}function Yr(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata","displayName"]);null!=r&&Ce(t,["displayName"],r);const o=Ie(e,["metadata","state"]);null!=o&&Ce(t,["state"],Jr(o));const i=Ie(e,["metadata","createTime"]);null!=i&&Ce(t,["createTime"],i);const l=Ie(e,["metadata","endTime"]);null!=l&&Ce(t,["endTime"],l);const s=Ie(e,["metadata","updateTime"]);null!=s&&Ce(t,["updateTime"],s);const a=Ie(e,["metadata","model"]);null!=a&&Ce(t,["model"],a);const u=Ie(e,["metadata","output"]);return null!=u&&Ce(t,["dest"],Wr(Br(u))),t}function Kr(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["displayName"]);null!=r&&Ce(t,["displayName"],r);const o=Ie(e,["state"]);null!=o&&Ce(t,["state"],Jr(o));const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["createTime"]);null!=l&&Ce(t,["createTime"],l);const s=Ie(e,["startTime"]);null!=s&&Ce(t,["startTime"],s);const a=Ie(e,["endTime"]);null!=a&&Ce(t,["endTime"],a);const u=Ie(e,["updateTime"]);null!=u&&Ce(t,["updateTime"],u);const c=Ie(e,["model"]);null!=c&&Ce(t,["model"],c);const d=Ie(e,["inputConfig"]);null!=d&&Ce(t,["src"],function(e){const t={},n=Ie(e,["instancesFormat"]);null!=n&&Ce(t,["format"],n);const r=Ie(e,["gcsSource","uris"]);null!=r&&Ce(t,["gcsUri"],r);const o=Ie(e,["bigquerySource","inputUri"]);null!=o&&Ce(t,["bigqueryUri"],o);return t}(d));const p=Ie(e,["outputConfig"]);null!=p&&Ce(t,["dest"],function(e){const t={},n=Ie(e,["predictionsFormat"]);null!=n&&Ce(t,["format"],n);const r=Ie(e,["gcsDestination","outputUriPrefix"]);null!=r&&Ce(t,["gcsUri"],r);const o=Ie(e,["bigqueryDestination","outputUri"]);return null!=o&&Ce(t,["bigqueryUri"],o),t}(Br(p)));const f=Ie(e,["completionStats"]);return null!=f&&Ce(t,["completionStats"],f),t}function Qr(e,t){const n={};if(void 0!==Ie(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Ie(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=Ie(t,["fileName"]);null!=r&&Ce(n,["fileName"],r);const o=Ie(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["request","model"],gr(e,r));const o=Ie(t,["contents"]);if(null!=o){let e=kr(o);Array.isArray(e)&&(e=e.map(e=>Xr(e))),Ce(n,["request","contents"],e)}const i=Ie(t,["metadata"]);null!=i&&Ce(n,["metadata"],i);const l=Ie(t,["config"]);null!=l&&Ce(n,["request","generationConfig"],function(e,t,n){const r={},o=Ie(t,["systemInstruction"]);void 0!==n&&null!=o&&Ce(n,["systemInstruction"],Xr(Ar(o)));const i=Ie(t,["temperature"]);null!=i&&Ce(r,["temperature"],i);const l=Ie(t,["topP"]);null!=l&&Ce(r,["topP"],l);const s=Ie(t,["topK"]);null!=s&&Ce(r,["topK"],s);const a=Ie(t,["candidateCount"]);null!=a&&Ce(r,["candidateCount"],a);const u=Ie(t,["maxOutputTokens"]);null!=u&&Ce(r,["maxOutputTokens"],u);const c=Ie(t,["stopSequences"]);null!=c&&Ce(r,["stopSequences"],c);const d=Ie(t,["responseLogprobs"]);null!=d&&Ce(r,["responseLogprobs"],d);const p=Ie(t,["logprobs"]);null!=p&&Ce(r,["logprobs"],p);const f=Ie(t,["presencePenalty"]);null!=f&&Ce(r,["presencePenalty"],f);const h=Ie(t,["frequencyPenalty"]);null!=h&&Ce(r,["frequencyPenalty"],h);const m=Ie(t,["seed"]);null!=m&&Ce(r,["seed"],m);const g=Ie(t,["responseMimeType"]);null!=g&&Ce(r,["responseMimeType"],g);const y=Ie(t,["responseSchema"]);null!=y&&Ce(r,["responseSchema"],Nr(y));const v=Ie(t,["responseJsonSchema"]);null!=v&&Ce(r,["responseJsonSchema"],v);if(void 0!==Ie(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Ie(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Ie(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["category"]);null!=n&&Ce(t,["category"],n);if(void 0!==Ie(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Ie(e,["threshold"]);null!=r&&Ce(t,["threshold"],r);return t}(e))),Ce(n,["safetySettings"],e)}const E=Ie(t,["tools"]);if(void 0!==n&&null!=E){let e=Mr(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ce(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ce(t,["fileSearch"],r);const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Ie(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["functionDeclarations"],e)}const l=Ie(e,["googleMaps"]);null!=l&&Ce(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ce(t,["enableWidget"],n);return t}(l));const s=Ie(e,["googleSearch"]);null!=s&&Ce(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ce(t,["timeRangeFilter"],n);return t}(s));const a=Ie(e,["googleSearchRetrieval"]);null!=a&&Ce(t,["googleSearchRetrieval"],a);const u=Ie(e,["urlContext"]);null!=u&&Ce(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Dr(e)))),Ce(n,["tools"],e)}const S=Ie(t,["toolConfig"]);void 0!==n&&null!=S&&Ce(n,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ce(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ce(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ce(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);null!=r&&Ce(t,["mode"],r);if(void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(S));if(void 0!==Ie(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=Ie(t,["cachedContent"]);void 0!==n&&null!=w&&Ce(n,["cachedContent"],Lr(e,w));const _=Ie(t,["responseModalities"]);null!=_&&Ce(r,["responseModalities"],_);const T=Ie(t,["mediaResolution"]);null!=T&&Ce(r,["mediaResolution"],T);const C=Ie(t,["speechConfig"]);null!=C&&Ce(r,["speechConfig"],Rr(C));if(void 0!==Ie(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=Ie(t,["thinkingConfig"]);null!=I&&Ce(r,["thinkingConfig"],I);const A=Ie(t,["imageConfig"]);null!=A&&Ce(r,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ce(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ce(t,["imageSize"],r);if(void 0!==Ie(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const x=Ie(t,["enableEnhancedCivicAnswers"]);null!=x&&Ce(r,["enableEnhancedCivicAnswers"],x);if(void 0!==Ie(t,["modelArmorConfig"]))throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}(e,l,Ie(n,["request"],{})));return n}(e,t))),Ce(n,["requests","requests"],t)}return n}function Xr(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ce(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ce(t,["codeExecutionResult"],r);const o=Ie(e,["executableCode"]);null!=o&&Ce(t,["executableCode"],o);const i=Ie(e,["fileData"]);null!=i&&Ce(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ce(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(i));const l=Ie(e,["functionCall"]);null!=l&&Ce(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ce(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ce(t,["args"],r);const o=Ie(e,["name"]);null!=o&&Ce(t,["name"],o);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=Ie(e,["functionResponse"]);null!=s&&Ce(t,["functionResponse"],s);const a=Ie(e,["inlineData"]);null!=a&&Ce(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ce(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ce(t,["mimeType"],r),t}(a));const u=Ie(e,["text"]);null!=u&&Ce(t,["text"],u);const c=Ie(e,["thought"]);null!=c&&Ce(t,["thought"],c);const d=Ie(e,["thoughtSignature"]);null!=d&&Ce(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ce(t,["videoMetadata"],p);return t}(e))),Ce(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ce(t,["role"],r),t}function Zr(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ce(t,["displayName"],n);const r=Ie(e,["dest"]);return void 0!==t&&null!=r&&Ce(t,["outputConfig"],function(e){const t={},n=Ie(e,["format"]);null!=n&&Ce(t,["predictionsFormat"],n);const r=Ie(e,["gcsUri"]);null!=r&&Ce(t,["gcsDestination","outputUriPrefix"],r);const o=Ie(e,["bigqueryUri"]);if(null!=o&&Ce(t,["bigqueryDestination","outputUri"],o),void 0!==Ie(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function eo(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["_url","model"],gr(e,r));const o=Ie(t,["src"]);null!=o&&Ce(n,["batch","inputConfig"],Qr(e,Vr(e,o)));const i=Ie(t,["config"]);return null!=i&&function(e,t){const n=Ie(e,["displayName"]);if(void 0!==t&&null!=n&&Ce(t,["batch","displayName"],n),void 0!==Ie(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function to(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["model"],gr(e,r));const o=Ie(t,["src"]);null!=o&&Ce(n,["inputConfig"],function(e){const t={},n=Ie(e,["format"]);null!=n&&Ce(t,["instancesFormat"],n);const r=Ie(e,["gcsUri"]);null!=r&&Ce(t,["gcsSource","uris"],r);const o=Ie(e,["bigqueryUri"]);if(null!=o&&Ce(t,["bigquerySource","inputUri"],o),void 0!==Ie(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Vr(e,o)));const i=Ie(t,["config"]);return null!=i&&Zr(i,n),n}function no(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["_url","model"],gr(e,r));const o=Ie(t,["src"]);null!=o&&Ce(n,["batch","inputConfig"],function(e,t){const n={},r=Ie(t,["fileName"]);null!=r&&Ce(n,["file_name"],r);const o=Ie(t,["inlinedRequests"]);null!=o&&Ce(n,["requests"],function(e,t){const n={},r=Ie(t,["contents"]);if(null!=r){let t=xr(e,r);Array.isArray(t)&&(t=t.map(e=>e)),Ce(n,["requests[]","request","content"],t)}const o=Ie(t,["config"]);null!=o&&(Ce(n,["_self"],function(e,t){const n={},r=Ie(e,["taskType"]);void 0!==t&&null!=r&&Ce(t,["requests[]","taskType"],r);const o=Ie(e,["title"]);void 0!==t&&null!=o&&Ce(t,["requests[]","title"],o);const i=Ie(e,["outputDimensionality"]);void 0!==t&&null!=i&&Ce(t,["requests[]","outputDimensionality"],i);if(void 0!==Ie(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(o,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),o=r.split("."),i=new Set;let l=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}Ae(e,t,o,0,i)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,o));return n}(e,o));const i=Ie(t,["config"]);return null!=i&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ce(t,["batch","displayName"],n)}(i,n),n}function ro(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);if(void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r),void 0!==Ie(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function oo(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r);const o=Ie(e,["filter"]);void 0!==t&&null!=o&&Ce(t,["_query","filter"],o)}(n,t),t}(qn=Fn||(Fn={})).PAGED_ITEM_BATCH_JOBS="batchJobs",qn.PAGED_ITEM_MODELS="models",qn.PAGED_ITEM_TUNING_JOBS="tuningJobs",qn.PAGED_ITEM_FILES="files",qn.PAGED_ITEM_CACHED_CONTENTS="cachedContents",qn.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",qn.PAGED_ITEM_DOCUMENTS="documents";class io{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lo extends _e{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new io(Fn.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=eo(this.apiClient,e),n=Te("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const l of o){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=to(this.apiClient,e);return l=Te("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Kr(e))}{const t=eo(this.apiClient,e);return l=Te("{model}:batchGenerateContent",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Yr(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=no(this.apiClient,e);return o=Te("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Yr(e))}}async get(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);return l=Te("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Kr(e))}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);return l=Te("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Yr(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);i=Te("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);i=Te("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=oo(e);return l=Te("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Kr(e))),Ce(t,["batchJobs"],e)}return t}(e),n=new pr;return Object.assign(n,t),n})}{const t=ro(e);return l=Te("batches",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Yr(e))),Ce(t,["batchJobs"],e)}return t}(e),n=new pr;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);return l=Te("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);return null!=i&&Ce(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],$r(e,r)),n}(this.apiClient,e);return l=Te("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);return null!=i&&Ce(t,["error"],i),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function so(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ce(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ce(t,["codeExecutionResult"],r);const o=Ie(e,["executableCode"]);null!=o&&Ce(t,["executableCode"],o);const i=Ie(e,["fileData"]);null!=i&&Ce(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ce(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(i));const l=Ie(e,["functionCall"]);null!=l&&Ce(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ce(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ce(t,["args"],r);const o=Ie(e,["name"]);null!=o&&Ce(t,["name"],o);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=Ie(e,["functionResponse"]);null!=s&&Ce(t,["functionResponse"],s);const a=Ie(e,["inlineData"]);null!=a&&Ce(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ce(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ce(t,["mimeType"],r),t}(a));const u=Ie(e,["text"]);null!=u&&Ce(t,["text"],u);const c=Ie(e,["thought"]);null!=c&&Ce(t,["thought"],c);const d=Ie(e,["thoughtSignature"]);null!=d&&Ce(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ce(t,["videoMetadata"],p);return t}(e))),Ce(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ce(t,["role"],r),t}function ao(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ce(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ce(t,["expireTime"],r);const o=Ie(e,["displayName"]);void 0!==t&&null!=o&&Ce(t,["displayName"],o);const i=Ie(e,["contents"]);if(void 0!==t&&null!=i){let e=kr(i);Array.isArray(e)&&(e=e.map(e=>so(e))),Ce(t,["contents"],e)}const l=Ie(e,["systemInstruction"]);void 0!==t&&null!=l&&Ce(t,["systemInstruction"],so(Ar(l)));const s=Ie(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ce(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ce(t,["fileSearch"],r);const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Ie(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["functionDeclarations"],e)}const l=Ie(e,["googleMaps"]);null!=l&&Ce(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ce(t,["enableWidget"],n);return t}(l));const s=Ie(e,["googleSearch"]);null!=s&&Ce(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ce(t,["timeRangeFilter"],n);return t}(s));const a=Ie(e,["googleSearchRetrieval"]);null!=a&&Ce(t,["googleSearchRetrieval"],a);const u=Ie(e,["urlContext"]);null!=u&&Ce(t,["urlContext"],u);return t}(e))),Ce(t,["tools"],e)}const a=Ie(e,["toolConfig"]);if(void 0!==t&&null!=a&&Ce(t,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ce(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ce(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ce(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);null!=r&&Ce(t,["mode"],r);if(void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(a)),void 0!==Ie(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function uo(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ce(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ce(t,["expireTime"],r);const o=Ie(e,["displayName"]);void 0!==t&&null!=o&&Ce(t,["displayName"],o);const i=Ie(e,["contents"]);if(void 0!==t&&null!=i){let e=kr(i);Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["contents"],e)}const l=Ie(e,["systemInstruction"]);void 0!==t&&null!=l&&Ce(t,["systemInstruction"],Ar(l));const s=Ie(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["retrieval"]);null!=n&&Ce(t,["retrieval"],n);const r=Ie(e,["computerUse"]);null!=r&&Ce(t,["computerUse"],r);if(void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);const i=Ie(e,["enterpriseWebSearch"]);null!=i&&Ce(t,["enterpriseWebSearch"],i);const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ce(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["parameters"]);null!=o&&Ce(t,["parameters"],o);const i=Ie(e,["parametersJsonSchema"]);null!=i&&Ce(t,["parametersJsonSchema"],i);const l=Ie(e,["response"]);null!=l&&Ce(t,["response"],l);const s=Ie(e,["responseJsonSchema"]);null!=s&&Ce(t,["responseJsonSchema"],s);if(void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ce(t,["functionDeclarations"],e)}const s=Ie(e,["googleMaps"]);null!=s&&Ce(t,["googleMaps"],s);const a=Ie(e,["googleSearch"]);null!=a&&Ce(t,["googleSearch"],a);const u=Ie(e,["googleSearchRetrieval"]);null!=u&&Ce(t,["googleSearchRetrieval"],u);const c=Ie(e,["urlContext"]);null!=c&&Ce(t,["urlContext"],c);return t}(e))),Ce(t,["tools"],e)}const a=Ie(e,["toolConfig"]);void 0!==t&&null!=a&&Ce(t,["toolConfig"],a);const u=Ie(e,["kmsKeyName"]);return void 0!==t&&null!=u&&Ce(t,["encryption_spec","kmsKeyName"],u),{}}function co(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r)}(n,t),t}function po(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r)}(n,t),t}function fo(e,t){const n={},r=Ie(t,["name"]);null!=r&&Ce(n,["_url","name"],Lr(e,r));const o=Ie(t,["config"]);return null!=o&&function(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ce(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ce(t,["expireTime"],r)}(o,n),n}function ho(e,t){const n={},r=Ie(t,["name"]);null!=r&&Ce(n,["_url","name"],Lr(e,r));const o=Ie(t,["config"]);return null!=o&&function(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ce(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ce(t,["expireTime"],r)}(o,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mo extends _e{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new io(Fn.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["model"],yr(e,r));const o=Ie(t,["config"]);return null!=o&&uo(o,n),n}(this.apiClient,e);return l=Te("cachedContents",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["model"],yr(e,r));const o=Ie(t,["config"]);return null!=o&&ao(o,n),n}(this.apiClient,e);return l=Te("cachedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],Lr(e,r)),n}(this.apiClient,e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],Lr(e,r)),n}(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],Lr(e,r)),n}(this.apiClient,e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new nr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ce(n,["_url","name"],Lr(e,r)),n}(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new nr;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=ho(this.apiClient,e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=fo(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=po(e);return l=Te("cachedContents",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["cachedContents"],e)}return t}(e),n=new rr;return Object.assign(n,t),n})}{const t=co(e);return l=Te("cachedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["cachedContents"],e)}return t}(e),n=new rr;return Object.assign(n,t),n})}}}function go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function yo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(e){return this instanceof vo?(this.v=e,this):new vo(e)}function bo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof vo?Promise.resolve(n.value.v).then(a,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function a(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Eo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=yo(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function So(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&wo(n)}function wo(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function _o(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!wo(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class To{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Co(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Co{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=Ar(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=i.automaticFunctionCallingHistory,a=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(o=s.slice(a))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=Ar(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?_o(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return bo(this,arguments,function*(){var n,r,o,i,l,s;const a=[];try{for(var u,c=!0,d=Eo(e);!(n=(u=yield vo(d.next())).done);c=!0){i=u.value,c=!1;const e=i;if(So(e)){const t=null===(s=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===s?void 0:s.content;void 0!==t&&a.push(t)}yield yield vo(e)}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield vo(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,a)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(..._o(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Io.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ao(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class xo extends _e{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new io(Fn.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ao(e);return o=Te("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["files"],e)}return t}(e),n=new ar;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["file"]);return null!=n&&Ce(t,["file"],n),t}(e);return o=Te("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new ur;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","file"],Fr(n)),t}(e);return o=Te("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","file"],Fr(n)),t}(e);return o=Te("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new cr;return Object.assign(n,t),n})}}async registerFilesInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["uris"]);return null!=n&&Ce(t,["uris"],n),t}(e);return o=Te("files:register",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["files"],e)}return t}(e),n=new dr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ko(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ce(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ce(t,["mimeType"],r),t}function Oo(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ce(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ce(t,["codeExecutionResult"],r);const o=Ie(e,["executableCode"]);null!=o&&Ce(t,["executableCode"],o);const i=Ie(e,["fileData"]);null!=i&&Ce(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ce(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(i));const l=Ie(e,["functionCall"]);null!=l&&Ce(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ce(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ce(t,["args"],r);const o=Ie(e,["name"]);null!=o&&Ce(t,["name"],o);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=Ie(e,["functionResponse"]);null!=s&&Ce(t,["functionResponse"],s);const a=Ie(e,["inlineData"]);null!=a&&Ce(t,["inlineData"],ko(a));const u=Ie(e,["text"]);null!=u&&Ce(t,["text"],u);const c=Ie(e,["thought"]);null!=c&&Ce(t,["thought"],c);const d=Ie(e,["thoughtSignature"]);null!=d&&Ce(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ce(t,["videoMetadata"],p);return t}(e))),Ce(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ce(t,["role"],r),t}function No(e,t){const n=Ie(e,["generationConfig"]);void 0!==t&&null!=n&&Ce(t,["setup","generationConfig"],n);const r=Ie(e,["responseModalities"]);void 0!==t&&null!=r&&Ce(t,["setup","generationConfig","responseModalities"],r);const o=Ie(e,["temperature"]);void 0!==t&&null!=o&&Ce(t,["setup","generationConfig","temperature"],o);const i=Ie(e,["topP"]);void 0!==t&&null!=i&&Ce(t,["setup","generationConfig","topP"],i);const l=Ie(e,["topK"]);void 0!==t&&null!=l&&Ce(t,["setup","generationConfig","topK"],l);const s=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Ce(t,["setup","generationConfig","maxOutputTokens"],s);const a=Ie(e,["mediaResolution"]);void 0!==t&&null!=a&&Ce(t,["setup","generationConfig","mediaResolution"],a);const u=Ie(e,["seed"]);void 0!==t&&null!=u&&Ce(t,["setup","generationConfig","seed"],u);const c=Ie(e,["speechConfig"]);void 0!==t&&null!=c&&Ce(t,["setup","generationConfig","speechConfig"],Pr(c));const d=Ie(e,["thinkingConfig"]);void 0!==t&&null!=d&&Ce(t,["setup","generationConfig","thinkingConfig"],d);const p=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Ce(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Ie(e,["systemInstruction"]);void 0!==t&&null!=f&&Ce(t,["setup","systemInstruction"],Oo(Ar(f)));const h=Ie(e,["tools"]);if(void 0!==t&&null!=h){let e=Mr(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ce(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ce(t,["fileSearch"],r);const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Ie(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["functionDeclarations"],e)}const l=Ie(e,["googleMaps"]);null!=l&&Ce(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);return null!=n&&Ce(t,["enableWidget"],n),t}(l));const s=Ie(e,["googleSearch"]);null!=s&&Ce(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);return null!=n&&Ce(t,["timeRangeFilter"],n),t}(s));const a=Ie(e,["googleSearchRetrieval"]);null!=a&&Ce(t,["googleSearchRetrieval"],a);const u=Ie(e,["urlContext"]);null!=u&&Ce(t,["urlContext"],u);return t}(Dr(e)))),Ce(t,["setup","tools"],e)}const m=Ie(e,["sessionResumption"]);void 0!==t&&null!=m&&Ce(t,["setup","sessionResumption"],function(e){const t={},n=Ie(e,["handle"]);null!=n&&Ce(t,["handle"],n);if(void 0!==Ie(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Ce(t,["setup","inputAudioTranscription"],g);const y=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&Ce(t,["setup","outputAudioTranscription"],y);const v=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&Ce(t,["setup","realtimeInputConfig"],v);const b=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=b&&Ce(t,["setup","contextWindowCompression"],b);const E=Ie(e,["proactivity"]);if(void 0!==t&&null!=E&&Ce(t,["setup","proactivity"],E),void 0!==Ie(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function Ro(e,t){const n=Ie(e,["generationConfig"]);void 0!==t&&null!=n&&Ce(t,["setup","generationConfig"],function(e){const t={},n=Ie(e,["modelSelectionConfig"]);null!=n&&Ce(t,["modelConfig"],n);const r=Ie(e,["responseJsonSchema"]);null!=r&&Ce(t,["responseJsonSchema"],r);const o=Ie(e,["audioTimestamp"]);null!=o&&Ce(t,["audioTimestamp"],o);const i=Ie(e,["candidateCount"]);null!=i&&Ce(t,["candidateCount"],i);const l=Ie(e,["enableAffectiveDialog"]);null!=l&&Ce(t,["enableAffectiveDialog"],l);const s=Ie(e,["frequencyPenalty"]);null!=s&&Ce(t,["frequencyPenalty"],s);const a=Ie(e,["logprobs"]);null!=a&&Ce(t,["logprobs"],a);const u=Ie(e,["maxOutputTokens"]);null!=u&&Ce(t,["maxOutputTokens"],u);const c=Ie(e,["mediaResolution"]);null!=c&&Ce(t,["mediaResolution"],c);const d=Ie(e,["presencePenalty"]);null!=d&&Ce(t,["presencePenalty"],d);const p=Ie(e,["responseLogprobs"]);null!=p&&Ce(t,["responseLogprobs"],p);const f=Ie(e,["responseMimeType"]);null!=f&&Ce(t,["responseMimeType"],f);const h=Ie(e,["responseModalities"]);null!=h&&Ce(t,["responseModalities"],h);const m=Ie(e,["responseSchema"]);null!=m&&Ce(t,["responseSchema"],m);const g=Ie(e,["routingConfig"]);null!=g&&Ce(t,["routingConfig"],g);const y=Ie(e,["seed"]);null!=y&&Ce(t,["seed"],y);const v=Ie(e,["speechConfig"]);null!=v&&Ce(t,["speechConfig"],v);const b=Ie(e,["stopSequences"]);null!=b&&Ce(t,["stopSequences"],b);const E=Ie(e,["temperature"]);null!=E&&Ce(t,["temperature"],E);const S=Ie(e,["thinkingConfig"]);null!=S&&Ce(t,["thinkingConfig"],S);const w=Ie(e,["topK"]);null!=w&&Ce(t,["topK"],w);const _=Ie(e,["topP"]);if(null!=_&&Ce(t,["topP"],_),void 0!==Ie(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=Ie(e,["responseModalities"]);void 0!==t&&null!=r&&Ce(t,["setup","generationConfig","responseModalities"],r);const o=Ie(e,["temperature"]);void 0!==t&&null!=o&&Ce(t,["setup","generationConfig","temperature"],o);const i=Ie(e,["topP"]);void 0!==t&&null!=i&&Ce(t,["setup","generationConfig","topP"],i);const l=Ie(e,["topK"]);void 0!==t&&null!=l&&Ce(t,["setup","generationConfig","topK"],l);const s=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Ce(t,["setup","generationConfig","maxOutputTokens"],s);const a=Ie(e,["mediaResolution"]);void 0!==t&&null!=a&&Ce(t,["setup","generationConfig","mediaResolution"],a);const u=Ie(e,["seed"]);void 0!==t&&null!=u&&Ce(t,["setup","generationConfig","seed"],u);const c=Ie(e,["speechConfig"]);void 0!==t&&null!=c&&Ce(t,["setup","generationConfig","speechConfig"],Pr(c));const d=Ie(e,["thinkingConfig"]);void 0!==t&&null!=d&&Ce(t,["setup","generationConfig","thinkingConfig"],d);const p=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Ce(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Ie(e,["systemInstruction"]);void 0!==t&&null!=f&&Ce(t,["setup","systemInstruction"],Ar(f));const h=Ie(e,["tools"]);if(void 0!==t&&null!=h){let e=Mr(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["retrieval"]);null!=n&&Ce(t,["retrieval"],n);const r=Ie(e,["computerUse"]);null!=r&&Ce(t,["computerUse"],r);if(void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);const i=Ie(e,["enterpriseWebSearch"]);null!=i&&Ce(t,["enterpriseWebSearch"],i);const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ce(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["parameters"]);null!=o&&Ce(t,["parameters"],o);const i=Ie(e,["parametersJsonSchema"]);null!=i&&Ce(t,["parametersJsonSchema"],i);const l=Ie(e,["response"]);null!=l&&Ce(t,["response"],l);const s=Ie(e,["responseJsonSchema"]);if(null!=s&&Ce(t,["responseJsonSchema"],s),void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ce(t,["functionDeclarations"],e)}const s=Ie(e,["googleMaps"]);null!=s&&Ce(t,["googleMaps"],s);const a=Ie(e,["googleSearch"]);null!=a&&Ce(t,["googleSearch"],a);const u=Ie(e,["googleSearchRetrieval"]);null!=u&&Ce(t,["googleSearchRetrieval"],u);const c=Ie(e,["urlContext"]);null!=c&&Ce(t,["urlContext"],c);return t}(Dr(e)))),Ce(t,["setup","tools"],e)}const m=Ie(e,["sessionResumption"]);void 0!==t&&null!=m&&Ce(t,["setup","sessionResumption"],m);const g=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Ce(t,["setup","inputAudioTranscription"],g);const y=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&Ce(t,["setup","outputAudioTranscription"],y);const v=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&Ce(t,["setup","realtimeInputConfig"],v);const b=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=b&&Ce(t,["setup","contextWindowCompression"],b);const E=Ie(e,["proactivity"]);void 0!==t&&null!=E&&Ce(t,["setup","proactivity"],E);const S=Ie(e,["explicitVadSignal"]);return void 0!==t&&null!=S&&Ce(t,["setup","explicitVadSignal"],S),{}}function Po(e){const t={},n=Ie(e,["media"]);if(null!=n){let e=vr(n);Array.isArray(e)&&(e=e.map(e=>ko(e))),Ce(t,["mediaChunks"],e)}const r=Ie(e,["audio"]);null!=r&&Ce(t,["audio"],ko(Sr(r)));const o=Ie(e,["audioStreamEnd"]);null!=o&&Ce(t,["audioStreamEnd"],o);const i=Ie(e,["video"]);null!=i&&Ce(t,["video"],ko(Er(i)));const l=Ie(e,["text"]);null!=l&&Ce(t,["text"],l);const s=Ie(e,["activityStart"]);null!=s&&Ce(t,["activityStart"],s);const a=Ie(e,["activityEnd"]);return null!=a&&Ce(t,["activityEnd"],a),t}function Do(e){const t={},n=Ie(e,["media"]);if(null!=n){let e=vr(n);Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["mediaChunks"],e)}const r=Ie(e,["audio"]);null!=r&&Ce(t,["audio"],Sr(r));const o=Ie(e,["audioStreamEnd"]);null!=o&&Ce(t,["audioStreamEnd"],o);const i=Ie(e,["video"]);null!=i&&Ce(t,["video"],Er(i));const l=Ie(e,["text"]);null!=l&&Ce(t,["text"],l);const s=Ie(e,["activityStart"]);null!=s&&Ce(t,["activityStart"],s);const a=Ie(e,["activityEnd"]);return null!=a&&Ce(t,["activityEnd"],a),t}function Mo(e){const t={},n=Ie(e,["setupComplete"]);null!=n&&Ce(t,["setupComplete"],n);const r=Ie(e,["serverContent"]);null!=r&&Ce(t,["serverContent"],r);const o=Ie(e,["toolCall"]);null!=o&&Ce(t,["toolCall"],o);const i=Ie(e,["toolCallCancellation"]);null!=i&&Ce(t,["toolCallCancellation"],i);const l=Ie(e,["usageMetadata"]);null!=l&&Ce(t,["usageMetadata"],function(e){const t={},n=Ie(e,["promptTokenCount"]);null!=n&&Ce(t,["promptTokenCount"],n);const r=Ie(e,["cachedContentTokenCount"]);null!=r&&Ce(t,["cachedContentTokenCount"],r);const o=Ie(e,["candidatesTokenCount"]);null!=o&&Ce(t,["responseTokenCount"],o);const i=Ie(e,["toolUsePromptTokenCount"]);null!=i&&Ce(t,["toolUsePromptTokenCount"],i);const l=Ie(e,["thoughtsTokenCount"]);null!=l&&Ce(t,["thoughtsTokenCount"],l);const s=Ie(e,["totalTokenCount"]);null!=s&&Ce(t,["totalTokenCount"],s);const a=Ie(e,["promptTokensDetails"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["promptTokensDetails"],e)}const u=Ie(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["cacheTokensDetails"],e)}const c=Ie(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["responseTokensDetails"],e)}const d=Ie(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["toolUsePromptTokensDetails"],e)}const p=Ie(e,["trafficType"]);null!=p&&Ce(t,["trafficType"],p);return t}(l));const s=Ie(e,["goAway"]);null!=s&&Ce(t,["goAway"],s);const a=Ie(e,["sessionResumptionUpdate"]);null!=a&&Ce(t,["sessionResumptionUpdate"],a);const u=Ie(e,["voiceActivityDetectionSignal"]);null!=u&&Ce(t,["voiceActivityDetectionSignal"],u);const c=Ie(e,["voiceActivity"]);return null!=c&&Ce(t,["voiceActivity"],function(e){const t={},n=Ie(e,["type"]);null!=n&&Ce(t,["voiceActivityType"],n);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c)),t}function Lo(e,t){const n={},r=Ie(e,["content"]);null!=r&&Ce(n,["content"],r);const o=Ie(e,["citationMetadata"]);null!=o&&Ce(n,["citationMetadata"],function(e){const t={},n=Ie(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["citations"],e)}return t}(o));const i=Ie(e,["tokenCount"]);null!=i&&Ce(n,["tokenCount"],i);const l=Ie(e,["finishReason"]);null!=l&&Ce(n,["finishReason"],l);const s=Ie(e,["avgLogprobs"]);null!=s&&Ce(n,["avgLogprobs"],s);const a=Ie(e,["groundingMetadata"]);null!=a&&Ce(n,["groundingMetadata"],a);const u=Ie(e,["index"]);null!=u&&Ce(n,["index"],u);const c=Ie(e,["logprobsResult"]);null!=c&&Ce(n,["logprobsResult"],c);const d=Ie(e,["safetyRatings"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["safetyRatings"],e)}const p=Ie(e,["urlContextMetadata"]);return null!=p&&Ce(n,["urlContextMetadata"],p),n}function Uo(e,t){const n={},r=Ie(e,["values"]);null!=r&&Ce(n,["values"],r);const o=Ie(e,["statistics"]);return null!=o&&Ce(n,["statistics"],function(e){const t={},n=Ie(e,["truncated"]);null!=n&&Ce(t,["truncated"],n);const r=Ie(e,["token_count"]);null!=r&&Ce(t,["tokenCount"],r);return t}(o)),n}function jo(e,t){const n={},r=Ie(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ce(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ce(t,["codeExecutionResult"],r);const o=Ie(e,["executableCode"]);null!=o&&Ce(t,["executableCode"],o);const i=Ie(e,["fileData"]);null!=i&&Ce(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ce(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(i));const l=Ie(e,["functionCall"]);null!=l&&Ce(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ce(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ce(t,["args"],r);const o=Ie(e,["name"]);null!=o&&Ce(t,["name"],o);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=Ie(e,["functionResponse"]);null!=s&&Ce(t,["functionResponse"],s);const a=Ie(e,["inlineData"]);null!=a&&Ce(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ce(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ce(t,["mimeType"],r),t}(a));const u=Ie(e,["text"]);null!=u&&Ce(t,["text"],u);const c=Ie(e,["thought"]);null!=c&&Ce(t,["thought"],c);const d=Ie(e,["thoughtSignature"]);null!=d&&Ce(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ce(t,["videoMetadata"],p);return t}(e))),Ce(n,["parts"],e)}const o=Ie(e,["role"]);return null!=o&&Ce(n,["role"],o),n}function Fo(e,t,n){const r=Ie(e,["systemInstruction"]);void 0!==t&&null!=r&&Ce(t,["systemInstruction"],Ar(r));const o=Ie(e,["tools"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>vi(e))),Ce(t,["tools"],e)}const i=Ie(e,["generationConfig"]);return void 0!==t&&null!=i&&Ce(t,["generationConfig"],function(e){const t={},n=Ie(e,["modelSelectionConfig"]);null!=n&&Ce(t,["modelConfig"],n);const r=Ie(e,["responseJsonSchema"]);null!=r&&Ce(t,["responseJsonSchema"],r);const o=Ie(e,["audioTimestamp"]);null!=o&&Ce(t,["audioTimestamp"],o);const i=Ie(e,["candidateCount"]);null!=i&&Ce(t,["candidateCount"],i);const l=Ie(e,["enableAffectiveDialog"]);null!=l&&Ce(t,["enableAffectiveDialog"],l);const s=Ie(e,["frequencyPenalty"]);null!=s&&Ce(t,["frequencyPenalty"],s);const a=Ie(e,["logprobs"]);null!=a&&Ce(t,["logprobs"],a);const u=Ie(e,["maxOutputTokens"]);null!=u&&Ce(t,["maxOutputTokens"],u);const c=Ie(e,["mediaResolution"]);null!=c&&Ce(t,["mediaResolution"],c);const d=Ie(e,["presencePenalty"]);null!=d&&Ce(t,["presencePenalty"],d);const p=Ie(e,["responseLogprobs"]);null!=p&&Ce(t,["responseLogprobs"],p);const f=Ie(e,["responseMimeType"]);null!=f&&Ce(t,["responseMimeType"],f);const h=Ie(e,["responseModalities"]);null!=h&&Ce(t,["responseModalities"],h);const m=Ie(e,["responseSchema"]);null!=m&&Ce(t,["responseSchema"],m);const g=Ie(e,["routingConfig"]);null!=g&&Ce(t,["routingConfig"],g);const y=Ie(e,["seed"]);null!=y&&Ce(t,["seed"],y);const v=Ie(e,["speechConfig"]);null!=v&&Ce(t,["speechConfig"],v);const b=Ie(e,["stopSequences"]);null!=b&&Ce(t,["stopSequences"],b);const E=Ie(e,["temperature"]);null!=E&&Ce(t,["temperature"],E);const S=Ie(e,["thinkingConfig"]);null!=S&&Ce(t,["thinkingConfig"],S);const w=Ie(e,["topK"]);null!=w&&Ce(t,["topK"],w);const _=Ie(e,["topP"]);null!=_&&Ce(t,["topP"],_);if(void 0!==Ie(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(i)),{}}function qo(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["contents"]);if(null!=i){let e=kr(i);Array.isArray(e)&&(e=e.map(e=>jo(e))),Ce(r,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&function(e){if(void 0!==Ie(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Ie(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Ie(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(l),r}function Ho(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["prompt"]);null!=i&&Ce(r,["instances[0]","prompt"],i);const l=Ie(t,["referenceImages"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["referenceImage"]);null!=n&&Ce(t,["referenceImage"],ai(n));const r=Ie(e,["referenceId"]);null!=r&&Ce(t,["referenceId"],r);const o=Ie(e,["referenceType"]);null!=o&&Ce(t,["referenceType"],o);const i=Ie(e,["maskImageConfig"]);null!=i&&Ce(t,["maskImageConfig"],function(e){const t={},n=Ie(e,["maskMode"]);null!=n&&Ce(t,["maskMode"],n);const r=Ie(e,["segmentationClasses"]);null!=r&&Ce(t,["maskClasses"],r);const o=Ie(e,["maskDilation"]);null!=o&&Ce(t,["dilation"],o);return t}(i));const l=Ie(e,["controlImageConfig"]);null!=l&&Ce(t,["controlImageConfig"],function(e){const t={},n=Ie(e,["controlType"]);null!=n&&Ce(t,["controlType"],n);const r=Ie(e,["enableControlImageComputation"]);return null!=r&&Ce(t,["computeControl"],r),t}(l));const s=Ie(e,["styleImageConfig"]);null!=s&&Ce(t,["styleImageConfig"],s);const a=Ie(e,["subjectImageConfig"]);null!=a&&Ce(t,["subjectImageConfig"],a);return t}(e))),Ce(r,["instances[0]","referenceImages"],e)}const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ce(t,["parameters","storageUri"],n);const r=Ie(e,["negativePrompt"]);void 0!==t&&null!=r&&Ce(t,["parameters","negativePrompt"],r);const o=Ie(e,["numberOfImages"]);void 0!==t&&null!=o&&Ce(t,["parameters","sampleCount"],o);const i=Ie(e,["aspectRatio"]);void 0!==t&&null!=i&&Ce(t,["parameters","aspectRatio"],i);const l=Ie(e,["guidanceScale"]);void 0!==t&&null!=l&&Ce(t,["parameters","guidanceScale"],l);const s=Ie(e,["seed"]);void 0!==t&&null!=s&&Ce(t,["parameters","seed"],s);const a=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&Ce(t,["parameters","safetySetting"],a);const u=Ie(e,["personGeneration"]);void 0!==t&&null!=u&&Ce(t,["parameters","personGeneration"],u);const c=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Ce(t,["parameters","includeSafetyAttributes"],c);const d=Ie(e,["includeRaiReason"]);void 0!==t&&null!=d&&Ce(t,["parameters","includeRaiReason"],d);const p=Ie(e,["language"]);void 0!==t&&null!=p&&Ce(t,["parameters","language"],p);const f=Ie(e,["outputMimeType"]);void 0!==t&&null!=f&&Ce(t,["parameters","outputOptions","mimeType"],f);const h=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&Ce(t,["parameters","outputOptions","compressionQuality"],h);const m=Ie(e,["addWatermark"]);void 0!==t&&null!=m&&Ce(t,["parameters","addWatermark"],m);const g=Ie(e,["labels"]);void 0!==t&&null!=g&&Ce(t,["labels"],g);const y=Ie(e,["editMode"]);void 0!==t&&null!=y&&Ce(t,["parameters","editMode"],y);const v=Ie(e,["baseSteps"]);void 0!==t&&null!=v&&Ce(t,["parameters","editConfig","baseSteps"],v)}(s,r),r}function Go(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["contents"]);if(null!=i){let t=xr(e,i);Array.isArray(t)&&(t=t.map(e=>e)),Ce(r,["requests[]","content"],t)}const l=Ie(t,["config"]);null!=l&&function(e,t){const n=Ie(e,["taskType"]);void 0!==t&&null!=n&&Ce(t,["requests[]","taskType"],n);const r=Ie(e,["title"]);void 0!==t&&null!=r&&Ce(t,["requests[]","title"],r);const o=Ie(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&Ce(t,["requests[]","outputDimensionality"],o),void 0!==Ie(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(l,r);const s=Ie(t,["model"]);return void 0!==s&&Ce(r,["requests[]","model"],gr(e,s)),r}function zo(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["contents"]);if(null!=i){let t=xr(e,i);Array.isArray(t)&&(t=t.map(e=>e)),Ce(r,["instances[]","content"],t)}const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["taskType"]);void 0!==t&&null!=n&&Ce(t,["instances[]","task_type"],n);const r=Ie(e,["title"]);void 0!==t&&null!=r&&Ce(t,["instances[]","title"],r);const o=Ie(e,["outputDimensionality"]);void 0!==t&&null!=o&&Ce(t,["parameters","outputDimensionality"],o);const i=Ie(e,["mimeType"]);void 0!==t&&null!=i&&Ce(t,["instances[]","mimeType"],i);const l=Ie(e,["autoTruncate"]);void 0!==t&&null!=l&&Ce(t,["parameters","autoTruncate"],l)}(l,r),r}function Vo(e,t,n,r){const o={},i=Ie(t,["systemInstruction"]);void 0!==n&&null!=i&&Ce(n,["systemInstruction"],jo(Ar(i)));const l=Ie(t,["temperature"]);null!=l&&Ce(o,["temperature"],l);const s=Ie(t,["topP"]);null!=s&&Ce(o,["topP"],s);const a=Ie(t,["topK"]);null!=a&&Ce(o,["topK"],a);const u=Ie(t,["candidateCount"]);null!=u&&Ce(o,["candidateCount"],u);const c=Ie(t,["maxOutputTokens"]);null!=c&&Ce(o,["maxOutputTokens"],c);const d=Ie(t,["stopSequences"]);null!=d&&Ce(o,["stopSequences"],d);const p=Ie(t,["responseLogprobs"]);null!=p&&Ce(o,["responseLogprobs"],p);const f=Ie(t,["logprobs"]);null!=f&&Ce(o,["logprobs"],f);const h=Ie(t,["presencePenalty"]);null!=h&&Ce(o,["presencePenalty"],h);const m=Ie(t,["frequencyPenalty"]);null!=m&&Ce(o,["frequencyPenalty"],m);const g=Ie(t,["seed"]);null!=g&&Ce(o,["seed"],g);const y=Ie(t,["responseMimeType"]);null!=y&&Ce(o,["responseMimeType"],y);const v=Ie(t,["responseSchema"]);null!=v&&Ce(o,["responseSchema"],Nr(v));const b=Ie(t,["responseJsonSchema"]);if(null!=b&&Ce(o,["responseJsonSchema"],b),void 0!==Ie(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Ie(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=Ie(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["category"]);null!=n&&Ce(t,["category"],n);if(void 0!==Ie(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Ie(e,["threshold"]);null!=r&&Ce(t,["threshold"],r);return t}(e))),Ce(n,["safetySettings"],e)}const S=Ie(t,["tools"]);if(void 0!==n&&null!=S){let e=Mr(S);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ce(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ce(t,["fileSearch"],r);const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Ie(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["functionDeclarations"],e)}const l=Ie(e,["googleMaps"]);null!=l&&Ce(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ce(t,["enableWidget"],n);return t}(l));const s=Ie(e,["googleSearch"]);null!=s&&Ce(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ce(t,["timeRangeFilter"],n);return t}(s));const a=Ie(e,["googleSearchRetrieval"]);null!=a&&Ce(t,["googleSearchRetrieval"],a);const u=Ie(e,["urlContext"]);null!=u&&Ce(t,["urlContext"],u);return t}(Dr(e)))),Ce(n,["tools"],e)}const w=Ie(t,["toolConfig"]);if(void 0!==n&&null!=w&&Ce(n,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ce(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ce(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ce(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);if(null!=r&&Ce(t,["mode"],r),void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(w)),void 0!==Ie(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=Ie(t,["cachedContent"]);void 0!==n&&null!=_&&Ce(n,["cachedContent"],Lr(e,_));const T=Ie(t,["responseModalities"]);null!=T&&Ce(o,["responseModalities"],T);const C=Ie(t,["mediaResolution"]);null!=C&&Ce(o,["mediaResolution"],C);const I=Ie(t,["speechConfig"]);if(null!=I&&Ce(o,["speechConfig"],Rr(I)),void 0!==Ie(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=Ie(t,["thinkingConfig"]);null!=A&&Ce(o,["thinkingConfig"],A);const x=Ie(t,["imageConfig"]);null!=x&&Ce(o,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ce(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ce(t,["imageSize"],r);if(void 0!==Ie(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(x));const k=Ie(t,["enableEnhancedCivicAnswers"]);if(null!=k&&Ce(o,["enableEnhancedCivicAnswers"],k),void 0!==Ie(t,["modelArmorConfig"]))throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function Bo(e,t,n,r){const o={},i=Ie(t,["systemInstruction"]);void 0!==n&&null!=i&&Ce(n,["systemInstruction"],Ar(i));const l=Ie(t,["temperature"]);null!=l&&Ce(o,["temperature"],l);const s=Ie(t,["topP"]);null!=s&&Ce(o,["topP"],s);const a=Ie(t,["topK"]);null!=a&&Ce(o,["topK"],a);const u=Ie(t,["candidateCount"]);null!=u&&Ce(o,["candidateCount"],u);const c=Ie(t,["maxOutputTokens"]);null!=c&&Ce(o,["maxOutputTokens"],c);const d=Ie(t,["stopSequences"]);null!=d&&Ce(o,["stopSequences"],d);const p=Ie(t,["responseLogprobs"]);null!=p&&Ce(o,["responseLogprobs"],p);const f=Ie(t,["logprobs"]);null!=f&&Ce(o,["logprobs"],f);const h=Ie(t,["presencePenalty"]);null!=h&&Ce(o,["presencePenalty"],h);const m=Ie(t,["frequencyPenalty"]);null!=m&&Ce(o,["frequencyPenalty"],m);const g=Ie(t,["seed"]);null!=g&&Ce(o,["seed"],g);const y=Ie(t,["responseMimeType"]);null!=y&&Ce(o,["responseMimeType"],y);const v=Ie(t,["responseSchema"]);null!=v&&Ce(o,["responseSchema"],Nr(v));const b=Ie(t,["responseJsonSchema"]);null!=b&&Ce(o,["responseJsonSchema"],b);const E=Ie(t,["routingConfig"]);null!=E&&Ce(o,["routingConfig"],E);const S=Ie(t,["modelSelectionConfig"]);null!=S&&Ce(o,["modelConfig"],S);const w=Ie(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["safetySettings"],e)}const _=Ie(t,["tools"]);if(void 0!==n&&null!=_){let e=Mr(_);Array.isArray(e)&&(e=e.map(e=>vi(Dr(e)))),Ce(n,["tools"],e)}const T=Ie(t,["toolConfig"]);void 0!==n&&null!=T&&Ce(n,["toolConfig"],T);const C=Ie(t,["labels"]);void 0!==n&&null!=C&&Ce(n,["labels"],C);const I=Ie(t,["cachedContent"]);void 0!==n&&null!=I&&Ce(n,["cachedContent"],Lr(e,I));const A=Ie(t,["responseModalities"]);null!=A&&Ce(o,["responseModalities"],A);const x=Ie(t,["mediaResolution"]);null!=x&&Ce(o,["mediaResolution"],x);const k=Ie(t,["speechConfig"]);null!=k&&Ce(o,["speechConfig"],Rr(k));const O=Ie(t,["audioTimestamp"]);null!=O&&Ce(o,["audioTimestamp"],O);const N=Ie(t,["thinkingConfig"]);null!=N&&Ce(o,["thinkingConfig"],N);const R=Ie(t,["imageConfig"]);if(null!=R&&Ce(o,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ce(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ce(t,["imageSize"],r);const o=Ie(e,["personGeneration"]);null!=o&&Ce(t,["personGeneration"],o);const i=Ie(e,["outputMimeType"]);null!=i&&Ce(t,["imageOutputOptions","mimeType"],i);const l=Ie(e,["outputCompressionQuality"]);null!=l&&Ce(t,["imageOutputOptions","compressionQuality"],l);return t}(R)),void 0!==Ie(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const P=Ie(t,["modelArmorConfig"]);return void 0!==n&&null!=P&&Ce(n,["modelArmorConfig"],P),o}function $o(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["contents"]);if(null!=i){let e=kr(i);Array.isArray(e)&&(e=e.map(e=>jo(e))),Ce(r,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&Ce(r,["generationConfig"],Vo(e,l,r)),r}function Jo(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["contents"]);if(null!=i){let e=kr(i);Array.isArray(e)&&(e=e.map(e=>e)),Ce(r,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&Ce(r,["generationConfig"],Bo(e,l,r)),r}function Wo(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ce(n,["sdkHttpResponse"],r);const o=Ie(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Lo(e))),Ce(n,["candidates"],e)}const i=Ie(e,["modelVersion"]);null!=i&&Ce(n,["modelVersion"],i);const l=Ie(e,["promptFeedback"]);null!=l&&Ce(n,["promptFeedback"],l);const s=Ie(e,["responseId"]);null!=s&&Ce(n,["responseId"],s);const a=Ie(e,["usageMetadata"]);return null!=a&&Ce(n,["usageMetadata"],a),n}function Yo(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ce(n,["sdkHttpResponse"],r);const o=Ie(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["candidates"],e)}const i=Ie(e,["createTime"]);null!=i&&Ce(n,["createTime"],i);const l=Ie(e,["modelVersion"]);null!=l&&Ce(n,["modelVersion"],l);const s=Ie(e,["promptFeedback"]);null!=s&&Ce(n,["promptFeedback"],s);const a=Ie(e,["responseId"]);null!=a&&Ce(n,["responseId"],a);const u=Ie(e,["usageMetadata"]);return null!=u&&Ce(n,["usageMetadata"],u),n}function Ko(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["prompt"]);null!=i&&Ce(r,["instances[0]","prompt"],i);const l=Ie(t,["config"]);return null!=l&&function(e,t){if(void 0!==Ie(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Ie(e,["numberOfImages"]);void 0!==t&&null!=n&&Ce(t,["parameters","sampleCount"],n);const r=Ie(e,["aspectRatio"]);void 0!==t&&null!=r&&Ce(t,["parameters","aspectRatio"],r);const o=Ie(e,["guidanceScale"]);if(void 0!==t&&null!=o&&Ce(t,["parameters","guidanceScale"],o),void 0!==Ie(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&Ce(t,["parameters","safetySetting"],i);const l=Ie(e,["personGeneration"]);void 0!==t&&null!=l&&Ce(t,["parameters","personGeneration"],l);const s=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&Ce(t,["parameters","includeSafetyAttributes"],s);const a=Ie(e,["includeRaiReason"]);void 0!==t&&null!=a&&Ce(t,["parameters","includeRaiReason"],a);const u=Ie(e,["language"]);void 0!==t&&null!=u&&Ce(t,["parameters","language"],u);const c=Ie(e,["outputMimeType"]);void 0!==t&&null!=c&&Ce(t,["parameters","outputOptions","mimeType"],c);const d=Ie(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&Ce(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Ie(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Ie(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=Ie(e,["imageSize"]);if(void 0!==t&&null!=p&&Ce(t,["parameters","sampleImageSize"],p),void 0!==Ie(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(l,r),r}function Qo(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["prompt"]);null!=i&&Ce(r,["instances[0]","prompt"],i);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ce(t,["parameters","storageUri"],n);const r=Ie(e,["negativePrompt"]);void 0!==t&&null!=r&&Ce(t,["parameters","negativePrompt"],r);const o=Ie(e,["numberOfImages"]);void 0!==t&&null!=o&&Ce(t,["parameters","sampleCount"],o);const i=Ie(e,["aspectRatio"]);void 0!==t&&null!=i&&Ce(t,["parameters","aspectRatio"],i);const l=Ie(e,["guidanceScale"]);void 0!==t&&null!=l&&Ce(t,["parameters","guidanceScale"],l);const s=Ie(e,["seed"]);void 0!==t&&null!=s&&Ce(t,["parameters","seed"],s);const a=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&Ce(t,["parameters","safetySetting"],a);const u=Ie(e,["personGeneration"]);void 0!==t&&null!=u&&Ce(t,["parameters","personGeneration"],u);const c=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Ce(t,["parameters","includeSafetyAttributes"],c);const d=Ie(e,["includeRaiReason"]);void 0!==t&&null!=d&&Ce(t,["parameters","includeRaiReason"],d);const p=Ie(e,["language"]);void 0!==t&&null!=p&&Ce(t,["parameters","language"],p);const f=Ie(e,["outputMimeType"]);void 0!==t&&null!=f&&Ce(t,["parameters","outputOptions","mimeType"],f);const h=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&Ce(t,["parameters","outputOptions","compressionQuality"],h);const m=Ie(e,["addWatermark"]);void 0!==t&&null!=m&&Ce(t,["parameters","addWatermark"],m);const g=Ie(e,["labels"]);void 0!==t&&null!=g&&Ce(t,["labels"],g);const y=Ie(e,["imageSize"]);void 0!==t&&null!=y&&Ce(t,["parameters","sampleImageSize"],y);const v=Ie(e,["enhancePrompt"]);void 0!==t&&null!=v&&Ce(t,["parameters","enhancePrompt"],v)}(l,r),r}function Xo(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ce(n,["sdkHttpResponse"],r);const o=Ie(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ce(t,["image"],function(e){const t={},n=Ie(e,["bytesBase64Encoded"]);null!=n&&Ce(t,["imageBytes"],jr(n));const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(n));const r=Ie(e,["raiFilteredReason"]);null!=r&&Ce(t,["raiFilteredReason"],r);const o=Ie(e,["_self"]);null!=o&&Ce(t,["safetyAttributes"],hi(o));return t}(e))),Ce(n,["generatedImages"],e)}const i=Ie(e,["positivePromptSafetyAttributes"]);return null!=i&&Ce(n,["positivePromptSafetyAttributes"],hi(i)),n}function Zo(e,t,n){const r=Ie(e,["numberOfVideos"]);if(void 0!==t&&null!=r&&Ce(t,["parameters","sampleCount"],r),void 0!==Ie(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=Ie(e,["durationSeconds"]);if(void 0!==t&&null!=o&&Ce(t,["parameters","durationSeconds"],o),void 0!==Ie(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Ie(e,["aspectRatio"]);void 0!==t&&null!=i&&Ce(t,["parameters","aspectRatio"],i);const l=Ie(e,["resolution"]);void 0!==t&&null!=l&&Ce(t,["parameters","resolution"],l);const s=Ie(e,["personGeneration"]);if(void 0!==t&&null!=s&&Ce(t,["parameters","personGeneration"],s),void 0!==Ie(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Ie(e,["negativePrompt"]);void 0!==t&&null!=a&&Ce(t,["parameters","negativePrompt"],a);const u=Ie(e,["enhancePrompt"]);if(void 0!==t&&null!=u&&Ce(t,["parameters","enhancePrompt"],u),void 0!==Ie(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const c=Ie(e,["lastFrame"]);void 0!==t&&null!=c&&Ce(t,["instances[0]","lastFrame"],si(c));const d=Ie(e,["referenceImages"]);if(void 0!==t&&null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["image"]);null!=n&&Ce(t,["image"],si(n));const r=Ie(e,["referenceType"]);null!=r&&Ce(t,["referenceType"],r);return t}(e))),Ce(t,["instances[0]","referenceImages"],e)}if(void 0!==Ie(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==Ie(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function ei(e,t,n){const r=Ie(e,["numberOfVideos"]);void 0!==t&&null!=r&&Ce(t,["parameters","sampleCount"],r);const o=Ie(e,["outputGcsUri"]);void 0!==t&&null!=o&&Ce(t,["parameters","storageUri"],o);const i=Ie(e,["fps"]);void 0!==t&&null!=i&&Ce(t,["parameters","fps"],i);const l=Ie(e,["durationSeconds"]);void 0!==t&&null!=l&&Ce(t,["parameters","durationSeconds"],l);const s=Ie(e,["seed"]);void 0!==t&&null!=s&&Ce(t,["parameters","seed"],s);const a=Ie(e,["aspectRatio"]);void 0!==t&&null!=a&&Ce(t,["parameters","aspectRatio"],a);const u=Ie(e,["resolution"]);void 0!==t&&null!=u&&Ce(t,["parameters","resolution"],u);const c=Ie(e,["personGeneration"]);void 0!==t&&null!=c&&Ce(t,["parameters","personGeneration"],c);const d=Ie(e,["pubsubTopic"]);void 0!==t&&null!=d&&Ce(t,["parameters","pubsubTopic"],d);const p=Ie(e,["negativePrompt"]);void 0!==t&&null!=p&&Ce(t,["parameters","negativePrompt"],p);const f=Ie(e,["enhancePrompt"]);void 0!==t&&null!=f&&Ce(t,["parameters","enhancePrompt"],f);const h=Ie(e,["generateAudio"]);void 0!==t&&null!=h&&Ce(t,["parameters","generateAudio"],h);const m=Ie(e,["lastFrame"]);void 0!==t&&null!=m&&Ce(t,["instances[0]","lastFrame"],ai(m));const g=Ie(e,["referenceImages"]);if(void 0!==t&&null!=g){let e=g;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["image"]);null!=n&&Ce(t,["image"],ai(n));const r=Ie(e,["referenceType"]);null!=r&&Ce(t,["referenceType"],r);return t}(e))),Ce(t,["instances[0]","referenceImages"],e)}const y=Ie(e,["mask"]);void 0!==t&&null!=y&&Ce(t,["instances[0]","mask"],function(e){const t={},n=Ie(e,["image"]);null!=n&&Ce(t,["_self"],ai(n));const r=Ie(e,["maskMode"]);null!=r&&Ce(t,["maskMode"],r);return t}(y));const v=Ie(e,["compressionQuality"]);return void 0!==t&&null!=v&&Ce(t,["parameters","compressionQuality"],v),{}}function ti(e,t){const n={},r=Ie(e,["name"]);null!=r&&Ce(n,["name"],r);const o=Ie(e,["metadata"]);null!=o&&Ce(n,["metadata"],o);const i=Ie(e,["done"]);null!=i&&Ce(n,["done"],i);const l=Ie(e,["error"]);null!=l&&Ce(n,["error"],l);const s=Ie(e,["response","generateVideoResponse"]);return null!=s&&Ce(n,["response"],function(e){const t={},n=Ie(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["video"]);null!=n&&Ce(t,["video"],function(e){const t={},n=Ie(e,["uri"]);null!=n&&Ce(t,["uri"],n);const r=Ie(e,["encodedVideo"]);null!=r&&Ce(t,["videoBytes"],jr(r));const o=Ie(e,["encoding"]);null!=o&&Ce(t,["mimeType"],o);return t}(n));return t}(e))),Ce(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ce(t,["raiMediaFilteredCount"],r);const o=Ie(e,["raiMediaFilteredReasons"]);null!=o&&Ce(t,["raiMediaFilteredReasons"],o);return t}(s)),n}function ni(e,t){const n={},r=Ie(e,["name"]);null!=r&&Ce(n,["name"],r);const o=Ie(e,["metadata"]);null!=o&&Ce(n,["metadata"],o);const i=Ie(e,["done"]);null!=i&&Ce(n,["done"],i);const l=Ie(e,["error"]);null!=l&&Ce(n,["error"],l);const s=Ie(e,["response"]);return null!=s&&Ce(n,["response"],function(e){const t={},n=Ie(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ce(t,["video"],function(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ce(t,["uri"],n);const r=Ie(e,["bytesBase64Encoded"]);null!=r&&Ce(t,["videoBytes"],jr(r));const o=Ie(e,["mimeType"]);null!=o&&Ce(t,["mimeType"],o);return t}(n));return t}(e))),Ce(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ce(t,["raiMediaFilteredCount"],r);const o=Ie(e,["raiMediaFilteredReasons"]);null!=o&&Ce(t,["raiMediaFilteredReasons"],o);return t}(s)),n}function ri(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["prompt"]);null!=i&&Ce(r,["instances[0]","prompt"],i);const l=Ie(t,["image"]);null!=l&&Ce(r,["instances[0]","image"],si(l));const s=Ie(t,["video"]);null!=s&&Ce(r,["instances[0]","video"],wi(s));const a=Ie(t,["source"]);null!=a&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ce(t,["instances[0]","prompt"],r);const o=Ie(e,["image"]);void 0!==t&&null!=o&&Ce(t,["instances[0]","image"],si(o));const i=Ie(e,["video"]);void 0!==t&&null!=i&&Ce(t,["instances[0]","video"],wi(i))}(a,r);const u=Ie(t,["config"]);return null!=u&&Zo(u,r),r}function oi(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["prompt"]);null!=i&&Ce(r,["instances[0]","prompt"],i);const l=Ie(t,["image"]);null!=l&&Ce(r,["instances[0]","image"],ai(l));const s=Ie(t,["video"]);null!=s&&Ce(r,["instances[0]","video"],_i(s));const a=Ie(t,["source"]);null!=a&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ce(t,["instances[0]","prompt"],r);const o=Ie(e,["image"]);void 0!==t&&null!=o&&Ce(t,["instances[0]","image"],ai(o));const i=Ie(e,["video"]);void 0!==t&&null!=i&&Ce(t,["instances[0]","video"],_i(i))}(a,r);const u=Ie(t,["config"]);return null!=u&&ei(u,r),r}function ii(e,t){const n={},r=Ie(e,["_self"]);null!=r&&Ce(n,["image"],li(r));const o=Ie(e,["raiFilteredReason"]);null!=o&&Ce(n,["raiFilteredReason"],o);const i=Ie(e,["_self"]);null!=i&&Ce(n,["safetyAttributes"],mi(i));const l=Ie(e,["prompt"]);return null!=l&&Ce(n,["enhancedPrompt"],l),n}function li(e,t){const n={},r=Ie(e,["gcsUri"]);null!=r&&Ce(n,["gcsUri"],r);const o=Ie(e,["bytesBase64Encoded"]);null!=o&&Ce(n,["imageBytes"],jr(o));const i=Ie(e,["mimeType"]);return null!=i&&Ce(n,["mimeType"],i),n}function si(e,t){const n={};if(void 0!==Ie(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=Ie(e,["imageBytes"]);null!=r&&Ce(n,["bytesBase64Encoded"],jr(r));const o=Ie(e,["mimeType"]);return null!=o&&Ce(n,["mimeType"],o),n}function ai(e,t){const n={},r=Ie(e,["gcsUri"]);null!=r&&Ce(n,["gcsUri"],r);const o=Ie(e,["imageBytes"]);null!=o&&Ce(n,["bytesBase64Encoded"],jr(o));const i=Ie(e,["mimeType"]);return null!=i&&Ce(n,["mimeType"],i),n}function ui(e,t,n){const r={},o=Ie(t,["config"]);return null!=o&&function(e,t,n){const r=Ie(t,["pageSize"]);void 0!==n&&null!=r&&Ce(n,["_query","pageSize"],r);const o=Ie(t,["pageToken"]);void 0!==n&&null!=o&&Ce(n,["_query","pageToken"],o);const i=Ie(t,["filter"]);void 0!==n&&null!=i&&Ce(n,["_query","filter"],i);const l=Ie(t,["queryBase"]);void 0!==n&&null!=l&&Ce(n,["_url","models_url"],qr(e,l))}(e,o,r),r}function ci(e,t,n){const r={},o=Ie(t,["config"]);return null!=o&&function(e,t,n){const r=Ie(t,["pageSize"]);void 0!==n&&null!=r&&Ce(n,["_query","pageSize"],r);const o=Ie(t,["pageToken"]);void 0!==n&&null!=o&&Ce(n,["_query","pageToken"],o);const i=Ie(t,["filter"]);void 0!==n&&null!=i&&Ce(n,["_query","filter"],i);const l=Ie(t,["queryBase"]);void 0!==n&&null!=l&&Ce(n,["_url","models_url"],qr(e,l))}(e,o,r),r}function di(e,t){const n={},r=Ie(e,["name"]);null!=r&&Ce(n,["name"],r);const o=Ie(e,["displayName"]);null!=o&&Ce(n,["displayName"],o);const i=Ie(e,["description"]);null!=i&&Ce(n,["description"],i);const l=Ie(e,["version"]);null!=l&&Ce(n,["version"],l);const s=Ie(e,["_self"]);null!=s&&Ce(n,["tunedModelInfo"],function(e){const t={},n=Ie(e,["baseModel"]);null!=n&&Ce(t,["baseModel"],n);const r=Ie(e,["createTime"]);null!=r&&Ce(t,["createTime"],r);const o=Ie(e,["updateTime"]);null!=o&&Ce(t,["updateTime"],o);return t}(s));const a=Ie(e,["inputTokenLimit"]);null!=a&&Ce(n,["inputTokenLimit"],a);const u=Ie(e,["outputTokenLimit"]);null!=u&&Ce(n,["outputTokenLimit"],u);const c=Ie(e,["supportedGenerationMethods"]);null!=c&&Ce(n,["supportedActions"],c);const d=Ie(e,["temperature"]);null!=d&&Ce(n,["temperature"],d);const p=Ie(e,["maxTemperature"]);null!=p&&Ce(n,["maxTemperature"],p);const f=Ie(e,["topP"]);null!=f&&Ce(n,["topP"],f);const h=Ie(e,["topK"]);null!=h&&Ce(n,["topK"],h);const m=Ie(e,["thinking"]);return null!=m&&Ce(n,["thinking"],m),n}function pi(e,t){const n={},r=Ie(e,["name"]);null!=r&&Ce(n,["name"],r);const o=Ie(e,["displayName"]);null!=o&&Ce(n,["displayName"],o);const i=Ie(e,["description"]);null!=i&&Ce(n,["description"],i);const l=Ie(e,["versionId"]);null!=l&&Ce(n,["version"],l);const s=Ie(e,["deployedModels"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["endpoint"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["deployedModelId"]);return null!=r&&Ce(t,["deployedModelId"],r),t}(e))),Ce(n,["endpoints"],e)}const a=Ie(e,["labels"]);null!=a&&Ce(n,["labels"],a);const u=Ie(e,["_self"]);null!=u&&Ce(n,["tunedModelInfo"],function(e){const t={},n=Ie(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&Ce(t,["baseModel"],n);const r=Ie(e,["createTime"]);null!=r&&Ce(t,["createTime"],r);const o=Ie(e,["updateTime"]);null!=o&&Ce(t,["updateTime"],o);return t}(u));const c=Ie(e,["defaultCheckpointId"]);null!=c&&Ce(n,["defaultCheckpointId"],c);const d=Ie(e,["checkpoints"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["checkpoints"],e)}return n}function fi(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["source"]);null!=i&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ce(t,["instances[0]","prompt"],r);const o=Ie(e,["personImage"]);void 0!==t&&null!=o&&Ce(t,["instances[0]","personImage","image"],ai(o));const i=Ie(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["productImage"]);return null!=n&&Ce(t,["image"],ai(n)),t}(e))),Ce(t,["instances[0]","productImages"],e)}}(i,r);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["numberOfImages"]);void 0!==t&&null!=n&&Ce(t,["parameters","sampleCount"],n);const r=Ie(e,["baseSteps"]);void 0!==t&&null!=r&&Ce(t,["parameters","baseSteps"],r);const o=Ie(e,["outputGcsUri"]);void 0!==t&&null!=o&&Ce(t,["parameters","storageUri"],o);const i=Ie(e,["seed"]);void 0!==t&&null!=i&&Ce(t,["parameters","seed"],i);const l=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Ce(t,["parameters","safetySetting"],l);const s=Ie(e,["personGeneration"]);void 0!==t&&null!=s&&Ce(t,["parameters","personGeneration"],s);const a=Ie(e,["addWatermark"]);void 0!==t&&null!=a&&Ce(t,["parameters","addWatermark"],a);const u=Ie(e,["outputMimeType"]);void 0!==t&&null!=u&&Ce(t,["parameters","outputOptions","mimeType"],u);const c=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&Ce(t,["parameters","outputOptions","compressionQuality"],c);const d=Ie(e,["enhancePrompt"]);void 0!==t&&null!=d&&Ce(t,["parameters","enhancePrompt"],d);const p=Ie(e,["labels"]);void 0!==t&&null!=p&&Ce(t,["labels"],p)}(l,r),r}function hi(e,t){const n={},r=Ie(e,["safetyAttributes","categories"]);null!=r&&Ce(n,["categories"],r);const o=Ie(e,["safetyAttributes","scores"]);null!=o&&Ce(n,["scores"],o);const i=Ie(e,["contentType"]);return null!=i&&Ce(n,["contentType"],i),n}function mi(e,t){const n={},r=Ie(e,["safetyAttributes","categories"]);null!=r&&Ce(n,["categories"],r);const o=Ie(e,["safetyAttributes","scores"]);null!=o&&Ce(n,["scores"],o);const i=Ie(e,["contentType"]);return null!=i&&Ce(n,["contentType"],i),n}function gi(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["source"]);null!=i&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ce(t,["instances[0]","prompt"],r);const o=Ie(e,["image"]);void 0!==t&&null!=o&&Ce(t,["instances[0]","image"],ai(o));const i=Ie(e,["scribbleImage"]);void 0!==t&&null!=i&&Ce(t,["instances[0]","scribble"],function(e){const t={},n=Ie(e,["image"]);return null!=n&&Ce(t,["image"],ai(n)),t}(i))}(i,r);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["mode"]);void 0!==t&&null!=n&&Ce(t,["parameters","mode"],n);const r=Ie(e,["maxPredictions"]);void 0!==t&&null!=r&&Ce(t,["parameters","maxPredictions"],r);const o=Ie(e,["confidenceThreshold"]);void 0!==t&&null!=o&&Ce(t,["parameters","confidenceThreshold"],o);const i=Ie(e,["maskDilation"]);void 0!==t&&null!=i&&Ce(t,["parameters","maskDilation"],i);const l=Ie(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&Ce(t,["parameters","binaryColorThreshold"],l);const s=Ie(e,["labels"]);void 0!==t&&null!=s&&Ce(t,["labels"],s)}(l,r),r}function yi(e,t){const n={},r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ce(t,["mask"],li(n));const r=Ie(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["labels"],e)}return t}(e))),Ce(n,["generatedMasks"],e)}return n}function vi(e,t){const n={},r=Ie(e,["retrieval"]);null!=r&&Ce(n,["retrieval"],r);const o=Ie(e,["computerUse"]);if(null!=o&&Ce(n,["computerUse"],o),void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=Ie(e,["codeExecution"]);null!=i&&Ce(n,["codeExecution"],i);const l=Ie(e,["enterpriseWebSearch"]);null!=l&&Ce(n,["enterpriseWebSearch"],l);const s=Ie(e,["functionDeclarations"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ce(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["parameters"]);null!=o&&Ce(t,["parameters"],o);const i=Ie(e,["parametersJsonSchema"]);null!=i&&Ce(t,["parametersJsonSchema"],i);const l=Ie(e,["response"]);null!=l&&Ce(t,["response"],l);const s=Ie(e,["responseJsonSchema"]);if(null!=s&&Ce(t,["responseJsonSchema"],s),void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ce(n,["functionDeclarations"],e)}const a=Ie(e,["googleMaps"]);null!=a&&Ce(n,["googleMaps"],a);const u=Ie(e,["googleSearch"]);null!=u&&Ce(n,["googleSearch"],u);const c=Ie(e,["googleSearchRetrieval"]);null!=c&&Ce(n,["googleSearchRetrieval"],c);const d=Ie(e,["urlContext"]);return null!=d&&Ce(n,["urlContext"],d),n}function bi(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","name"],gr(e,o));const i=Ie(t,["config"]);return null!=i&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ce(t,["displayName"],n);const r=Ie(e,["description"]);void 0!==t&&null!=r&&Ce(t,["description"],r);const o=Ie(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&Ce(t,["defaultCheckpointId"],o)}(i,r),r}function Ei(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["config"]);return null!=i&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ce(t,["displayName"],n);const r=Ie(e,["description"]);void 0!==t&&null!=r&&Ce(t,["description"],r);const o=Ie(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&Ce(t,["defaultCheckpointId"],o)}(i,r),r}function Si(e,t,n){const r={},o=Ie(t,["model"]);null!=o&&Ce(r,["_url","model"],gr(e,o));const i=Ie(t,["image"]);null!=i&&Ce(r,["instances[0]","image"],ai(i));const l=Ie(t,["upscaleFactor"]);null!=l&&Ce(r,["parameters","upscaleConfig","upscaleFactor"],l);const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ce(t,["parameters","storageUri"],n);const r=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&Ce(t,["parameters","safetySetting"],r);const o=Ie(e,["personGeneration"]);void 0!==t&&null!=o&&Ce(t,["parameters","personGeneration"],o);const i=Ie(e,["includeRaiReason"]);void 0!==t&&null!=i&&Ce(t,["parameters","includeRaiReason"],i);const l=Ie(e,["outputMimeType"]);void 0!==t&&null!=l&&Ce(t,["parameters","outputOptions","mimeType"],l);const s=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=s&&Ce(t,["parameters","outputOptions","compressionQuality"],s);const a=Ie(e,["enhanceInputImage"]);void 0!==t&&null!=a&&Ce(t,["parameters","upscaleConfig","enhanceInputImage"],a);const u=Ie(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&Ce(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=Ie(e,["labels"]);void 0!==t&&null!=c&&Ce(t,["labels"],c);const d=Ie(e,["numberOfImages"]);void 0!==t&&null!=d&&Ce(t,["parameters","sampleCount"],d);const p=Ie(e,["mode"]);void 0!==t&&null!=p&&Ce(t,["parameters","mode"],p)}(s,r),r}function wi(e,t){const n={},r=Ie(e,["uri"]);null!=r&&Ce(n,["uri"],r);const o=Ie(e,["videoBytes"]);null!=o&&Ce(n,["encodedVideo"],jr(o));const i=Ie(e,["mimeType"]);return null!=i&&Ce(n,["encoding"],i),n}function _i(e,t){const n={},r=Ie(e,["uri"]);null!=r&&Ce(n,["gcsUri"],r);const o=Ie(e,["videoBytes"]);null!=o&&Ce(n,["bytesBase64Encoded"],jr(o));const i=Ie(e,["mimeType"]);return null!=i&&Ce(n,["mimeType"],i),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ti(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ce(t,["displayName"],n)}(n,t),t}function Ci(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["_url","name"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["force"]);void 0!==t&&null!=n&&Ce(t,["_query","force"],n)}(r,t),t}function Ii(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ce(t,["metadata"],r);const o=Ie(e,["done"]);null!=o&&Ce(t,["done"],o);const i=Ie(e,["error"]);null!=i&&Ce(t,["error"],i);const l=Ie(e,["response"]);return null!=l&&Ce(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ce(t,["parent"],r);const o=Ie(e,["documentName"]);null!=o&&Ce(t,["documentName"],o);return t}(l)),t}function Ai(e){const t={},n=Ie(e,["fileSearchStoreName"]);null!=n&&Ce(t,["_url","file_search_store_name"],n);const r=Ie(e,["fileName"]);null!=r&&Ce(t,["fileName"],r);const o=Ie(e,["config"]);return null!=o&&function(e,t){const n=Ie(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["customMetadata"],e)}const r=Ie(e,["chunkingConfig"]);void 0!==t&&null!=r&&Ce(t,["chunkingConfig"],r)}(o,t),t}function xi(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r)}(n,t),t}function ki(e,t){const n=Ie(e,["mimeType"]);void 0!==t&&null!=n&&Ce(t,["mimeType"],n);const r=Ie(e,["displayName"]);void 0!==t&&null!=r&&Ce(t,["displayName"],r);const o=Ie(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["customMetadata"],e)}const i=Ie(e,["chunkingConfig"]);return void 0!==t&&null!=i&&Ce(t,["chunkingConfig"],i),{}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Oi="x-goog-api-client",Ni=[408,429,500,502,503,504];class Ri{constructor(e){var t,n,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=null===(t=e.httpOptions)||void 0===t?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){this.clientOptions.location||this.clientOptions.apiKey||this.customBaseUrl||(this.clientOptions.location="global");if(!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const t=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!t?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||"global"===this.clientOptions.location?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta1"}else{if(!this.clientOptions.apiKey)throw new Io({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=null!==(r=this.clientOptions.apiVersion)&&void 0!==r?r:"v1beta",o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,t){return(!t.baseUrl||t.baseUrlResourceScope!==Mt.COLLECTION)&&(!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models")))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))r.searchParams.append(i,String(l));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"==typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch(i){return}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"==typeof e&&!Array.isArray(e)&&i&&"object"==typeof i&&!Array.isArray(i)?n[o]=r(i,e):n[o]=e}return n}const o=r(n,t);e.body=JSON.stringify(o)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Pi(e),new Hn(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Pi(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return bo(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const i="data:",l=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:s,value:a}=yield vo(n.read());if(s){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=r.decode(a,{stream:!0});try{const e=JSON.parse(u);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new Io({message:o,status:r})}}}catch(o){if("ApiError"===o.name)throw o}t+=u;let c=-1,d=0;for(;;){c=-1,d=0;for(const e of l){const n=t.indexOf(e);-1!==n&&(-1===c||n<c)&&(c=n,d=e.length)}if(-1===c)break;const n=t.substring(0,c);t=t.substring(c+d);const r=n.trim();if(r.startsWith(i)){const t=r.substring(i.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield vo(new Hn(n))}catch(o){throw new Error(`exception parsing stream chunk ${t}. ${o}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){var n;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,t);return ve(async()=>{const n=await fetch(e,t);if(n.ok)return n;if(Ni.includes(n.status))throw new Error(`Retryable HTTP Error: ${n.statusText}`);throw new me(`Non-retryable exception ${n.statusText} sending request`)},{retries:(null!==(n=this.clientOptions.httpOptions.retryOptions.attempts)&&void 0!==n?n:5)-1})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.41.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Oi]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const s={file:r},a=this.getFileName(e),u=Te("upload/v1beta/files",s._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,a,s,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),s=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const a=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&ki(n,c);const d=await this.fetchUploadUrl(a,l,s,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let s={};s=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const a=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:s});if(!a||!(null==a?void 0:a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==a?void 0:a.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Pi(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new Io({message:o,status:n})}throw new Error(o)}}function Di(e){for(const t of e){if(Li(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function Mi(e){var t;const n=null!==(t=e[Oi])&&void 0!==t?t:"";e[Oi]=(n+" mcp_used/unknown").trimStart()}function Li(e){return null!==e&&"object"==typeof e&&e instanceof ji}function Ui(e){return bo(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield vo(e.listTools({cursor:n}));for(const e of t.tools)yield yield vo(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class ji{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new ji(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var l,s=!0,a=(t=void 0,Eo(Ui(c)));!(e=(l=await a.next()).done);s=!0){r=l.value,s=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{s||e||!(n=a.return)||await n.call(a)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=zr(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let s=()=>{};const a=new Promise(e=>{s=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const r=new hr;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await a;const p={setup:{model:gr(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new qi(d,this.apiClient)}}class qi{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=Ie(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=Ie(e,["musicGenerationConfig"]);return null!=n&&Ce(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Un.PLAY)}pause(){this.sendPlaybackControl(Un.PAUSE)}stop(){this.sendPlaybackControl(Un.STOP)}resetContext(){this.sendPlaybackControl(Un.RESET_CONTEXT)}close(){this.conn.close()}}class Hi{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Fi(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Di(e.config.tools)&&Mi(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI()){const e=this.apiClient.getProject(),t=this.apiClient.getLocation(),n=this.apiClient.getApiKey(),r=!!e&&!!t||!!n;this.apiClient.getCustomBaseUrl()&&!r?u=s:(u=`${s}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u))}else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),u=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new fr;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=Mo(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=gr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();e&&t&&(v=`projects/${e}/locations/${t}/`+v)}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[St.AUDIO]}:e.config.responseModalities=[St.AUDIO]),null===(o=e.config)||void 0===o||o.generationConfig;const E=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const _ of E)if(this.isCallableTool(_)){const e=_;S.push(await e.tool())}else S.push(_);S.length>0&&(e.config.tools=S);const w={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["setup","model"],gr(e,r));const o=Ie(t,["config"]);return null!=o&&Ce(n,["config"],Ro(o,n)),n}(this.apiClient,w):function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["setup","model"],gr(e,r));const o=Ie(t,["config"]);return null!=o&&Ce(n,["config"],No(o,n)),n}(this.apiClient,w),delete b.config,y.send(JSON.stringify(b)),new zi(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Gi={turnComplete:!0};class zi{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=kr(t.turns),e.isVertexAI()||(r=r.map(e=>jo(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Gi),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Do(e)}:{realtimeInput:Po(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Vi(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const l of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Bi(l)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)}function Bi(e){return"callTool"in e&&"function"==typeof e.callTool}function $i(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Bi(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function Ji(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wi extends _e{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Bi(e)))&&void 0!==r&&r}(e)||Vi(e.config))return await this.generateContentInternal(l);const s=$i(e);if(s.length>0){const e=s.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let a,u;const c=kr(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(a=await this.generateContentInternal(l),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Bi(r)){const e=r,t=await e.callTool(a.functionCalls);n.push(...t)}p++,u={role:"user",parts:n},l.contents=kr(l.contents),l.contents.push(t),l.contents.push(u),Ji(l.config)&&(c.push(t),c.push(u))}return Ji(l.config)&&(a.automaticFunctionCallingHistory=c),a},this.generateContentStream=async e=>{var t,n,r,o,i;if(this.maybeMoveToResponseJsonSchem(e),Vi(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=$i(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const s=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,a=null===(i=null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(s&&!a)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new io(Fn.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(Bi(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Di(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),Mi(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Bi(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){return bo(this,arguments,function*(){for(var r,s,a,u,c,d;l<o;){i&&(l++,i=!1);const g=yield vo(e.processParamsMaybeAddMcpUsage(n)),y=yield vo(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,h=(s=void 0,Eo(y));!(r=(p=yield vo(h.next())).done);f=!0){u=p.value,f=!1;const e=u;if(yield yield vo(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield vo(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){s={error:m}}finally{try{f||r||!(a=h.return)||(yield vo(a.call(h)))}finally{if(s)throw s.error}}if(!(v.length>0))break;{i=!0;const e=new Gn;e.candidates=[{content:{role:"user",parts:v}}],yield yield vo(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=kr(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=Jo(this.apiClient,e);return l=Te("{model}:generateContent",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Yo(e),n=new Gn;return Object.assign(n,t),n})}{const t=$o(this.apiClient,e);return l=Te("{model}:generateContent",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Wo(e),n=new Gn;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=Jo(this.apiClient,e);l=Te("{model}:streamGenerateContent?alt=sse",r._url),s=r._query,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return bo(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,s=Eo(e);!(t=(i=yield vo(s.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Yo(yield vo(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gn;Object.assign(n,t),yield yield vo(n)}}catch(a){n={error:a}}finally{try{l||t||!(r=s.return)||(yield vo(r.call(s)))}finally{if(n)throw n.error}}})})}{const t=$o(this.apiClient,e);l=Te("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return bo(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,s=Eo(e);!(t=(i=yield vo(s.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Wo(yield vo(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gn;Object.assign(n,t),yield yield vo(n)}}catch(a){n={error:a}}finally{try{l||t||!(r=s.return)||(yield vo(r.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=zo(this.apiClient,e);return l=Te("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Uo(e))),Ce(t,["embeddings"],e)}const o=Ie(e,["metadata"]);return null!=o&&Ce(t,["metadata"],o),t}(e),n=new zn;return Object.assign(n,t),n})}{const t=Go(this.apiClient,e);return l=Te("{model}:batchEmbedContents",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["embeddings"],e)}const o=Ie(e,["metadata"]);return null!=o&&Ce(t,["metadata"],o),t}(e),n=new zn;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=Qo(this.apiClient,e);return l=Te("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ii(e))),Ce(t,["generatedImages"],e)}const o=Ie(e,["positivePromptSafetyAttributes"]);return null!=o&&Ce(t,["positivePromptSafetyAttributes"],mi(o)),t}(e),n=new Vn;return Object.assign(n,t),n})}{const t=Ko(this.apiClient,e);return l=Te("{model}:predict",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Xo(e),n=new Vn;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Ho(this.apiClient,e);return o=Te("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ii(e))),Ce(t,["generatedImages"],e)}return t}(e),n=new Bn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Si(this.apiClient,e);return o=Te("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ii(e))),Ce(t,["generatedImages"],e)}return t}(e),n=new $n;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=fi(this.apiClient,e);return o=Te("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ii(e))),Ce(t,["generatedImages"],e)}return t}(e),n=new Jn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=gi(this.apiClient,e);return o=Te("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=yi(e),n=new Wn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ce(n,["_url","name"],gr(e,r)),n}(this.apiClient,e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>pi(e))}{const t=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ce(n,["_url","name"],gr(e,r)),n}(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>di(e))}}async listInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=ci(this.apiClient,e);return l=Te("{models_url}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["_self"]);if(null!=o){let e=Hr(o);Array.isArray(e)&&(e=e.map(e=>pi(e))),Ce(t,["models"],e)}return t}(e),n=new Yn;return Object.assign(n,t),n})}{const t=ui(this.apiClient,e);return l=Te("{models_url}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["_self"]);if(null!=o){let e=Hr(o);Array.isArray(e)&&(e=e.map(e=>di(e))),Ce(t,["models"],e)}return t}(e),n=new Yn;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=Ei(this.apiClient,e);return l=Te("{model}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>pi(e))}{const t=bi(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>di(e))}}async delete(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ce(n,["_url","name"],gr(e,r)),n}(this.apiClient,e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new Kn;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ce(n,["_url","name"],gr(e,r)),n}(this.apiClient,e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new Kn;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["_url","model"],gr(e,r));const o=Ie(t,["contents"]);if(null!=o){let e=kr(o);Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["contents"],e)}const i=Ie(t,["config"]);return null!=i&&Fo(i,n),n}(this.apiClient,e);return l=Te("{model}:countTokens",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["totalTokens"]);return null!=r&&Ce(t,["totalTokens"],r),t}(e),n=new Qn;return Object.assign(n,t),n})}{const t=qo(this.apiClient,e);return l=Te("{model}:countTokens",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["totalTokens"]);null!=r&&Ce(t,["totalTokens"],r);const o=Ie(e,["cachedContentTokenCount"]);return null!=o&&Ce(t,["cachedContentTokenCount"],o),t}(e),n=new Qn;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["_url","model"],gr(e,r));const o=Ie(t,["contents"]);if(null!=o){let e=kr(o);Array.isArray(e)&&(e=e.map(e=>e)),Ce(n,["contents"],e)}return n}(this.apiClient,e);return o=Te("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["tokensInfo"],e)}return t}(e),n=new Xn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=oi(this.apiClient,e);return l=Te("{model}:predictLongRunning",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=ni(e),n=new Zn;return Object.assign(n,t),n})}{const t=ri(this.apiClient,e);return l=Te("{model}:predictLongRunning",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=ti(e),n=new Zn;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yi extends _e{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["operationName"]);return null!=n&&Ce(t,["_url","operationName"],n),t}(e);return l=Te("{operationName}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=Ie(e,["operationName"]);return null!=n&&Ce(t,["_url","operationName"],n),t}(e);return l=Te("{operationName}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=Ie(e,["operationName"]);null!=n&&Ce(t,["operationName"],n);const r=Ie(e,["resourceName"]);return null!=r&&Ce(t,["_url","resourceName"],r),t}(e);return o=Te("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ki(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ce(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ce(t,["codeExecutionResult"],r);const o=Ie(e,["executableCode"]);null!=o&&Ce(t,["executableCode"],o);const i=Ie(e,["fileData"]);null!=i&&Ce(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ce(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ce(t,["mimeType"],r);return t}(i));const l=Ie(e,["functionCall"]);null!=l&&Ce(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ce(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ce(t,["args"],r);const o=Ie(e,["name"]);null!=o&&Ce(t,["name"],o);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const s=Ie(e,["functionResponse"]);null!=s&&Ce(t,["functionResponse"],s);const a=Ie(e,["inlineData"]);null!=a&&Ce(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ce(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ce(t,["mimeType"],r),t}(a));const u=Ie(e,["text"]);null!=u&&Ce(t,["text"],u);const c=Ie(e,["thought"]);null!=c&&Ce(t,["thought"],c);const d=Ie(e,["thoughtSignature"]);null!=d&&Ce(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ce(t,["videoMetadata"],p);return t}(e))),Ce(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ce(t,["role"],r),t}function Qi(e,t,n){const r=Ie(t,["expireTime"]);void 0!==n&&null!=r&&Ce(n,["expireTime"],r);const o=Ie(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&Ce(n,["newSessionExpireTime"],o);const i=Ie(t,["uses"]);void 0!==n&&null!=i&&Ce(n,["uses"],i);const l=Ie(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&Ce(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ce(n,["setup","model"],gr(e,r));const o=Ie(t,["config"]);null!=o&&Ce(n,["config"],function(e,t){const n={},r=Ie(e,["generationConfig"]);void 0!==t&&null!=r&&Ce(t,["setup","generationConfig"],r);const o=Ie(e,["responseModalities"]);void 0!==t&&null!=o&&Ce(t,["setup","generationConfig","responseModalities"],o);const i=Ie(e,["temperature"]);void 0!==t&&null!=i&&Ce(t,["setup","generationConfig","temperature"],i);const l=Ie(e,["topP"]);void 0!==t&&null!=l&&Ce(t,["setup","generationConfig","topP"],l);const s=Ie(e,["topK"]);void 0!==t&&null!=s&&Ce(t,["setup","generationConfig","topK"],s);const a=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=a&&Ce(t,["setup","generationConfig","maxOutputTokens"],a);const u=Ie(e,["mediaResolution"]);void 0!==t&&null!=u&&Ce(t,["setup","generationConfig","mediaResolution"],u);const c=Ie(e,["seed"]);void 0!==t&&null!=c&&Ce(t,["setup","generationConfig","seed"],c);const d=Ie(e,["speechConfig"]);void 0!==t&&null!=d&&Ce(t,["setup","generationConfig","speechConfig"],Pr(d));const p=Ie(e,["thinkingConfig"]);void 0!==t&&null!=p&&Ce(t,["setup","generationConfig","thinkingConfig"],p);const f=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&Ce(t,["setup","generationConfig","enableAffectiveDialog"],f);const h=Ie(e,["systemInstruction"]);void 0!==t&&null!=h&&Ce(t,["setup","systemInstruction"],Ki(Ar(h)));const m=Ie(e,["tools"]);if(void 0!==t&&null!=m){let e=Mr(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ce(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ce(t,["fileSearch"],r);const o=Ie(e,["codeExecution"]);null!=o&&Ce(t,["codeExecution"],o);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=Ie(e,["functionDeclarations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["functionDeclarations"],e)}const l=Ie(e,["googleMaps"]);null!=l&&Ce(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ce(t,["enableWidget"],n);return t}(l));const s=Ie(e,["googleSearch"]);null!=s&&Ce(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ce(t,["timeRangeFilter"],n);return t}(s));const a=Ie(e,["googleSearchRetrieval"]);null!=a&&Ce(t,["googleSearchRetrieval"],a);const u=Ie(e,["urlContext"]);null!=u&&Ce(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Dr(e)))),Ce(t,["setup","tools"],e)}const g=Ie(e,["sessionResumption"]);void 0!==t&&null!=g&&Ce(t,["setup","sessionResumption"],function(e){const t={},n=Ie(e,["handle"]);null!=n&&Ce(t,["handle"],n);if(void 0!==Ie(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&Ce(t,["setup","inputAudioTranscription"],y);const v=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&Ce(t,["setup","outputAudioTranscription"],v);const b=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&Ce(t,["setup","realtimeInputConfig"],b);const E=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=E&&Ce(t,["setup","contextWindowCompression"],E);const S=Ie(e,["proactivity"]);void 0!==t&&null!=S&&Ce(t,["setup","proactivity"],S);if(void 0!==Ie(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(o,n));return n}(e,l));const s=Ie(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&Ce(n,["fieldMask"],s),{}}function Xi(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Zi extends _e{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=Ie(t,["config"]);return null!=r&&Ce(n,["config"],Qi(e,r,n)),n}(this.apiClient,e);o=Te("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const s=Xi(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function el(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["_url","name"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["force"]);void 0!==t&&null!=n&&Ce(t,["_query","force"],n)}(r,t),t}function tl(e){const t={},n=Ie(e,["parent"]);null!=n&&Ce(t,["_url","parent"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class nl extends _e{constructor(e){super(),this.apiClient=e,this.list=async e=>new io(Fn.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return o=Te("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=el(e);r=Te("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tl(e);return o=Te("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["documents"],e)}return t}(e),n=new or;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl extends _e{constructor(e,t=new nl(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new io(Fn.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ti(e);return o=Te("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return o=Te("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=Ci(e);r=Te("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xi(e);return o=Te("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["fileSearchStores"],e)}return t}(e),n=new ir;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Ie(e,["fileSearchStoreName"]);null!=n&&Ce(t,["_url","file_search_store_name"],n);const r=Ie(e,["config"]);return null!=r&&ki(r,t),t}(e);return o=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new lr;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ai(e);return o=Te("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Ii(e),n=new sr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ol=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return ol=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function il(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const ll=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sl extends Error{}class al extends sl{constructor(e,t,n,r){super(`${al.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new cl({message:n,cause:ll(t)});const o=t;return 400===e?new pl(e,o,n,r):401===e?new fl(e,o,n,r):403===e?new hl(e,o,n,r):404===e?new ml(e,o,n,r):409===e?new gl(e,o,n,r):422===e?new yl(e,o,n,r):429===e?new vl(e,o,n,r):e>=500?new bl(e,o,n,r):new al(e,o,n,r)}}class ul extends al{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class cl extends al{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class dl extends cl{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class pl extends al{}class fl extends al{}class hl extends al{}class ml extends al{}class gl extends al{}class yl extends al{}class vl extends al{}class bl extends al{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const El=/^[a-z][a-z0-9+.-]*:/i;let Sl=e=>(Sl=Array.isArray,Sl(e));const wl=Sl;const _l="0.0.1";const Tl=()=>{var e,t,n,r,o;const i="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_l,"X-Stainless-OS":Il(Deno.build.os),"X-Stainless-Arch":Cl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_l,"X-Stainless-OS":Il(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Cl(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(o=globalThis.process.version)&&void 0!==o?o:"unknown"};const l=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Cl=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Il=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Al;function xl(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function kl(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return xl({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Ol(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Nl=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Rl=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pl(e,t,n){return Rl(),new File(e,null!=t?t:"unknown_file",n)}const Dl=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ml(e){var t,n,r,o,i;let l=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Dl(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(i=null==e?void 0:e.constructor)||void 0===i?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e)}`)}try{for(var s,a=!0,u=Eo(e);!(t=(s=await u.next()).done);a=!0){o=s.value,a=!1;const e=o;l.push(...await Ml(e))}}catch(c){n={error:c}}finally{try{a||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return l}class Ll{constructor(e){this._client=e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Ul(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}Ll._key=[];const jl=Object.freeze(Object.create(null)),Fl=((e=Ul)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const o=[],i=t.reduce((t,i,l)=>{var s,a,u;/[?#]/.test(i)&&(r=!0);const c=n[l];let d=(r?encodeURIComponent:e)(""+c);return l!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(a=Object.getPrototypeOf(null!==(s=c.hasOwnProperty)&&void 0!==s?s:jl))&&void 0!==a?a:jl))||void 0===u?void 0:u.toString))&&(d=c+"",o.push({start:t.length+i.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+i+(l===n.length?"":d)},""),l=i.split(/[?#]/,1)[0],s=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let a;for(;null!==(a=s.exec(l));)o.push({start:a.index,length:a[0].length,error:`Value "${a[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0;const t=o.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new sl(`Path parameters result in path with invalid segments:\n${o.map(e=>e.error).join("\n")}\n${i}\n${t}`)}return i})(Ul);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ql extends Ll{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,o=go(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new sl("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new sl("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fl`/${r}/interactions`,Object.assign(Object.assign({body:o},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(Fl`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(Fl`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const o=null!=t?t:{},{api_version:i=this._client.apiVersion}=o,l=go(o,["api_version"]);return this._client.get(Fl`/${i}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}ql._key=Object.freeze(["interactions"]);class Hl extends ql{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gl,zl;function Vl(e){let t;return(null!=Gl?Gl:(t=new globalThis.TextEncoder,Gl=t.encode.bind(t)))(e)}function Bl(e){let t;return(null!=zl?zl:(t=new globalThis.TextDecoder,zl=t.decode.bind(t)))(e)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $l{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Vl(e):e;this.buffer=function(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=Jl(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(Bl(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=Bl(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function Jl(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function Wl(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */$l.NEWLINE_CHARS=new Set(["\n","\r"]),$l.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Yl={off:0,error:200,warn:300,info:400,debug:500},Kl=(e,t,n)=>{var r,o;if(e)return r=Yl,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void ts(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yl))}`)};function Ql(){}function Xl(e,t,n){return!t||Yl[e]>Yl[n]?Ql:t[e].bind(t)}const Zl={error:Ql,warn:Ql,info:Ql,debug:Ql};let es=new WeakMap;function ts(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return Zl;const o=es.get(n);if(o&&o[0]===r)return o[1];const i={error:Xl("error",n,r),warn:Xl("warn",n,r),info:Xl("info",n,r),debug:Xl("debug",n,r)};return es.set(n,[r,i]),i}const ns=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rs{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const o=n?ts(n):console;return new rs(function(){return bo(this,arguments,function*(){var n,i,l,s;if(r)throw new sl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var u,c=!0,d=Eo(function(e,t){return bo(this,arguments,function*(){var n,r,o,i;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new sl("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new sl("Attempted to iterate over a response with no body")}const l=new os,s=new $l,a=Ol(e.body);try{for(var u,c=!0,d=Eo(function(e){return bo(this,arguments,function*(){var t,n,r,o;let i=new Uint8Array;try{for(var l,s=!0,a=Eo(e);!(t=(l=yield vo(a.next())).done);s=!0){o=l.value,s=!1;const e=o;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Vl(e):e;let n,r=new Uint8Array(i.length+t.length);for(r.set(i),r.set(t,i.length),i=r;-1!==(n=Wl(i));)yield yield vo(i.slice(0,n)),i=i.slice(n)}}catch(u){n={error:u}}finally{try{s||t||!(r=a.return)||(yield vo(r.call(a)))}finally{if(n)throw n.error}}i.length>0&&(yield yield vo(i))})}(a));!(n=(u=yield vo(d.next())).done);c=!0){i=u.value,c=!1;const e=i;for(const t of s.decode(e)){const e=l.decode(t);e&&(yield yield vo(e))}}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield vo(o.call(d)))}finally{if(r)throw r.error}}for(const e of s.flush()){const t=l.decode(e);t&&(yield yield vo(t))}})}(e,t));!(n=(u=yield vo(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(!a)if(e.data.startsWith("[DONE]"))a=!0;else try{yield yield vo(JSON.parse(e.data))}catch(p){throw o.error("Could not parse message into JSON:",e.data),o.error("From chunk:",e.raw),p}}}catch(f){i={error:f}}finally{try{c||n||!(l=d.return)||(yield vo(l.call(d)))}finally{if(i)throw i.error}}a=!0}catch(p){if(il(p))return yield vo(void 0);throw p}finally{a||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new rs(function(){return bo(this,arguments,function*(){var n,o,i,l;if(r)throw new sl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var a,u=!0,c=Eo(function(){return bo(this,arguments,function*(){var t,n,r,o;const i=new $l,l=Ol(e);try{for(var s,a=!0,u=Eo(l);!(t=(s=yield vo(u.next())).done);a=!0){o=s.value,a=!1;const e=o;for(const t of i.decode(e))yield yield vo(t)}}catch(c){n={error:c}}finally{try{a||t||!(r=u.return)||(yield vo(r.call(u)))}finally{if(n)throw n.error}}for(const e of i.flush())yield yield vo(e)})}());!(n=(a=yield vo(c.next())).done);u=!0){l=a.value,u=!1;const e=l;s||e&&(yield yield vo(JSON.parse(e)))}}catch(d){o={error:d}}finally{try{u||n||!(i=c.return)||(yield vo(i.call(c)))}finally{if(o)throw o.error}}s=!0}catch(p){if(il(p))return yield vo(void 0);throw p}finally{s||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new rs(()=>r(e),this.controller,this.client),new rs(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return xl({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=Vl(JSON.stringify(n)+"\n");e.enqueue(o)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class os{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function is(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,l=await(async()=>{var r;if(t.options.stream)return ts(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):rs.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),i=null===(r=null==o?void 0:o.split(";")[0])||void 0===r?void 0:r.trim();if((null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))){if("0"===n.headers.get("content-length"))return;return await n.json()}return await n.text()})();return ts(e).debug(`[${r}] response parsed`,ns({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ls extends Promise{constructor(e,t,n=is){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new ls(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ss=Symbol("brand.privateNullableHeaders");function*as(e){if(!e)return;if(ss in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():wl(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=wl(r[1])?r[1]:[r[1]];let o=!1;for(const r of t)void 0!==r&&(n&&!o&&(o=!0,yield[e,null]),yield[e,r])}}const us=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of as(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[ss]:!0,values:t,nulls:n}},cs=e=>{var t,n,r,o,i,l;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=be)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(l=null===(i=null===(o=globalThis.Deno.env)||void 0===o?void 0:o.get)||void 0===i?void 0:i.call(o,e))||void 0===l?void 0:l.trim():void 0};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var ds;class ps{constructor(e){var t,n,r,o,i,l,s,{baseURL:a=cs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=cs("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=go(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:a||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:ps.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(i=null!==(o=Kl(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:Kl(cs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==i?i:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(l=p.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(s=p.fetch)&&void 0!==s?s:
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Nl,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=us([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?us([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?us([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new sl(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_l}`}defaultIdempotencyKey(){return`stainless-node-retry-${ol()}`}makeStatusError(e,t,n,r){return al.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,o=(e=>El.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=Object.assign(Object.assign({},i),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new ls(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o,i;const l=await e,s=null!==(r=l.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=s),await this.prepareOptions(l);const{req:a,url:u,timeout:c}=await this.buildRequest(l,{retryCount:s-t});await this.prepareRequest(a,{url:u,options:l});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(ts(this).debug(`[${d}] sending request`,ns({retryOfRequestLogID:n,method:l.method,url:u,options:l,headers:a.headers})),null===(o=l.signal)||void 0===o?void 0:o.aborted)throw new ul;const h=new AbortController,m=await this.fetchWithTimeout(u,a,c,h).catch(ll),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(i=l.signal)||void 0===i?void 0:i.aborted)throw new ul;const r=il(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return ts(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),ts(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,ns({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(l,t,null!=n?n:d);if(ts(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),ts(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,ns({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new dl;throw new cl({cause:m})}const y=`[${d}${p}] ${a.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(m.body),ts(this).info(`${y} - ${e}`),ts(this).debug(`[${d}] response error (${e})`,ns({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(l,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";ts(this).info(`${y} - ${r}`);const o=await m.text().catch(e=>ll(e).message),i=(e=>{try{return JSON.parse(e)}catch(t){return}})(o),s=i?void 0:o;ts(this).debug(`[${d}] response error (${r})`,ns({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:s,durationMs:Date.now()-f}));throw this.makeStatusError(m.status,i,s,m.headers)}return ts(this).info(y),ts(this).debug(`[${d}] response start`,ns({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:l,controller:h,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i,method:l}=o,s=go(o,["signal","method"]),a=this._makeAbort(r);i&&i.addEventListener("abort",a,{once:!0});const u=setTimeout(a,n),c=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||"object"==typeof s.body&&null!==s.body&&Symbol.asyncIterator in s.body,d=Object.assign(Object.assign(Object.assign({signal:r.signal},c?{duplex:"half"}:{}),{method:"GET"}),s);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){var o;let i;const l=null==r?void 0:r.get("retry-after-ms");if(l){const e=parseFloat(l);Number.isNaN(e)||(i=e)}const s=null==r?void 0:r.get("retry-after");if(s&&!i){const e=parseFloat(s);i=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}var a;return await(a=i,new Promise(e=>setTimeout(e,a))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,o;const i=Object.assign({},e),{method:l,path:s,query:a,defaultBaseURL:u}=i,c=this.buildURL(s,a,u);"timeout"in i&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new sl(`${e} must be an integer`);if(t<0)throw new sl(`${e} must be a positive integer`)})("timeout",i.timeout),i.timeout=null!==(n=i.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:i}),f=await this.buildHeaders({options:e,method:l,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:f},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(o=i.fetchOptions)&&void 0!==o?o:{}),url:c,timeout:i.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=await this.authHeaders(e);let l=us([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=Al?Al:Al=Tl()),this._options.defaultHeaders,n,e.headers,i]);return this.validateHeaders(l),l.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=us([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:kl(e)}:this.encoder({body:e,headers:n})}}ps.DEFAULT_TIMEOUT=6e4;class fs extends ps{constructor(){super(...arguments),this.interactions=new Hl(this)}}function hs(e,t){const n={},r=Ie(e,["baseModel"]);null!=r&&Ce(n,["baseModel"],r);const o=Ie(e,["preTunedModel"]);null!=o&&Ce(n,["preTunedModel"],o);const i=Ie(e,["trainingDataset"]);null!=i&&function(e){const t={};if(void 0!==Ie(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=Ie(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ce(t,["examples","examples"],e)}}(i);const l=Ie(e,["config"]);return null!=l&&function(e,t){const n={};if(void 0!==Ie(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=Ie(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&Ce(t,["displayName"],r),void 0!==Ie(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=Ie(e,["epochCount"]);void 0!==t&&null!=o&&Ce(t,["tuningTask","hyperparameters","epochCount"],o);const i=Ie(e,["learningRateMultiplier"]);if(null!=i&&Ce(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==Ie(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Ie(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==Ie(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");if(void 0!==Ie(e,["tuningMode"]))throw new Error("tuningMode parameter is not supported in Gemini API.");if(void 0!==Ie(e,["customBaseModel"]))throw new Error("customBaseModel parameter is not supported in Gemini API.");const l=Ie(e,["batchSize"]);void 0!==t&&null!=l&&Ce(t,["tuningTask","hyperparameters","batchSize"],l);const s=Ie(e,["learningRate"]);if(void 0!==t&&null!=s&&Ce(t,["tuningTask","hyperparameters","learningRate"],s),void 0!==Ie(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==Ie(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.");if(void 0!==Ie(e,["baseTeacherModel"]))throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(void 0!==Ie(e,["tunedTeacherModelSource"]))throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(void 0!==Ie(e,["sftLossWeightMultiplier"]))throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputUri"]))throw new Error("outputUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["encryptionSpec"]))throw new Error("encryptionSpec parameter is not supported in Gemini API.")}(l,n),n}function ms(e,t){const n={},r=Ie(e,["baseModel"]);null!=r&&Ce(n,["baseModel"],r);const o=Ie(e,["preTunedModel"]);null!=o&&Ce(n,["preTunedModel"],o);const i=Ie(e,["trainingDataset"]);null!=i&&function(e,t,n){const r={};let o=Ie(n,["config","method"]);void 0===o&&(o="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===o){const n=Ie(e,["gcsUri"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=Ie(e,["gcsUri"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}else if("DISTILLATION"===o){const n=Ie(e,["gcsUri"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","promptDatasetUri"],n)}let i=Ie(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=Ie(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=Ie(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}else if("DISTILLATION"===i){const n=Ie(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","promptDatasetUri"],n)}if(void 0!==Ie(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=Ie(e,["config"]);return null!=l&&function(e,t,n){let r=Ie(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=Ie(e,["validationDataset"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec"],Es(n))}else if("PREFERENCE_TUNING"===r){const n=Ie(e,["validationDataset"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec"],Es(n))}else if("DISTILLATION"===r){const n=Ie(e,["validationDataset"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec"],Es(n))}const o=Ie(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&Ce(t,["tunedModelDisplayName"],o);const i=Ie(e,["description"]);void 0!==t&&null!=i&&Ce(t,["description"],i);let l=Ie(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=Ie(e,["epochCount"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=Ie(e,["epochCount"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}else if("DISTILLATION"===l){const n=Ie(e,["epochCount"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","hyperParameters","epochCount"],n)}let s=Ie(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=Ie(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===s){const n=Ie(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}else if("DISTILLATION"===s){const n=Ie(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","hyperParameters","learningRateMultiplier"],n)}let a=Ie(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=Ie(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===a){const n=Ie(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}else if("DISTILLATION"===a){const n=Ie(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","exportLastCheckpointOnly"],n)}let u=Ie(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=Ie(e,["adapterSize"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=Ie(e,["adapterSize"]);void 0!==t&&null!=n&&Ce(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}else if("DISTILLATION"===u){const n=Ie(e,["adapterSize"]);void 0!==t&&null!=n&&Ce(t,["distillationSpec","hyperParameters","adapterSize"],n)}let c=Ie(n,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){const n=Ie(e,["tuningMode"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","tuningMode"],n)}const d=Ie(e,["customBaseModel"]);void 0!==t&&null!=d&&Ce(t,["customBaseModel"],d);let p=Ie(n,["config","method"]);if(void 0===p&&(p="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===p){const n=Ie(e,["batchSize"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","hyperParameters","batchSize"],n)}let f=Ie(n,["config","method"]);if(void 0===f&&(f="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===f){const n=Ie(e,["learningRate"]);void 0!==t&&null!=n&&Ce(t,["supervisedTuningSpec","hyperParameters","learningRate"],n)}const h=Ie(e,["labels"]);void 0!==t&&null!=h&&Ce(t,["labels"],h);const m=Ie(e,["beta"]);void 0!==t&&null!=m&&Ce(t,["preferenceOptimizationSpec","hyperParameters","beta"],m);const g=Ie(e,["baseTeacherModel"]);void 0!==t&&null!=g&&Ce(t,["distillationSpec","baseTeacherModel"],g);const y=Ie(e,["tunedTeacherModelSource"]);void 0!==t&&null!=y&&Ce(t,["distillationSpec","tunedTeacherModelSource"],y);const v=Ie(e,["sftLossWeightMultiplier"]);void 0!==t&&null!=v&&Ce(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],v);const b=Ie(e,["outputUri"]);void 0!==t&&null!=b&&Ce(t,["outputUri"],b);const E=Ie(e,["encryptionSpec"]);void 0!==t&&null!=E&&Ce(t,["encryptionSpec"],E)}(l,n,t),n}function gs(e,t){const n={},r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r);const o=Ie(e,["filter"]);void 0!==t&&null!=o&&Ce(t,["_query","filter"],o)}(r,n),n}function ys(e,t){const n={},r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ce(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ce(t,["_query","pageToken"],r);const o=Ie(e,["filter"]);void 0!==t&&null!=o&&Ce(t,["_query","filter"],o)}(r,n),n}function vs(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ce(n,["sdkHttpResponse"],r);const o=Ie(e,["name"]);null!=o&&Ce(n,["name"],o);const i=Ie(e,["state"]);null!=i&&Ce(n,["state"],Ur(i));const l=Ie(e,["createTime"]);null!=l&&Ce(n,["createTime"],l);const s=Ie(e,["tuningTask","startTime"]);null!=s&&Ce(n,["startTime"],s);const a=Ie(e,["tuningTask","completeTime"]);null!=a&&Ce(n,["endTime"],a);const u=Ie(e,["updateTime"]);null!=u&&Ce(n,["updateTime"],u);const c=Ie(e,["description"]);null!=c&&Ce(n,["description"],c);const d=Ie(e,["baseModel"]);null!=d&&Ce(n,["baseModel"],d);const p=Ie(e,["_self"]);return null!=p&&Ce(n,["tunedModel"],function(e){const t={},n=Ie(e,["name"]);null!=n&&Ce(t,["model"],n);const r=Ie(e,["name"]);return null!=r&&Ce(t,["endpoint"],r),t}(p)),n}function bs(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ce(n,["sdkHttpResponse"],r);const o=Ie(e,["name"]);null!=o&&Ce(n,["name"],o);const i=Ie(e,["state"]);null!=i&&Ce(n,["state"],Ur(i));const l=Ie(e,["createTime"]);null!=l&&Ce(n,["createTime"],l);const s=Ie(e,["startTime"]);null!=s&&Ce(n,["startTime"],s);const a=Ie(e,["endTime"]);null!=a&&Ce(n,["endTime"],a);const u=Ie(e,["updateTime"]);null!=u&&Ce(n,["updateTime"],u);const c=Ie(e,["error"]);null!=c&&Ce(n,["error"],c);const d=Ie(e,["description"]);null!=d&&Ce(n,["description"],d);const p=Ie(e,["baseModel"]);null!=p&&Ce(n,["baseModel"],p);const f=Ie(e,["tunedModel"]);null!=f&&Ce(n,["tunedModel"],f);const h=Ie(e,["preTunedModel"]);null!=h&&Ce(n,["preTunedModel"],h);const m=Ie(e,["supervisedTuningSpec"]);null!=m&&Ce(n,["supervisedTuningSpec"],m);const g=Ie(e,["preferenceOptimizationSpec"]);null!=g&&Ce(n,["preferenceOptimizationSpec"],g);const y=Ie(e,["distillationSpec"]);null!=y&&Ce(n,["distillationSpec"],y);const v=Ie(e,["tuningDataStats"]);null!=v&&Ce(n,["tuningDataStats"],v);const b=Ie(e,["encryptionSpec"]);null!=b&&Ce(n,["encryptionSpec"],b);const E=Ie(e,["partnerModelTuningSpec"]);null!=E&&Ce(n,["partnerModelTuningSpec"],E);const S=Ie(e,["customBaseModel"]);null!=S&&Ce(n,["customBaseModel"],S);const w=Ie(e,["experiment"]);null!=w&&Ce(n,["experiment"],w);const _=Ie(e,["labels"]);null!=_&&Ce(n,["labels"],_);const T=Ie(e,["outputUri"]);null!=T&&Ce(n,["outputUri"],T);const C=Ie(e,["pipelineJob"]);null!=C&&Ce(n,["pipelineJob"],C);const I=Ie(e,["serviceAccount"]);null!=I&&Ce(n,["serviceAccount"],I);const A=Ie(e,["tunedModelDisplayName"]);null!=A&&Ce(n,["tunedModelDisplayName"],A);const x=Ie(e,["veoTuningSpec"]);return null!=x&&Ce(n,["veoTuningSpec"],x),n}function Es(e,t){const n={},r=Ie(e,["gcsUri"]);null!=r&&Ce(n,["validationDatasetUri"],r);const o=Ie(e,["vertexDatasetResource"]);return null!=o&&Ce(n,["validationDatasetUri"],o),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */ds=fs,fs.GeminiNextGenAPIClient=ds,fs.GeminiNextGenAPIClientError=sl,fs.APIError=al,fs.APIConnectionError=cl,fs.APIConnectionTimeoutError=dl,fs.APIUserAbortError=ul,fs.NotFoundError=ml,fs.ConflictError=gl,fs.RateLimitError=vl,fs.BadRequestError=pl,fs.AuthenticationError=fl,fs.InternalServerError=bl,fs.PermissionDeniedError=hl,fs.UnprocessableEntityError=yl,fs.toFile=async function(e,t,n){if(Rl(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Dl(e))(e=await e))return e instanceof File?e:Pl([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Pl(await Ml(r),t,n)}const r=await Ml(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Pl(r,t,n)},fs.Interactions=Hl;class Ss extends _e{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new io(Fn.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:kt.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return l=Te("{name}",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>bs(e))}{const t=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return l=Te("{name}",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>vs(e))}}async listInternal(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=ys(e);return l=Te("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>bs(e))),Ce(t,["tuningJobs"],e)}return t}(e),n=new er;return Object.assign(n,t),n})}{const t=gs(e);return l=Te("tunedModels",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ce(t,["nextPageToken"],r);const o=Ie(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>vs(e))),Ce(t,["tuningJobs"],e)}return t}(e),n=new er;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i,l="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return l=Te("{name}:cancel",r._url),s=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new tr;return Object.assign(n,t),n})}{const t=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ce(t,["_url","name"],n),t}(e);return l=Te("{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ce(t,["sdkHttpResponse"],n),t}(e),n=new tr;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=ms(e,e);return o=Te("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>bs(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hs(e);return o=Te("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ce(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ce(t,["name"],r);const o=Ie(e,["metadata"]);null!=o&&Ce(t,["metadata"],o);const i=Ie(e,["done"]);null!=i&&Ce(t,["done"],i);const l=Ie(e,["error"]);return null!=l&&Ce(t,["error"],l),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _s="x-goog-upload-status";async function Ts(e,t,n){var r,o;let i=0,l=0,s=new Hn(new Response),a="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(a+=", finalize");let d=0,p=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[_s]));)d++,await Cs(p),p*=2;if(l+=u,"active"!==(null===(o=null==s?void 0:s.headers)||void 0===o?void 0:o[_s]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}function Cs(e){return new Promise(t=>setTimeout(t,e))}class Is{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Ts(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[_s]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await Ts(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[_s]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=Re(i),s=new mr;return Object.assign(s,l),s}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As{create(e,t,n){return new xs(e,t,n)}}class xs{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ks="x-goog-api-key";class Os{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(ks)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ks,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ns=new class{get interactions(){var e;if(void 0!==this._interactions)return this._interactions;const t=this.httpOptions;null==t||t.extraBody;const n=new fs({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==t?void 0:t.timeout,maxRetries:null===(e=null==t?void 0:t.retryOptions)||void 0===e?void 0:e.attempts});return this._interactions=n.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=we(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Os(this.apiKey);this.apiClient=new Ri({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new Is,downloader:new ws}),this.models=new Wi(this.apiClient),this.live=new Hi(this.apiClient,r,new As),this.batches=new lo(this.apiClient),this.chats=new To(this.models,this.apiClient),this.caches=new mo(this.apiClient),this.files=new xo(this.apiClient),this.operations=new Yi(this.apiClient),this.authTokens=new Zi(this.apiClient),this.tunings=new Ss(this.apiClient),this.fileSearchStores=new rl(this.apiClient)}}({apiKey:{}.API_KEY}),Rs=async(e,t="text")=>{const n=ce(new Date),r={type:Fe.OBJECT,properties:{schedules:{type:Fe.ARRAY,items:{type:Fe.OBJECT,properties:{title:{type:Fe.STRING,description:""},date:{type:Fe.STRING,description:" YYYY-MM-DD"},time:{type:Fe.STRING,description:" HH:mm"},allDay:{type:Fe.BOOLEAN,description:""},owner:{type:Fe.STRING,description:"/"},reminders:{type:Fe.ARRAY,items:{type:Fe.INTEGER},description:"10 10"}},required:["title","date"],propertyOrdering:["title","date","time","allDay","owner","reminders"]}}},required:["schedules"]},o=` ${n}\n ${"text"===t?"":""} \n\nX X  reminders \n JSON Schema `;try{let n;n="image"===t?{parts:[{inlineData:{mimeType:"image/jpeg",data:e.split(",")[1]}},{text:""}]}:{parts:[{text:e}]};const i=await Ns.models.generateContent({model:"gemini-3-flash-preview",contents:n,config:{systemInstruction:o,responseMimeType:"application/json",responseSchema:r}});return JSON.parse(i.text||"{}").schedules||[]}catch(i){throw i}},Ps=()=>{const e=localStorage.getItem(ae);if(!e||"[]"===e)return void alert("");const t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=`schedules_backup_${ce(new Date).replace(/-/g,"")}.json`,o=document.createElement("a");o.href=n,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)},Ds=()=>{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=2*(localStorage[t].length+t.length));return Math.min(100,e/5242880*100).toFixed(1)},Ms=()=>{confirm("")&&(localStorage.clear(),window.location.reload())},Ls=async()=>{if(!("Notification"in window))return"unsupported";if("granted"===Notification.permission)return"granted";const e=await Notification.requestPermission();return"denied"===e&&alert(""),e};var Us=(e=>(e.PARENT="parent",e.PARALLEL="parallel",e))(Us||{});const js=({target:e,allSchedules:t,onFocusNode:n})=>{const r=190,o=225,{nodes:i,links:l}=p.useMemo(()=>{const n=[],i=[],l={id:e.id,x:r,y:o,data:e,type:"focus"};n.push(l);const s=t.filter(t=>{var n;return null==(n=e.relations)?void 0:n.some(e=>e.id===t.id&&e.type===Us.PARENT)}),a=t.filter(t=>{var n;return null==(n=t.relations)?void 0:n.some(t=>t.id===e.id&&t.type===Us.PARENT)}),u=t.filter(t=>{var n;return null==(n=e.relations)?void 0:n.some(e=>e.id===t.id&&e.type===Us.PARALLEL)});return s.forEach((e,t)=>{const l=o+90*(t-(s.length-1)/2),a={id:e.id,x:60,y:l,data:e,type:"parent"};n.push(a),i.push({source:{x:60,y:l},target:{x:r,y:o},type:Us.PARENT})}),a.forEach((e,t)=>{const l=o+90*(t-(a.length-1)/2),s={id:e.id,x:320,y:l,data:e,type:"child"};n.push(s),i.push({source:{x:r,y:o},target:{x:320,y:l},type:"child-link"})}),u.forEach((e,t)=>{const l=r+(t%2==0?-40:40),s=o+(t<2?-120:120),a={id:e.id,x:l,y:s,data:e,type:"parallel"};n.push(a),i.push({source:{x:l,y:s},target:{x:r,y:o},type:Us.PARALLEL})}),{nodes:n,links:i}},[e,t,r,o]);return s.jsxs("div",{className:"relative w-full h-[450px] bg-slate-900/50 rounded-[3rem] overflow-hidden border border-white/5 shadow-inner",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500/10 via-transparent to-transparent opacity-50"}),s.jsxs("svg",{width:380,height:450,className:"relative z-10",children:[s.jsxs("defs",{children:[s.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),s.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),s.jsxs("linearGradient",{id:"lineGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"rgba(99, 102, 241, 0)"}),s.jsx("stop",{offset:"50%",stopColor:"rgba(99, 102, 241, 0.5)"}),s.jsx("stop",{offset:"100%",stopColor:"rgba(99, 102, 241, 0)"})]})]}),l.map((e,t)=>{const n=e.target.x-e.source.x,r=e.target.y-e.source.y,o=e.source.x+n/2,i=e.source.y+r/2+(Math.abs(n)>10?0:20),l=`M ${e.source.x} ${e.source.y} Q ${o} ${i} ${e.target.x} ${e.target.y}`;return s.jsxs("g",{children:[s.jsx("path",{d:l,fill:"none",stroke:"white",strokeOpacity:"0.1",strokeWidth:"1.5"}),s.jsx("path",{d:l,fill:"none",stroke:"rgb(99, 102, 241)",strokeWidth:"2",strokeDasharray:"10, 20",className:"animate-[dash_3s_linear_infinite]",children:s.jsx("animate",{attributeName:"stroke-dashoffset",from:"100",to:"0",dur:"3s",repeatCount:"indefinite"})})]},`link-${t}`)}),i.map(e=>s.jsx("foreignObject",{x:e.x-60,y:e.y-35,width:"120",height:"70",className:"overflow-visible",children:s.jsxs("div",{onClick:()=>n(e.data),className:`\n                w-full h-full rounded-2xl p-2 flex flex-col justify-center items-center text-center cursor-pointer transition-all duration-500\n                backdrop-blur-md border border-white/10\n                ${"focus"===e.type?"bg-indigo-600/30 border-indigo-500 ring-2 ring-indigo-500/50 shadow-[0_0_20px_rgba(99,102,241,0.4)] scale-110":"bg-white/5 hover:bg-white/15 hover:scale-105 active:scale-95"}\n              `,children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.data.owner&&s.jsx("div",{className:"w-4 h-4 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx("span",{className:"text-[6px] font-black text-white",children:e.data.owner[0]})}),s.jsx("span",{className:"text-[8px] font-black uppercase tracking-tighter "+("focus"===e.type?"text-indigo-200":"text-slate-400"),children:e.data.date.split("-").slice(1).join("/")})]}),s.jsx("p",{className:"text-[9px] font-black leading-tight line-clamp-2 "+("focus"===e.type?"text-white":"text-slate-300"),children:e.data.title}),"focus"!==e.type&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-indigo-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(L,{size:6})})]})},e.id))]}),s.jsx("style",{children:"\n        @keyframes dash {\n          to {\n            stroke-dashoffset: 0;\n          }\n        }\n      "})]})},Fs=({item:e,updateReminders:t})=>{const n=[{label:"",val:0},{label:"5",val:5},{label:"30",val:30},{label:"1",val:60},{label:"1",val:1440}],r=e.reminders||[],[o,i]=p.useState(!1),[l,a]=p.useState("0"),[u,c]=p.useState("0"),[d,f]=p.useState("0"),h=e=>{r.includes(e)?t(r.filter(t=>t!==e)):t([...r,e])},m=e=>{if(0===e)return"";const t=Math.floor(e/1440),n=Math.floor(e%1440/60),r=e%60;let o="";return t>0&&(o+=`${t}`),n>0&&(o+=`${n}`),r>0&&(o+=`${r}`),o+""};return s.jsxs("div",{className:"space-y-3 p-5 bg-indigo-50/40 border border-indigo-100 rounded-[2rem]",children:[s.jsx("div",{className:"flex justify-between items-center px-1",children:s.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx(j,{size:12})," "]})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[n.map(e=>s.jsx("button",{onClick:()=>h(e.val),className:"px-3 py-2 rounded-xl text-[9px] font-black border "+(r.includes(e.val)?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white text-slate-400 border-slate-100"),children:e.label},e.val)),r.filter(e=>!n.find(t=>t.val===e)).map(e=>s.jsx("button",{onClick:()=>h(e),className:"px-3 py-2 rounded-xl text-[9px] font-black bg-indigo-600 border border-indigo-600 text-white shadow-md",children:m(e)},e)),s.jsx("button",{onClick:()=>i(!o),className:"px-3 py-2 rounded-xl text-[9px] font-black border bg-slate-800 border-slate-800 text-white",children:"+"})]}),o&&s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-slate-100 space-y-3 animate-in zoom-in-95",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase ml-1",children:""}),s.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-100 rounded-lg px-2 py-2 text-center text-xs font-black",value:l,onChange:e=>a(e.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase ml-1",children:""}),s.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-100 rounded-lg px-2 py-2 text-center text-xs font-black",value:u,onChange:e=>c(e.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase ml-1",children:""}),s.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-100 rounded-lg px-2 py-2 text-center text-xs font-black",value:d,onChange:e=>f(e.target.value)})]})]}),s.jsx("button",{onClick:()=>{const e=1440*(parseInt(l)||0)+60*(parseInt(u)||0)+(parseInt(d)||0);e>=0&&(h(e),i(!1))},className:"w-full py-2.5 bg-indigo-600 text-white rounded-xl font-black text-[10px] shadow-lg",children:""})]})]})},qs=({item:e,allSchedules:t,updateItem:n})=>{var r;const[o,i]=p.useState(""),l=t.filter(t=>t.id!==e.id&&t.title.toLowerCase().includes(o.toLowerCase())).slice(0,4),a=(t,r)=>{const o=[...e.relations||[],{id:t,type:r}];n({relations:o}),i("")};return s.jsxs("div",{className:"space-y-3 p-5 bg-slate-50 border border-slate-100 rounded-[2rem]",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:[s.jsx(W,{size:12})," "]}),s.jsxs("div",{className:"relative",children:[s.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:12}),s.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-8 pr-3 py-2.5 text-[10px] font-bold outline-none",placeholder:"...",value:o,onChange:e=>i(e.target.value)})]}),o&&l.length>0&&s.jsx("div",{className:"space-y-1.5 animate-in fade-in",children:l.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-white border border-slate-100 rounded-xl shadow-sm",children:[s.jsx("span",{className:"text-[9px] font-bold truncate flex-1",children:e.title}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>a(e.id,Us.PARENT),className:"px-2 py-1 bg-indigo-600 text-white text-[7px] font-black rounded-lg",children:""}),s.jsx("button",{onClick:()=>a(e.id,Us.PARALLEL),className:"px-2 py-1 bg-slate-800 text-white text-[7px] font-black rounded-lg",children:""})]})]},e.id))}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:null==(r=e.relations)?void 0:r.map(r=>{const o=t.find(e=>e.id===r.id);return s.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-indigo-50 border border-indigo-100 rounded-full",children:[s.jsx("span",{className:"text-[7px] font-black px-1 py-0.5 rounded "+(r.type===Us.PARENT?"bg-indigo-600 text-white":"bg-slate-700 text-white"),children:r.type===Us.PARENT?"":""}),s.jsx("span",{className:"text-[8px] font-bold max-w-[60px] truncate",children:(null==o?void 0:o.title)||""}),s.jsx("button",{onClick:()=>{return t=r.id,void n({relations:e.relations.filter(e=>e.id!==t)});var t},className:"text-slate-400 hover:text-rose-500",children:s.jsx(te,{size:10})})]},r.id)})})]})},Hs=({item:e,updateItem:t,showAdvanceUser:n,onToggleAdvance:r})=>{const o=e.ownerContactType?e.ownerContactType.split(","):[];return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center px-1",children:[s.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx(re,{size:12})," "]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-1 text-[8px] font-black text-indigo-600 px-2 py-1 bg-indigo-50 rounded-full border border-indigo-100",children:[n?"":"",s.jsx(G,{size:10,className:n?"rotate-180":""})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-300",size:14}),s.jsx("input",{className:"w-full bg-slate-50 border border-slate-100 rounded-xl pl-10 pr-4 py-3 text-[10px] font-black outline-none",placeholder:" ()",value:e.owner,onChange:e=>t({owner:e.target.value})})]}),n&&s.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 border border-slate-100 rounded-[1.8rem] animate-in slide-in-from-top-4",children:[s.jsx("input",{className:"w-full bg-white border border-slate-100 rounded-xl px-3 py-2.5 text-[10px] outline-none",placeholder:"",value:e.ownerPhone,onChange:e=>t({ownerPhone:e.target.value})}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:["","QQ","","",""].map(e=>s.jsx("button",{onClick:()=>(e=>{let n=o.includes(e)?o.filter(t=>t!==e):[...o,e];t({ownerContactType:n.join(",")})})(e),className:"px-2.5 py-1.5 rounded-lg text-[8px] font-black border "+(o.includes(e)?"bg-indigo-600 border-indigo-600 text-white":"bg-white text-slate-400 border-slate-100"),children:e},e))})]})]})},Gs=({onClose:e})=>{const t=p.useRef(null),[n,r]=p.useState(Notification.permission);return s.jsx("div",{className:"fixed inset-0 bg-slate-900/70 z-[8000] flex items-center justify-center p-6 backdrop-blur-md animate-in zoom-in",children:s.jsxs("div",{className:"w-full max-w-sm bg-white rounded-[2.5rem] p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-5",children:[s.jsxs("h3",{className:"text-base font-black flex items-center gap-2",children:[s.jsx(Z,{size:20})," "]}),s.jsx("button",{onClick:e,className:"p-2 bg-slate-100 rounded-full",children:s.jsx(ie,{size:16})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-indigo-50 border border-indigo-100 rounded-2xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(j,{className:"text-indigo-600",size:18}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-800",children:""}),s.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase",children:"granted"===n?"":""})]})]}),s.jsx("button",{onClick:async()=>{const e=await Ls();r(e)},className:"px-4 py-2 rounded-xl text-[9px] font-black "+("granted"===n?"bg-slate-200 text-slate-400":"bg-indigo-600 text-white shadow-md"),children:"granted"===n?"":""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:Ps,className:"py-3 bg-white text-indigo-600 text-[9px] font-black rounded-xl flex flex-col items-center justify-center gap-1 border border-indigo-100 shadow-sm",children:[s.jsx(J,{size:16}),""]}),s.jsxs("button",{onClick:()=>{var e;null==(e=t.current)||e.click()},className:"py-3 bg-white text-slate-600 text-[9px] font-black rounded-xl flex flex-col items-center justify-center gap-1 border border-slate-100 shadow-sm",children:[s.jsx(ne,{size:16}),"",s.jsx("input",{type:"file",ref:t,onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];n&&(e=>{const t=new FileReader;t.onload=e=>{var t;try{const n=null==(t=e.target)?void 0:t.result,r=JSON.parse(n);if(!Array.isArray(r))throw new Error("");confirm("")&&(localStorage.setItem(ae,JSON.stringify(r)),window.location.reload())}catch(n){alert(`: ${n.message||""}`)}},t.onerror=()=>alert(""),t.readAsText(e)})(n)},className:"hidden",accept:".json"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{onClick:Ms,className:"w-full py-3 text-rose-500 text-[8px] font-black border border-rose-100 rounded-xl flex items-center justify-center gap-2 hover:bg-rose-50 transition-colors",children:[s.jsx(te,{size:12}),""]})})]}),s.jsx("button",{onClick:e,className:"w-full mt-6 py-4 bg-indigo-600 text-white rounded-[1.5rem] font-black shadow-lg text-sm active:scale-95",children:""}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-widest",children:[": ",Ds(),"%"]})})]})})},zs=({item:e,setItem:t,onSave:n,onDelete:r,onClose:o,onAiProcess:i,isProcessing:l,showAdvanceUser:a,setShowAdvanceUser:u,schedules:c})=>{const d=()=>{const n=(e=>{const t={};if(e.includes("")){const e=new Date;e.setDate(e.getDate()+1),t.date=ce(e)}else if(e.includes("")){const e=new Date;e.setDate(e.getDate()+2),t.date=ce(e)}const n=e.match(/(\d{1,2})[:](\d{1,2})?/);if(n){let r=parseInt(n[1]);const o=n[2]?parseInt(n[2]):0;e.includes("")&&r<12&&(r+=12),e.includes("")&&r<12&&(r+=12),t.time=`${String(r).padStart(2,"0")}:${String(o).padStart(2,"0")}`,t.allDay=!1}const r=e.match(/(\d+)(||)/);if(r){const e=parseInt(r[1]),n=r[2];let o=e;""===n&&(o=60*e),""===n&&(o=1440*e),t.reminders=[o]}return t})(e.title);Object.keys(n).length>0&&t({...e,...n})};return s.jsx("div",{className:"fixed inset-0 bg-slate-900/70 z-[4000] flex items-end backdrop-blur-sm animate-in fade-in",children:s.jsxs("div",{className:"w-full bg-white rounded-t-[2.5rem] p-6 pb-8 space-y-4 max-h-[92vh] overflow-y-auto scrollbar-hide relative shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center px-1",children:[s.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:""}),s.jsx("button",{onClick:o,className:"p-2 bg-slate-100 rounded-full",children:s.jsx(ie,{size:16})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-100 rounded-2xl px-5 py-4 text-xs font-black outline-none focus:border-indigo-600 resize-none pr-12",rows:2,value:e.title,onChange:n=>t({...e,title:n.target.value}),onBlur:d,placeholder:"210"}),s.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[s.jsx("button",{onClick:d,className:"p-2 bg-emerald-50 text-emerald-600 rounded-xl shadow-sm active:scale-90 border border-emerald-100",title:"",children:s.jsx(ee,{size:12})}),s.jsx("button",{onClick:()=>i(e.title,"text",!0),disabled:l,className:"p-2 bg-indigo-600 text-white rounded-xl shadow-lg active:scale-90",title:"AI ",children:l?s.jsx(Y,{size:12,className:"animate-spin"}):s.jsx(oe,{size:12})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:14,className:"text-indigo-600"}),s.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase",children:""})]}),s.jsx("button",{onClick:()=>t({...e,allDay:!e.allDay}),className:"w-10 h-5 rounded-full transition-all relative "+(e.allDay?"bg-indigo-600":"bg-slate-300"),children:s.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all shadow-sm "+(e.allDay?"right-0.5":"left-0.5")})})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 px-1",children:[s.jsx("label",{className:"text-[8px] font-black text-indigo-600 uppercase",children:""}),s.jsx("input",{type:"date",className:"w-full bg-slate-50 border border-slate-100 rounded-xl px-4 py-3 text-[11px] font-black focus:border-indigo-500 outline-none",value:e.date,onChange:n=>t({...e,date:n.target.value})})]}),!e.allDay&&s.jsxs("div",{className:"flex flex-col gap-1.5 px-1 animate-in slide-in-from-top-2",children:[s.jsx("label",{className:"text-[8px] font-black text-indigo-600 uppercase",children:""}),s.jsx("input",{type:"time",className:"w-full bg-slate-50 border border-slate-100 rounded-xl px-4 py-3 text-[11px] font-black focus:border-indigo-500 outline-none",value:e.time,onChange:n=>t({...e,time:n.target.value})})]})]})]}),s.jsx(qs,{item:e,allSchedules:c,updateItem:n=>t({...e,...n})}),s.jsx(Fs,{item:e,updateReminders:n=>t({...e,reminders:n})}),s.jsx(Hs,{item:e,updateItem:n=>t({...e,...n}),showAdvanceUser:a,onToggleAdvance:()=>u(!a)}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("button",{onClick:n,className:"w-full py-5 bg-indigo-600 text-white font-black rounded-[1.8rem] text-sm shadow-xl active:scale-95 transition-transform",children:""}),s.jsx("button",{onClick:r,className:"w-full py-2 text-rose-500 text-[9px] font-black uppercase tracking-widest text-center",children:""})]})]})})},Vs=({target:e,aiText:t,isAnalyzing:n,onClose:r,schedules:o,onFocus:i,setEditing:l,setViewDate:a,setActiveTab:u})=>{const[c,d]=p.useState(""),[f,h]=p.useState([]),[m,g]=p.useState(!1),y=async()=>{if(!c||m)return;const t=c;d(""),h(e=>[...e,{role:"user",text:t}]),g(!0);try{const n=await(async(e,t,n)=>{const r=`\n${n.map(e=>`- ${e.date} ${e.title} (: ${e.owner})`).join("\n")}\n\n${t.title}\n\n${e}\n\n`;try{return(await Ns.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text||"AI "}catch(o){return"AI "}})(t,e,o);h(e=>[...e,{role:"ai",text:n}])}catch(n){h(e=>[...e,{role:"ai",text:"AI ..."}])}finally{g(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-slate-950 z-[9000] flex flex-col p-6 overflow-y-auto scrollbar-hide animate-in slide-in-from-bottom-10",children:s.jsxs("div",{className:"max-w-md mx-auto w-full space-y-5 pb-24",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl",children:s.jsx(F,{className:"text-white",size:20})}),s.jsx("h3",{className:"text-white text-base font-black uppercase italic",children:"Logic Pulse"})]}),s.jsx("button",{onClick:r,className:"p-2.5 bg-slate-900 text-slate-400 rounded-xl",children:s.jsx(ie,{size:18})})]}),s.jsx(js,{target:e,allSchedules:o,onFocusNode:i}),s.jsxs("div",{className:"p-5 bg-white/5 border border-white/10 rounded-[2rem] space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse"}),s.jsx("span",{className:"text-indigo-400 text-[8px] font-black uppercase tracking-widest",children:""})]}),s.jsx("p",{className:"text-slate-300 text-[10px] font-bold leading-relaxed",children:n?"...":t})]}),s.jsxs("div",{className:"space-y-3",children:[f.map((e,t)=>s.jsx("div",{className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:s.jsx("div",{className:"max-w-[85%] p-3.5 rounded-2xl text-[9px] font-bold "+("user"===e.role?"bg-indigo-600 text-white":"bg-white/10 text-slate-300 border border-white/10"),children:e.text})},t)),m&&s.jsx("div",{className:"text-indigo-400 text-[8px] font-black animate-pulse",children:"AI ..."})]}),s.jsx("div",{className:"fixed bottom-8 left-6 right-6 max-w-md mx-auto z-[9001]",children:s.jsxs("div",{className:"flex gap-2 bg-slate-900/80 backdrop-blur-xl p-2.5 rounded-[1.8rem] border border-white/10 shadow-2xl",children:[s.jsx("input",{className:"flex-1 bg-transparent border-none text-white text-[10px] font-bold px-3 outline-none",placeholder:" AI...",value:c,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&y()}),s.jsx("button",{onClick:y,disabled:m,className:"p-3 bg-indigo-600 text-white rounded-full active:scale-90 transition-transform",children:s.jsx(X,{size:16})})]})})]})})},Bs=()=>{const[e,t]=p.useState("widget"),[n,r]=p.useState(()=>{const e=localStorage.getItem(ae);return e?JSON.parse(e):[]}),[o,i]=p.useState(()=>{const e=localStorage.getItem("smart_flow_v14_week_config");return e?JSON.parse(e):{baseDate:ce(new Date),baseWeek:1}}),[l,a]=p.useState(!1),[u,c]=p.useState([]),[d,f]=p.useState(null),[h,m]=p.useState(new Date),[g,y]=p.useState({show:!1,message:""}),[v,b]=p.useState(null),[E,S]=p.useState(""),[w,_]=p.useState(!1),[T,C]=p.useState(!1),[I,A]=p.useState(!1),x=p.useRef(new Set),k=p.useMemo(()=>ce(new Date),[h]),O=p.useRef(n);p.useEffect(()=>{O.current=n},[n]),p.useEffect(()=>{Ls()},[]),p.useEffect(()=>{(e=>{localStorage.setItem(ae,JSON.stringify(e));const t=localStorage.getItem(ue);let n=t?JSON.parse(t):[];const r=ce(new Date);if(e.length>0&&!n.find(e=>e.date===r)){const t=[{date:r,timestamp:Date.now(),data:e},...n].slice(0,7);localStorage.setItem(ue,JSON.stringify(t))}})(n)},[n]),p.useEffect(()=>{const e=setInterval(()=>{((e,t,n)=>{const r=Date.now();e.forEach(e=>{if(!e.reminders||0===e.reminders.length||e.completed)return;const o=e.allDay?"09:00":e.time||"09:00",i=new Date(`${e.date}T${o}`).getTime();isNaN(i)||e.reminders.forEach(o=>{const l=i-60*o*1e3,s=`${e.id}-${o}`;if(r>=l&&!t.has(s))if(r-l<3e5){const t=`: ${e.title}`,r=`[${e.title}]  (: ${o})`;n(t,r,s)}else t.add(s)})})})(O.current,x.current,(e,t,n)=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/favicon.ico"}),"vibrate"in navigator&&navigator.vibrate([500,110,500]),new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(e=>{}),N(e),setTimeout(()=>{alert(`${e}\n\n${t}`)},500),x.current.add(n)})},2e4);return()=>clearInterval(e)},[]);const N=e=>{y({show:!0,message:e}),setTimeout(()=>y({show:!1,message:""}),5e3)},R=async(e,t="text",n=!1)=>{a(!0);try{if(n&&d){const n=await(async(e,t,n="text")=>{const r=await Rs(t,n);if(0===r.length)return e;const o=r[0];return{...e,owner:o.owner||e.owner,ownerDept:o.ownerDept||e.ownerDept,ownerPhone:o.ownerPhone||e.ownerPhone,ownerEmail:o.ownerEmail||e.ownerEmail,reminders:Array.from(new Set([...e.reminders||[],...o.reminders||[]]))}})(d,e,t);f(n),N("AI ")}else{const n=await(async(e,t,n)=>(await Rs(e,t)).map(e=>({id:Math.random().toString(36).substring(2,9),title:e.title||"",originalTitle:e.title||"",date:e.date||n,time:e.time||"09:00",allDay:e.allDay??!0,owner:e.owner||"",ownerDept:e.ownerDept||"",ownerPhone:e.ownerPhone||"",ownerEmail:e.ownerEmail||"",ownerContactType:"",completed:!1,relations:[],selectedFragments:[],reminders:e.reminders||[]})))(e,t,k);c(n),N(`${n.length}`)}}catch(r){N("AI ")}finally{a(!1)}},P=async e=>{if(e){b(e),_(!0);try{const t=await(async(e,t)=>{const n=t.filter(t=>{var n;return null==(n=e.relations)?void 0:n.some(e=>e.id===t.id&&"parent"===e.type)}),r=t.filter(t=>{var n;return null==(n=t.relations)?void 0:n.some(t=>t.id===e.id&&"parent"===t.type)}),o=`${e.title}${n.map(e=>e.title).join(", ")}${r.map(e=>e.title).join(", ")}`;try{return(await Ns.models.generateContent({model:"gemini-3-flash-preview",contents:o})).text||""}catch(i){return"AI "}})(e,n);S(t)}catch(t){S("")}finally{_(!1)}}},D=p.useMemo(()=>{const e=[];for(let t=0;t<4;t++){const n=new Date(h);n.setDate(n.getDate()+t);const r=ce(n);e.push({date:r,dayName:r===k?"":n.toLocaleDateString("zh-CN",{weekday:"short"}),dayNum:n.getDate(),month:n.getMonth()+1,isToday:r===k})}return e},[h,k]);return s.jsx("div",{className:"h-screen w-screen bg-white antialiased flex flex-col overflow-hidden",children:s.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[g.show&&s.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-[5000] bg-slate-900 text-white px-5 py-3 rounded-full shadow-2xl flex items-center gap-3 animate-in fade-in slide-in-from-top-4 w-[90%] max-w-sm",children:[s.jsx(U,{size:16,className:"text-indigo-400 shrink-0"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-[10px] font-black uppercase tracking-wider line-clamp-2",children:g.message})})]}),s.jsxs("div",{className:"bg-white pt-12 px-6 pb-2 border-b border-slate-100 shrink-0",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl shadow-lg",children:s.jsx(le,{size:20,className:"text-white",fill:"white"})}),s.jsx("h1",{className:"text-sm font-black text-slate-800 tracking-tight",children:"Smart Flow"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>m(new Date),className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-[9px] font-black uppercase shadow-sm",children:"Today"}),s.jsxs("div",{className:"flex bg-slate-100 p-0.5 rounded-full",children:[s.jsx("button",{onClick:()=>{const e=new Date(h);e.setDate(e.getDate()-4),m(e)},className:"p-1.5",children:s.jsx(z,{size:14})}),s.jsx("button",{onClick:()=>{const e=new Date(h);e.setDate(e.getDate()+4),m(e)},className:"p-1.5",children:s.jsx(V,{size:14})})]}),s.jsx("button",{onClick:()=>C(!0),className:"p-2 bg-slate-900 text-white rounded-full active:scale-95",children:s.jsx(Z,{size:12})})]})]}),s.jsxs("div",{className:"flex items-end",children:[s.jsxs("div",{className:"w-10 text-[10px] font-black text-indigo-600 pb-2",children:[D[0].month,""]}),D.map(e=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("span",{className:`text-[8px] font-black ${e.isToday?"text-indigo-600":"text-slate-400"} uppercase`,children:e.dayName}),s.jsx("span",{className:"text-sm font-black "+(e.isToday?"text-indigo-600":"text-slate-800"),children:e.dayNum})]},e.date))]})]}),s.jsx("div",{className:"flex-1 overflow-hidden relative",children:"widget"===e?s.jsxs("div",{className:"h-full overflow-y-auto scrollbar-hide flex bg-white",children:[s.jsxs("div",{className:"w-10 border-r border-slate-50 bg-slate-50/20",children:[s.jsx("div",{className:"h-10 border-b border-slate-100 flex items-center justify-center",children:s.jsx("span",{className:"text-[6px] font-black text-slate-400 vertical-text uppercase",children:"ALL DAY"})}),se.map(e=>s.jsx("div",{className:"h-14 border-b border-slate-50 relative",children:s.jsxs("span",{className:"absolute right-0.5 top-0.5 text-[7px] font-bold text-slate-300",children:[e,":00"]})},e))]}),s.jsx("div",{className:"flex-1 flex",children:D.map(e=>s.jsxs("div",{className:"flex-1 border-r border-slate-50 relative min-w-[20%]",children:[s.jsx("div",{className:"h-10 border-b border-slate-100 bg-slate-50/30 p-[1px] space-y-[1px]",children:n.filter(t=>t.date===e.date&&t.allDay).map(e=>s.jsx("div",{onClick:()=>f(e),className:"w-full rounded-sm px-1 py-0.5 text-[6.5px] font-black text-white truncate bg-emerald-500 shadow-sm cursor-pointer",children:e.title},e.id))}),n.filter(t=>t.date===e.date&&!t.allDay).map(e=>{var t;const n=parseInt(null==(t=e.time)?void 0:t.split(":")[0]),r=56*(isNaN(n)?0:Math.max(0,n-8))+40;return s.jsx("div",{onClick:()=>f(e),style:{top:`${r}px`},className:"absolute left-[1px] right-[1px] h-[20px] rounded p-1 text-[6.5px] font-bold text-white truncate z-10 bg-indigo-600 shadow-sm cursor-pointer",children:e.title},e.id)})]},e.date))})]}):s.jsx("div",{className:"h-full px-6 py-6 overflow-y-auto bg-white scrollbar-hide",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[s.jsx(Y,{className:"animate-spin text-indigo-600",size:40}),s.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest animate-pulse",children:"Cognitive Analysis..."})]}):u.length>0?s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 pb-20",children:[u.map(e=>s.jsxs("div",{className:"p-5 rounded-[2rem] border-2 border-indigo-100 bg-indigo-50/20 shadow-lg space-y-4",children:[s.jsx("textarea",{rows:2,className:"w-full bg-transparent text-xs font-black outline-none",value:e.title,onChange:t=>c(n=>n.map(n=>n.id===e.id?{...n,title:t.target.value}:n))}),s.jsx(Fs,{item:e,updateReminders:t=>c(n=>n.map(n=>n.id===e.id?{...n,reminders:t}:n))}),s.jsx(Hs,{item:e,updateItem:t=>c(n=>n.map(n=>n.id===e.id?{...n,...t}:n)),showAdvanceUser:!1,onToggleAdvance:()=>{}})]},e.id)),s.jsx("button",{onClick:()=>{r(e=>[...e,...u]),t("widget"),c([])},className:"w-full py-4 bg-indigo-600 text-white font-black rounded-[1.5rem] shadow-xl text-sm",children:""})]}):s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsxs("label",{className:"flex flex-col items-center justify-center border-4 border-dashed border-slate-100 rounded-[3rem] h-48 cursor-pointer hover:bg-slate-50 transition-all group shadow-sm",children:[s.jsx(H,{size:28,className:"text-indigo-600 mb-3 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-widest",children:""}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{var t;if(null==(t=e.target.files)?void 0:t[0]){const t=new FileReader;t.onload=e=>{var t;return R(null==(t=e.target)?void 0:t.result,"image")},t.readAsDataURL(e.target.files[0])}}})]}),s.jsxs("button",{onClick:async()=>{try{const e=await navigator.clipboard.readText();e&&R(e,"text")}catch(e){N("")}},className:"w-full py-5 bg-indigo-50 text-indigo-700 rounded-[1.5rem] font-black text-[10px] flex justify-center gap-2 shadow-sm border border-indigo-100",children:[s.jsx(B,{size:18}),"  AI "]}),s.jsxs("button",{onClick:()=>f({id:Math.random().toString(36).substring(2,9),title:"",originalTitle:"",date:k,time:"09:00",allDay:!0,owner:"",completed:!1,relations:[],selectedFragments:[],reminders:[]}),className:"w-full py-5 bg-slate-900 text-white rounded-[1.5rem] text-[10px] font-black flex justify-center gap-2 shadow-lg",children:[s.jsx(K,{size:16})," "]})]})})}),s.jsxs("div",{className:"h-20 bg-white border-t border-slate-100 flex justify-around items-center px-6 shrink-0 z-[1000] pb-2",children:[s.jsx("button",{onClick:()=>t("widget"),className:"p-2 transition-all "+("widget"===e?"text-indigo-600 scale-110":"text-slate-300"),children:s.jsx(q,{size:22})}),s.jsx("button",{onClick:()=>t("upload"),className:"w-14 h-14 bg-indigo-600 rounded-[1.8rem] flex items-center justify-center text-white shadow-xl -mt-10 border-[6px] border-white active:scale-90 transition-all",children:s.jsx(K,{size:28})}),s.jsx("button",{onClick:()=>n.length>0?P(n[0]):N(""),className:"p-2 transition-all "+(v?"text-indigo-600 scale-110":"text-slate-300"),children:s.jsx(ee,{size:22})})]}),T&&s.jsx(Gs,{onClose:()=>C(!1)}),d&&s.jsx(zs,{item:d,setItem:f,isProcessing:l,showAdvanceUser:I,setShowAdvanceUser:A,schedules:n,onSave:()=>{r(e=>e.some(e=>e.id===d.id)?e.map(e=>e.id===d.id?d:e):[...e,d]),f(null),t("widget"),N("")},onDelete:()=>{r(e=>e.filter(e=>e.id!==d.id)),f(null),N("")},onClose:()=>f(null),onAiProcess:R}),v&&s.jsx(Vs,{target:v,aiText:E,isAnalyzing:w,schedules:n,onClose:()=>b(null),onFocus:P,setEditing:f,setViewDate:m,setActiveTab:t})]})})},$s=document.getElementById("root");if(!$s)throw new Error("Could not find root element to mount to");k.createRoot($s).render(s.jsx(f.StrictMode,{children:s.jsx(Bs,{})}));
